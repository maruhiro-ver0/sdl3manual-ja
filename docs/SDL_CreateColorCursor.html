<!DOCTYPE html>
<html lang="ja-JP">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="keywords" content="Simple Directmedia Layer SDL3.0">
<link rel="top" href="index.html" title="ホーム">
<link rel="parent" href="CategoryMouse.html" title="1つ上">
<title>SDL_CreateColorCursor</title>
</head>
<body>
<a href="index.html">目次</a> - <a href="ApiByCategory.html">SDL 3.0 API(機能別)</a> - <a href="CategoryMouse.html">マウス</a> - SDL_CreateColorCursor
<hr>
<h1>SDL_CreateColorCursor</h1>
色つきのマウスカーソルを生成する
<h2>ヘッダ</h2>
<a href="https://github.com/libsdl-org/SDL/blob/main/include/SDL3/SDL_mouse.h">SDL3/SDL_mouse.h</a>
<h2>構文</h2>
<code>SDL_Cursor * SDL_CreateColorCursor(SDL_Surface *surface, int hot_x, int hot_y);</code>
<h2>引数</h2>
<table border="1">
<tr><td><a href="SDL_Surface.html">SDL_Surface</a> *</td><td>surface</td><td>カーソルの画像の<a href="SDL_Surface.html">SDL_Surface</a></td></tr>
<tr><td>int</td><td>hot_x</td><td>カーソルの照準のX座標</td></tr>
<tr><td>int</td><td>hot_y</td><td>カーソルの照準のY座標</td></tr>
</table>
<h2>戻り値</h2>
<p>
(<a href="SDL_Cursor.html">SDL_Cursor</a> *) 成功のとき新しく生成されたカーソル, 失敗のときNULLを戻す.
<a href="SDL_GetError.html">SDL_GetError()</a>で詳細を知ることができる.
</p>
<h2>詳細</h2>
<p>
この関数に<a href="SDL_AddSurfaceAlternateImage.html">SDL_AddSurfaceAlternateImage()</a>で別バージョンのサーフェイスを追加したサーフェイスを渡した場合,
<a href="SDL_HINT_MOUSE_DPI_SCALE_CURSORS.html">SDL_HINT_MOUSE_DPI_SCALE_CURSORS</a>が有効ならば, 
サーフェイスの画像はディスプレイの拡大率が100%の場合に使用され, 
別バージョンのサーフェースは高DPIの場合に使用される.
例えば, 元のサーフェイスが32×32の場合, macOSの2倍やWindowsの200%ならば, 可能ならば64×64の画像が使用される.
合う画像がない場合は, 代わりに可能ならば最も近い大きな画像を縮小して使用する.
それがなければ, 最も近い小さな画像を拡大して使用する.
</p>
<h2>スレッドセーフ</h2>
<p>
この関数を呼べるのはメインスレッドのみである.
</p>
<h2>バージョン</h2>
SDL 3.2.0以降
<h2>サンプルコード</h2>
<code>
<pre>
#include <SDL3/SDL.h>

int
main(int argc, char *argv[])
{
    SDL_Window *window = NULL;
    SDL_Renderer *renderer = NULL;
    SDL_Surface *surface = NULL;
    SDL_Cursor *cursor = NULL;
    bool error = true;

    if (!SDL_Init(SDL_INIT_VIDEO)) {
        goto exit;
    }
    if (!SDL_CreateWindowAndRenderer("Hello SDL", 640, 480, 0, &window, &renderer)) {
        goto exit;
    }
    surface = SDL_LoadBMP((1 &lt; argc) ? argv[1] : "cursor.bmp");
    if (!surface) {
        goto exit;
    }
    cursor = SDL_CreateColorCursor(surface, 0, 0);
    if (!cursor) {
        goto exit;
    }

    SDL_SetCursor(cursor);
    SDL_SetRenderDrawColor(renderer, 255, 0, 0, 255);
    while (true) {
        SDL_Event event;
        while (SDL_PollEvent(&event)) {
            switch (event.type) {
            case SDL_EVENT_MOUSE_BUTTON_UP:
            case SDL_EVENT_QUIT:
                error = false;
                goto exit;
            }
        }
        SDL_RenderClear(renderer);
        SDL_RenderPresent(renderer);
    }

exit:
    if (error) {
        SDL_LogError(SDL_LOG_CATEGORY_APPLICATION, "%s", SDL_GetError());
    }
    if (cursor) {
        SDL_DestroyCursor(cursor);
    }
    if (surface) {
        SDL_DestroySurface(surface);
    }
    if (renderer) {
        SDL_DestroyRenderer(renderer);
    }
    if (window) {
        SDL_DestroyWindow(window);
    }
    SDL_Quit();
    return error;
}
</pre>
</code>
<h2>関連項目</h2>
<ul>
<li><a href="SDL_AddSurfaceAlternateImage.html">SDL_AddSurfaceAlternateImage</a>
<li><a href="SDL_CreateAnimatedCursor.html">SDL_CreateAnimatedCursor</a>
<li><a href="SDL_CreateCursor.html">SDL_CreateCursor</a>
<li><a href="SDL_CreateSystemCursor.html">SDL_CreateSystemCursor</a>
<li><a href="SDL_DestroyCursor.html">SDL_DestroyCursor</a>
<li><a href="SDL_SetCursor.html">SDL_SetCursor</a>
</ul>
<h2>SDL Wikiへのリンク</h2>
<a href="https://wiki.libsdl.org/SDL3/SDL_CreateColorCursor">SDL_CreateColorCursor - SDL Wiki</a><br>
<hr>
</body>
</html>
