<!DOCTYPE html>
<html lang="ja-JP">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="keywords" content="Simple Directmedia Layer SDL3.0">
<link rel="top" href="index.html" title="ホーム">
<link rel="parent" href="CategoryThread.html" title="1つ上">
<title>SDL_CreateThread</title>
</head>
<body>
<a href="index.html">目次</a> - <a href="ApiByCategory.html">SDL 3.0 API(機能別)</a> - <a href="CategoryThread.html">スレッド</a> - SDL_CreateThread
<hr>
<h1>SDL_CreateThread</h1>
新しいスレッドをデフォルトのスタックサイズで生成する
<h2>ヘッダ</h2>
<a href="https://github.com/libsdl-org/SDL/blob/main/include/SDL3/SDL_thread.h">SDL3/SDL_thread.h</a>
<h2>構文</h2>
<code>SDL_Thread * SDL_CreateThread(SDL_ThreadFunction fn, const char *name, void *data);</code>
<h2>引数</h2>
<table border="1">
<tr><td><a href="SDL_ThreadFunction.html">SDL_ThreadFunction</a></td><td>fn</td><td>新しいスレッドで呼ぶ関数</td></tr>
<tr><td>const char *</td><td>name</td><td>スレッドの名前</td></tr>
<tr><td>void *</td><td>data</td><td>fnへ渡すポインタ</td></tr>
</table>
<h2>戻り値</h2>
(<a href="SDL_Thread.html">SDL_Thread</a> *) 成功のとき新しいスレッドオブジェクトへの不透明ポインタ(opaque pointer), 失敗のときNULLを戻す.
<a href="SDL_GetError.html">SDL_GetError()</a>で詳細を知ることができる.
<h2>詳細</h2>
<p>
この関数は便利のための関数であり, 効果は<a href="SDL_CreateThreadWithProperties.html">SDL_CreateThreadWithProperties</a>に次のプロパティを設定した場合と同様である:
</p>
<ul>
<li>SDL_PROP_THREAD_CREATE_ENTRY_FUNCTION_POINTER: <code>fn</code>
<li>SDL_PROP_THREAD_CREATE_NAME_STRING: <code>name</code>
<li>SDL_PROP_THREAD_CREATE_USERDATA_POINTER: <code>data</code>
</ul>
<p>
この「関数」は実際にはマクロであり, ここに挙げられていない2つの引数を内部関数に渡している.
そのプリプロセッサマクロで隠された引数は, この関数の呼び出しの時点で様々なCランタイムに対応するために必要なものである.
Cヘッダを使用しない言語では, この引数を扱う必要がある.
</p>
<p>
通常, アプリケーションはこの関数をどの環境でも同じように呼び, 詳細はマクロに隠させればよい.
</p>
<h2>バージョン</h2>
SDL 3.2.0以降
<h2>サンプルコード</h2>
<p>
<code>
<pre>
#include &lt;SDL3/SDL.h&gt;
#include &lt;SDL3/SDL_main.h&gt;

/* とても単純なスレッド - 50ms間隔で0から9までカウントする */
static int SDLCALL TestThread(void *ptr)
{
    int cnt;

    for (cnt = 0; cnt &lt; 10; ++cnt) {
        SDL_Log("スレッドカウンタ: %d", cnt);
        SDL_Delay(50);
    }

    return cnt;
}

int main(int argc, char *argv[])
{
    SDL_Thread *thread;
    int         threadReturnValue;

    SDL_Log("単純なSDL_CreateThreadのテスト:");

    /* 単にスレッドを生成する */
    thread = SDL_CreateThread(TestThread, "TestThread", (void *)NULL);

    if (NULL == thread) {
        SDL_LogError(SDL_LOG_CATEGORY_APPLICATION, "SDL_CreateThread 失敗: %s", SDL_GetError());
    } else {
        SDL_WaitThread(thread, &amp;threadReturnValue);
        SDL_Log("スレッドの戻り値: %d", threadReturnValue);
    }

    return 0;
}

/*
 * 出力:
 * 単純なSDL_CreateThreadのテスト:
 * スレッドカウンタ: 0
 * スレッドカウンタ: 1
 * スレッドカウンタ: 2
 * スレッドカウンタ: 3
 * スレッドカウンタ: 4
 * スレッドカウンタ: 5
 * スレッドカウンタ: 6
 * スレッドカウンタ: 7
 * スレッドカウンタ: 8
 * スレッドカウンタ: 9
 * スレッドの戻り値: 10
 */
</pre>
</code>
</p>
<h2>関連項目</h2>
<ul>
<li><a href="SDL_CreateThreadWithProperties.html">SDL_CreateThreadWithProperties</a>
<li><a href="SDL_WaitThread.html">SDL_WaitThread</a>
</ul>
<h2>SDL Wikiへのリンク</h2>
<a href="https://wiki.libsdl.org/SDL3/SDL_CreateThread">SDL_CreateThread - SDL Wiki</a>
<hr>
</body>
</html>
