<!DOCTYPE html>
<html lang="ja-JP">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="keywords" content="Simple Directmedia Layer SDL3.0">
<link rel="top" href="index.html" title="ホーム">
<link rel="parent" href="CategoryIOStream.html" title="1つ上">
<title>SDL_IOStreamInterface</title>
</head>
<body>
<a href="index.html">目次</a> - <a href="ApiByCategory.html">SDL 3.0 API(機能別)</a> - <a href="CategoryIOStream.html">I/Oストリーム</a> - SDL_IOStreamInterface
<hr>
<h1>SDL_IOStreamInterface</h1>
<a href="SDL_IOStream.html">SDL_IOStream</a>の処理を行う関数へのポインタの構造体
<h2>ヘッダ</h2>
<a href="https://github.com/libsdl-org/SDL/blob/main/include/SDL3/SDL_iostream.h">SDL3/SDL_iostream.h</a>
<h2>フィールド</h2>
<table border="1">
<tr><td>Uint32</td><td>version</td><td>
このインターフェースのバージョン
</td></tr>
<tr><td>Sint64 (SDLCALL *)(void *userdata)</td><td>size</td><td>
この<a href="SDL_IOStream.html">SDL_IOStream</a>のバイト数を戻す関数<br>
<br>
データストリームの全サイズを戻す. エラーのとき-1を戻す.
</td></tr>
<tr><td>Sint64 (SDLCALL *)(void *userdata, Sint64 offset, SDL_IOWhence whence)</td><td>seek</td><td>
シーク位置を<code>whence</code>から<code>offset</code>だけ移動する関数<br>
<code>whence</code>は次の値の1つである: <code>SDL_IO_SEEK_SET</code>, <code>SDL_IO_SEEK_CUR</code>, <code>SDL_IO_SEEK_END</code><br>
<br>
データストリームの移動後のシーク位置を戻す. エラーのとき-1を戻す.
</td></tr>
<tr><td>size_t (SDLCALL *)(void *userdata, void *ptr, size_t size, SDL_IOStatus *status)</td><td>read</td><td>
データストリームから最大<code>size</code>バイトを読み込み, <code>ptr</code>に書き込む関数<br>
<code>size</code>は常に &gt;0 である.<br>
読み込みが完了しなかった場合, <code>*status</code>に<a href="SDL_IOStatus.html">SDL_IOStatus</a>列挙体の値を設定する必要がある. 読み込みに成功した場合は設定する必要はない.<br>
<br>
読み込んだバイト数を戻す.
</td></tr>
<tr><td>size_t (SDLCALL *)(void *userdata, const void *ptr, size_t size, SDL_IOStatus *status);</td><td>write</td><td>
データストリームへ<code>ptr</code>ポインタからちょうど<code>size</code>バイトを書き込む関数<br>
<code>size</code>は常に &gt;0 である.<br>
書き込みが完了しなかった場合, <code>*status</code>に<a href="SDL_IOStatus.html">SDL_IOStatus</a>列挙体の値を設定する必要がある. 書き込みに成功した場合は設定する必要はない.<br>
<br>
書き込んだバイト数を戻す.
</td></tr>
<tr><td>bool (SDLCALL *)(void *userdata, SDL_IOStatus *status);</td><td>flush</td><td>
データストリームがバッファしている場合, データを確実に書き込む関数<br>
失敗した場合, <code>*status</code>に<a href="SDL_IOStatus.html">SDL_IOStatus</a>列挙体の値を設定する必要がある. 成功した場合は設定する必要はない.<br>
<br>
成功のとき真, データの掃き出しに失敗したとき偽を戻す.
</td></tr>
<tr><td>bool (SDLCALL *)(void *userdata);</td><td>close</td><td>
クローズして資源を解放する関数<br>
この関数は物理メディアへのファイルの書き込みの同期を保証しない. システムのファイルキャッシュ内にあり, ディスクへの書き込みを待っている可能性がある.<br>
この関数が失敗しても<a href="SDL_IOStream.html">SDL_IOStream</a>は破棄される. そのため, バッファの掃き出しなどが失敗しても後処理を全て行うこと<br>
<br>
成功のとき真, データの掃き出しで書き込みエラーが生じたとき偽を戻す.
</td></tr>
</table>
<h2>詳細</h2>
<p>
アプリケーションは, この構造体を<a href="SDL_OpenIO.html">SDL_OpenIO()</a>に渡して独自の<a href="SDL_IOStream.html">SDL_IOStream</a>を生成することができる.
これは必須ではない. SDLには<a href="SDL_IOFromFile.html">SDL_IOFromFile()</a>や<a href="SDL_IOFromMem.html">SDL_IOFromMem()</a>のような一般的なデータストリームが既に用意されている.
</p>
<p>
この構造体は<a href="SDL_INIT_INTERFACE.html">SDL_INIT_INTERFACE()</a>で初期化する必要がある.
</p>
<h2>バージョン</h2>
SDL 3.2.0以降
<h2>関連項目</h2>
<ul>
<li><a href="SDL_INIT_INTERFACE.html">SDL_INIT_INTERFACE</a>
</ul>
<h2>SDL Wikiへのリンク</h2>
<a href="https://wiki.libsdl.org/SDL3/SDL_IOStreamInterface">SDL_IOStreamInterface - SDL Wiki</a><br>
<hr>
</body>
</html>
