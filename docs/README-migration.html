<!DOCTYPE html>
<html lang="ja-JP">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="keywords" content="Simple Directmedia Layer SDL 3.0">
<style type="text/css">
</style>
<link rel="top" href="index.html" title="ホーム">
<link rel="parent" href="index.html" title="1つ上">
<title>SDL 3.0への移行</title>
</head>
<body>
<a href="index.html">目次</a> - <a href="Introduction.html">概要</a> - SDL 3.0への移行
<hr>
<h1><a name="#migrating-to-sdl-30">SDL 3.0への移行</a></h1>
<p>
このガイドではアプリケーションをSDL 2.0から3.0に移行するための有益な情報を提供する.
APIの変更の詳細は後でヘッダごとにまとめられている.
</p>
<p>
main()関数は<code>include &lt;SDL3/SDL_main.h&gt;</code>をインクルードする必要がある. これはSDL.hには含まれなくなったためである.
</p>
<p>
関数は以前は負の数でエラーコードを戻したが, bool値を戻すようになった.
</p>
<p>
このようだったコードは:
<code>
<pre>
    if (SDL_Function() &lt; 0 || SDL_Function() == -1) {
        /* 失敗... */
    }
</pre>
</code>
または
<code>
<pre>
    if (SDL_Function() == 0) {
        /* 成功... */
    }
</pre>
</code>
または
<code>
<pre>
    if (!SDL_Function()) {
        /* 成功... */
    }
</pre>
</code>
</p>
<p>
このように書き換えなければならない:
<code>
<pre>
    if (SDL_Function()) {
        /* 成功... */
    } else {
        /* 失敗... */
    }
</pre>
</code>
</p>
<p>
これはSDL_[A-Z]*のようなキャメルケースの関数にのみ適用される.
SDL_strcmp()やSDL_memcmp()のような先頭が小文字の関数は, Cのランタイムと合わせるため変更はない.
</p>
<p>
多くの関数やシンボル名が変更された.
SDL2の関数名をSDL3に適合したものに変換するPythonスクリプト<a href="https://github.com/libsdl-org/SDL/blob/main/build-scripts/rename_symbols.py">rename_symbols.py</a>が提供されている.
</p>
<p>
rename_symbols.py --all-symbols source_code_path
</p>
<p>
<p>
より簡単にSDL3へと移行できるセマンティックパッチを当てる<a href="https://github.com/libsdl-org/SDL/blob/main/build-scripts/SDL_migration.cocci">SDL_migration.cocc</a>を適用することもできる.
</p>
<p>
SDLヘッダのインクルードは <code>#include &lt;SDL3/SDL.h&gt;</code> のようになった.
OpenGLやVulkanを使わない限り必要なSDLヘッダこれのみである.<br>
SDL_image, SDL_mixer, SDL_net, SDL_ttf, SDL_rtfもパスが変更された:
例えばSDL_imageならば <code>#include &lt;SDL3_image/SDL_image.h&gt;</code> である.
</p>
<p>
SDL2のヘッダをSDL3のものの名前に変換するPythonスクリプト<a href="https://github.com/libsdl-org/SDL/blob/main/build-scripts/rename_headers.py">rename_headers.py</a>が提供されている:
</p>
<p>
rename_headers.py source_code_path
</p>
<p>
SDL3では一部のマクロが追加・削除された.
これらの置き換えと, 修正箇所に変更内容のコメントを入れるPythonスクリプト<a href="https://github.com/libsdl-org/SDL/blob/main/build-scripts/rename_macros.py">rename_macros.py</a>が提供されている.
</p>
<p>
rename_macros.py source_code_path
</p>
<p>
CMakeを使う場合, 以下をプロジェクトに追加すること:
</p>
<p>
find_package(SDL3 REQUIRED CONFIG REQUIRED COMPONENTS SDL3)<br>
target_link_libraries(mygame PRIVATE SDL3::SDL3)
</p>
<p>
Autotoolsを使う場合, 以下をプロジェクトに追加すること:
</p>
<p>
PKG_CHECK_MODULES([SDL3], [sdl3])
</p>
<p>
そしてCFLAGSに$SDL3_CFLAGSを, LDFLAGSに$SDL3_LIBSを追加すること.
</p>
<p>
Makefileを使う場合, 以下をプロジェクトに追加すること:
</p>
<p>
CFLAGS += $(shell pkg-config sdl3 --cflags)<br>
LDFLAGS += $(shell pkg-config sdl3 --libs)
</p>
<p>
SDL3testライブラリの名称はSDL3_testに変更された.
</p>
<p>
SDLmainライブラリは削除され, 全てSDL_main.hに置き換えられた.
</p>
<p>
vi形式のコメントはソースコードから削除された.
vimユーザは<a href="https://github.com/editorconfig/editorconfig-vim">editorconfig</a>プラグインで自動的にSDLコーディングスタイルのタブ空白をセットすることができる.
</p>
<p>
インストールされたSDL CMake configuration ファイルには, SDL3_PREFIX, SDL3_EXEC_PREFIX, SDL3_INCLUDE_DIR, SDL3_INCLUDE_DIRS, SDL3_BINDIR, SDL3_LIBDIRが定義されなくなった.
ユーザはSDL3::SDL3, SDL3::SDL3-shared, SDL3::SDL3-static, またはSDL3::HeadersのCMakeジェネレーター式を使用する必要がある.
これらの定義をなくすことで, システムSDL3を使う場合でも, ベンダーSDL3を使う場合でも同じように使うことができる.
</p>
<h2><a name="#sdl_atomich">SDL_atomic.h (アトミック操作)</a></h2>
<p>
以下の構造体の名前は次の様に変更された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_atomic_t.html">SDL_atomic_t</a> → <a href="SDL_AtomicInt.html">SDL_AtomicInt</a>
</ul>
<p>
以下の関数の名前は次の様に変更された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_AtomicAdd.html">SDL_AtomicAdd()</a> → <a href="SDL_AddAtomicInt.html">SDL_AddAtomicInt()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_AtomicCAS.html">SDL_AtomicCAS()</a> → <a href="SDL_CompareAndSwapAtomicInt.html">SDL_CompareAndSwapAtomicInt()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_AtomicCASPtr.html">SDL_AtomicCASPtr()</a> → <a href="SDL_CompareAndSwapAtomicPointer.html">SDL_CompareAndSwapAtomicPointer()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_AtomicGet.html">SDL_AtomicGet()</a> → <a href="SDL_GetAtomicInt.html">SDL_GetAtomicInt()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_AtomicGetPtr.html">SDL_AtomicGetPtr()</a> → <a href="SDL_GetAtomicPointer.html">SDL_GetAtomicPointer()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_AtomicLock.html">SDL_AtomicLock()</a> → <a href="SDL_LockSpinlock.html">SDL_LockSpinlock()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_AtomicSet.html">SDL_AtomicSet()</a> → <a href="SDL_SetAtomicInt.html">SDL_SetAtomicInt()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_AtomicSetPtr.html">SDL_AtomicSetPtr()</a> → <a href="SDL_SetAtomicPointer.html">SDL_SetAtomicPointer()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_AtomicTryLock.html">SDL_AtomicTryLock()</a> → <a href="SDL_TryLockSpinlock.html">SDL_TryLockSpinlock()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_AtomicUnlock.htm">SDL_AtomicUnlock()</a> → <a href="SDL_UnlockSpinlock.html">SDL_UnlockSpinlock()</a>
</ul>
<h2><a name="#sdl_audioh">SDL_audio.h (再生と録音)</a></h2>
<p>
SDL3の音声サブシステムはSDL2とは大きく異なる.
コールバックは音声再生の主要な方法ではなくなり, <a href="SDL_AudioStream.html">SDL_AudioStream</a>とデバイスを紐づけるようになった.
しかし, 必要ならばコールバックの方法も残されている.
</p>
<p>
簡略化された音声コールバックインターフェースであるSDL 1.2との互換APIは削除された.
</p>
<p>
ユーザにとって都合がよいように, SDL3では初期化せずにデバイスをオープンしても暗黙的に音声サブシステムを初期化しないようになった.
必要な時点で明示的に<code><a href="SDL_Init.html">SDL_Init</a>(<a href="SDL_InitFlags.html">SDL_INIT_AUDIO</a>)</code>を呼ぶこと.
</p>
<p>
SDL2は録音デバイスを"capture"デバイス, スピーカーへの再生を"output"デバイスと呼んでいた.
SDL3では, 明確にするため用語を"recording(録音)"デバイスと"playback(再生)"デバイスに改めた.
</p>
<p>
SDL3音声サブシステムはSDL2よりも強化されている.
しかし, 既存のコードを単に移行させたいならば大半は使わなくてもよい.
最も単純なSDL2からの移行は次のようになる:
</p>
<p>
SDL2では音声再生はこのように記述していたが...
<code>
<pre>
    void SDLCALL MyAudioCallback(void *userdata, Uint8 * stream, int len)
    {
        /* 音声の調整を行う. `userdata`を使用する場合もある. 結果を`stream`に書き込む */
    }

    /* ...初期化を行う... */
    SDL_AudioSpec my_desired_audio_format;
    SDL_zero(my_desired_audio_format);
    my_desired_audio_format.format = AUDIO_S16;
    my_desired_audio_format.channels = 2;
    my_desired_audio_format.freq = 44100;
    my_desired_audio_format.samples = 1024;
    my_desired_audio_format.callback = MyAudioCallback;
    my_desired_audio_format.userdata = &amp;my_audio_callback_user_data;
    SDL_AudioDeviceID my_audio_device = SDL_OpenAudioDevice(NULL, 0, &amp;my_desired_audio_format, NULL, 0);
    SDL_PauseAudioDevice(my_audio_device, 0);
</pre>
</code>
SDL3ではこのようになる...
<code>
<pre>
    void SDLCALL MyNewAudioCallback(void *userdata, SDL_AudioStream *stream, int additional_amount, int total_amount)
    {
        /* 音声の調整を行う. `userdata`を使用する場合もある. 結果を`stream`に書き込む
         *
         * 元からあるコールバックを使いたいならば, このように記述できる:
         */
        if (additional_amount > 0) {
            Uint8 *data = SDL_stack_alloc(Uint8, additional_amount);
            if (data) {
                MyAudioCallback(userdata, data, additional_amount);
                SDL_PutAudioStreamData(stream, data, additional_amount);
                SDL_stack_free(data);
            }
        }
    }

    /* ...初期化を行う... */
    const SDL_AudioSpec spec = { SDL_AUDIO_S16, 2, 44100 };
    SDL_AudioStream *stream = SDL_OpenAudioDeviceStream(SDL_AUDIO_DEVICE_DEFAULT_PLAYBACK, &amp;spec, MyNewAudioCallback, &amp;my_audio_callback_user_data);
    SDL_ResumeAudioDevice(SDL_GetAudioStreamDevice(stream));
</pre>
</code>
</p>
<p>
SDL2でコールバックの代わりに<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_QueueAudio.html">SDL_QueueAudio</a>を使っていた場合は単純である:
<code>
<pre>
    /* ...初期化を行う... */
    const SDL_AudioSpec spec = { SDL_AUDIO_S16, 2, 44100 };
    SDL_AudioStream *stream = SDL_OpenAudioDeviceStream(SDL_AUDIO_DEVICE_DEFAULT_PLAYBACK, &amp;spec, NULL, NULL);
    SDL_ResumeAudioDevice(SDL_GetAudioStreamDevice(stream));

    /* ...メインループで... */
    /* buf内の音声の調整を行い, `stream`に追加する */
    SDL_PutAudioStreamData(stream, buf, buflen);
</pre>
</code>
この例は録音にも適用できる. 単純に<a href="SDL_PutAudioStreamData.html">SDL_PutAudioStreamData</a>を<a href="SDL_GetAudioStreamData.html">SDL_GetAudioStreamData</a>に置き換えるだけである.
</p>
<p>
<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_AudioInit.html">SDL_AudioInit()</a>と<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_AudioQuit.html">SDL_AudioQuit()</a>は削除された.
代わりに<a href="SDL_InitSubSystem.html">SDL_InitSubSystem()</a>と<a href="SDL_QuitSubSystem.html">SDL_QuitSubSystem()</a>の引数に<a href="SDL_InitFlags.html">SDL_INIT_AUDIO</a>を渡すことができる. これはサブシステムの参照カウントを増減させる.
特定の音声ドライバは<a href="https://wiki.libsdl.org/SDL3/SDL_HINT_AUDIO_DRIVER">SDL_AUDIO_DRIVERヒント</a>で選択できる.
</p>
<p>
<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_OpenAudioDevice.html">SDL_AUDIO_ALLOW_*フラグ</a>は削除され, 
代わりにオーディオデバイスへの音声形式として要求できるようになったが, 最終的な違いは<a href="SDL_AudioStream.html">SDL_AudioStream</a>が管理する.
アプリケーションが「許可」の変更に対応する必要がある場合は, 最終的な形式を<a href="SDL_GetAudioDeviceFormat.html">SDL_GetAudioDeviceFormat()</a>で得ることができる.
</p>
<p>
<a href="SDL_AudioDeviceID.html">SDL_AudioDeviceID</a>は, オープンしたオーディオデバイス(「論理」デバイス)と, システムに存在するハードウェアのインスタンスID(「物理」デバイス)の両方を表すようになった.
デバイスインスタンスとデバイスのインデックス番号の違いはなくなり, 論理デバイスと物理デバイスはAPIレベルでほぼ同一となった.
</p>
<p>
デバイスを物理デバイスインスタンスIDでオープンすると, 新しい論理インスタンスIDが生成される.
これにより, どのデバイスも複数回オープンできる. このことは互いに無関係なコード片によって起こる可能性がある.
SDLは, 複数の論理デバイスを, 背後の物理デバイスへの1つのオーディオストリームとして提供する.
</p>
<p>
デバイスは, 任意の文字列ではなく, デバイスインスタンスID(またはデフォルトの番号, これはSDL2のNULLと似ている)でオープンする.
SDL2のオープンでは, システムデバイスの一覧の文字列と, サウンドサーバのホスト名のような任意の文字列の両方でオープンできた.
SDL3では, バックエンドで対応していた多くの任意のデバイス名は時代遅れとなったため廃止され, 
残っているものはSDL_hintとデフォルトデバイスIDでオープンすることができる.
エンドユーザは環境変数に必要なデバイス名を設定することができるので, アプリケーションはそれに対応する必要はない.
</p>
<p>
デバイスインデックス番号とiscaptureパラメータを渡された多くの関数は, 単に<a href="SDL_AudioDeviceID.html">SDL_AudioDeviceID</a>を渡されるようになり, 全てのデバイスはユニークになり, 再生デバイスと録音デバイスの一覧のインデックス番号は別になった.
</p>
<p>
デバイスのインデックス番号を用いてオーディオデバイスを反復処理するのではなく, 新しい関数<a href="SDL_GetAudioPlaybackDevices.html">SDL_GetAudioPlaybackDevices()</a>と<a href="SDL_GetAudioRecordingDevices.html">SDL_GetAudioRecordingDevices()</a>も存在する.
これは現在のデバイス一覧を得て, そのインスタンスIDからデバイスの情報を得るものである:
<code>
<pre>
{
    if (SDL_InitSubSystem(SDL_INIT_AUDIO)) {
        int i, num_devices;
        SDL_AudioDeviceID *devices = SDL_GetAudioPlaybackDevices(&amp;num_devices);
        if (devices) {
            for (i = 0; i < num_devices; ++i) {
                SDL_AudioDeviceID instance_id = devices[i];
                SDL_Log("オーディオデバイス %" SDL_PRIu32 ": %s", instance_id, SDL_GetAudioDeviceName(instance_id));
            }
            SDL_free(devices);
        }
        SDL_QuitSubSystem(SDL_INIT_AUDIO);
    }
}
</pre>
</code>
</p>
<p>
<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_LockAudioDevice.html">SDL_LockAudioDevice()</a>と<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_UnlockAudioDevice.html">SDL_UnlockAudioDevice()</a>は削除された. 別スレッドのコールバックを保護する必要がないためである.
SDL音声サブシステムと<a href="SDL_AudioStream.html">SDL_AudioStream</a>の内部のロックは存在するため, オーディオストリームはどのスレッドから使っても安全である.
アプリケーションがコールバックを特定のストリームに割り当てる場合, 必要ならば<a href="SDL_LockAudioStream.html">SDL_LockAudioStream()</a>でストリームをロックすることができる.
</p>
<p>
<a href="SDL_PauseAudioDevice.html">SDL_PauseAudioDevice()</a>は常にデバイスを一時停止するようになり, 第2引数を受けなくなった. 再開する場合は, <a href="SDL_ResumeAudioDevice.html">SDL_ResumeAudioDevice()</a>を使うこと.
</p>
<p>
<a href="SDL_OpenAudioDevice.html">SDL_OpenAudioDevice()</a>でオープンしたオーディオデバイスは一時停止状態で開始しないようになった. ストリームと紐づけない限り処理が始まらないためである.
</p>
<p>
<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GetAudioDeviceStatus.html">SDL_GetAudioDeviceStatus()</a>は削除され, <a href="SDL_AudioDevicePaused.html">SDL_AudioDevicePaused()</a>となった.
</p>
<p>
<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_QueueAudio.html">SDL_QueueAudio()</a>と<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_DequeueAudio.html">SDL_DequeueAudio()</a>, <a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_ClearQueuedAudio.html">SDL_ClearQueuedAudio()</a>, <a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GetQueuedAudioSize.html">SDL_GetQueuedAudioSize()</a>は削除された.
<a href="SDL_AudioStream.html">SDL_AudioStream</a>とデバイスの紐づけはこれと同じ機能を持っている.
</p>
<p>
チャネルを扱うAPIのチャネル番号はUint8だったが, intとなった.
</p>
<p>
<a href="SDL_AudioSpec.html">SDL_AudioSpec</a>の機能は縮小され, 形式, チャネル数, サンプリングレートのみを扱うようになった.
SDL_AudioSpecから削除された<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_AudioSpec.html">silenceメンバ</a>(無音の値)は<a href="SDL_GetSilenceValueForFormat.html">SDL_GetSilenceValueForFormat()</a>で得ることができる.
削除された<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_AudioSpec.html">samplesメンバ</a>(音声バッファの長さ)はSDL3が管理するようになった. デバイスの遅れと処理量を調整したい場合は, 新たにオープンするデバイスのサンプルを<a href="https://wiki.libsdl.org/SDL3/SDL_HINT_AUDIO_DEVICE_SAMPLE_FRAMES">SDL_HINT_AUDIO_DEVICE_SAMPLE_FRAMESヒント</a>で強制的に設定できるが, リスクを避けるためデフォルト値から変更すべきではない. 
他のSDL2の<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_AudioSpec.html">SDL_AudioSpec</a>メンバは現在では無関係である.
</p>
<p>
<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GetAudioDeviceSpec.html">SDL_GetAudioDeviceSpec()</a>は削除された.
代わりに<a href="SDL_GetAudioDeviceFormat.html">SDL_GetAudioDeviceFormat()</a>を使うこと.
</p>
<p>
<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GetDefaultAudioInfo.html">SDL_GetDefaultAudioInfo()</a>は削除された.
<a href="SDL_GetAudioDeviceFormat.html">SDL_GetAudioDeviceFormat()</a>に<a href="https://wiki.libsdl.org/SDL3/SDL_AUDIO_DEVICE_DEFAULT_PLAYBACK">SDL_AUDIO_DEVICE_DEFAULT_PLAYBACK</a>または<a href="https://wiki.libsdl.org/SDL3/SDL_AUDIO_DEVICE_DEFAULT_RECORDING">SDL_AUDIO_DEVICE_DEFAULT_RECORDING</a>を渡すこと.
デバイスのオープンには文字列を使用しなくなったため, デフォルトデバイス名を得る手段はなくなった. さらに, SDL3はシステムのデフォルトを変更すると物理デバイス間で即座に移行するため, これをユーザに見せる必要がある場合は, "System default"のような名前を推奨する.
</p>
<p>
<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_MixAudioFormat.html">SDL_MixAudioFormat()</a>と<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_MIX_MAXVOLUME.html">SDL_MIX_MAXVOLUME</a>は削除され, 代わりに音声形式と0.0から1.0の間のfloat値を引数とする<a href="SDL_MixAudio.html">SDL_MixAudio()</a>が導入された.
</p>
<p>
<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_FreeWAV.html">SDL_FreeWAV()</a>は削除され, <a href="https://wiki.libsdl.org/SDL3/SDL_free">SDL_free()</a>に置き換えられた.
</p>
<p>
<a href="SDL_LoadWAV.html">SDL_LoadWAV()</a>は正式な関数で, (関数と同じように使える)マクロではなくなった.
</p>
<p>
多くのSDLの関数と同様に<a href="SDL_LoadWAV_IO.html">SDL_LoadWAV_IO()</a>と<a href="SDL_LoadWAV.html">SDL_LoadWAV()</a>はbool値を戻すようになった.
<a href="SDL_AudioSpec.html">SDL_AudioSpec</a>へのポインタは戻さない.
</p>
<p>
<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_AudioCVT.html">SDL_AudioCVT</a>は削除され, 代わりに<a href="SDL_AudioStream.html">SDL_AudioStream</a>(切り出された音声データ)または<a href="SDL_ConvertAudioSamples.html">SDL_ConvertAudioSamples()</a>関数(一度の呼び出しで音声バッファ上の全てを変換)が使えるようになった.
</p>
<p>
このようだったコードは:
<code>
<pre>
    SDL_AudioCVT cvt;
    SDL_BuildAudioCVT(&amp;cvt, src_format, src_channels, src_rate, dst_format, dst_channels, dst_rate);
    cvt.len = src_len;
    cvt.buf = (Uint8 *) SDL_malloc(src_len * cvt.len_mult);
    SDL_memcpy(cvt.buf, src_data, src_len);
    SDL_ConvertAudio(&amp;cvt);
    do_something(cvt.buf, cvt.len_cvt);
</pre>
</code>
このように変換する必要がある:
<code>
<pre>
    Uint8 *dst_data = NULL;
    int dst_len = 0;
    const SDL_AudioSpec src_spec = { src_format, src_channels, src_rate };
    const SDL_AudioSpec dst_spec = { dst_format, dst_channels, dst_rate };
    if (!SDL_ConvertAudioSamples(&amp;src_spec, src_data, src_len, &amp;dst_spec, &amp;dst_data, &amp;dst_len)) {
        /* エラー */
    }
    do_something(dst_data, dst_len);
    SDL_free(dst_data);
</pre>
</code>
</p>
<p>
<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_AudioFormat.html">AUDIO_U16, AUDIO_U16LSB, AUDIO_U16MSB, AUDIO_U16SYS</a>は削除された.
これらはあまり使われず, memsetを用いて1バイトで無音にできなかった.
他の形式を使用すること.
</p>
<p>
U16音声データに対応するため, 実行時に変換する必要がある場合, 高速に劣化させずに変換できるのはSDL_AUDIO_S16である:
<code>
<pre>
    /* バッファ上で変換する. バッファのサイズは変わらない */
    Sint16 *audio_ui16_to_si16(Uint16 *buffer, const size_t num_samples)
    {
        size_t i;
        const Uint16 *src = buffer;
        Sint16 *dst = (Sint16 *) buffer;

        for (i = 0; i < num_samples; i++) {
            dst[i] = (Sint16) (src[i] ^ 0x8000);
        }

        return dst;
    }
</pre>
</code>
</p>
<p>
残されていた全てのAUDIO_*の名前は, 一貫性のためSDL_AUDIO_*に変えられた.
値と使い方は同じである.
</p>
<p>
SDL2では, <a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_AudioStream.html">SDL_AudioStream</a>は入力されるとき(<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_AudioStreamPut.html">SDL_AudioStreamPut()</a>で)変換/再サンプリングされた.<br>
SDL3では, 要求があったときこれを行う(<a href="SDL_GetAudioStreamData.html">SDL_GetAudioStreamData()</a>で行う. これはSDL2では<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_AudioStreamGet">SDL_AudioStreamGet()</a>だった).
AudioStreamを使う場合でもほぼ同じだが, 処理の段階が異なるので注意すること.
</p>
<p>
SDL2では, <a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_AudioStreamAvailable.html">SDL_AudioStreamAvailable()</a>はNULLを渡すと0を戻した.
SDL3では, 他のオーディオストリームAPIと合わせるため, <a href="SDL_GetAudioStreamAvailable.html">SDL_GetAudioStreamAvailable()</a>は-1を戻しエラー文字列を設定する.
</p>
<p>
SDL2では, <a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_AudioDeviceEvent.html">SDL_AUDIODEVICEREMOVEDイベント</a>はオープンされたデバイスが取り除かれたときwhichメンバにその<a href="SDL_AudioDeviceID.html">SDL_AudioDeviceID</a>が設定されて発生したが, 後のバージョンでは, アプリケーションに利用可能なデバイスの一覧の更新を伝えるため, オープンされていないデバイスでもwhichメンバが0で発生した.<br>
SDL3では, <a href="SDL_AudioDeviceEvent.html">このイベント</a>は同じだが, 0ではなく物理デバイスの<a href="SDL_AudioDeviceID.html">SDL_AudioDeviceID</a>が設定されるようになった.
この取り除かれた物理デバイスを<a href="SDL_OpenAudioDevice.html">SDL_OpenAudioDevice()</a>でオープンしていた論理デバイスに対しては, 別にイベントが発生する.
</p>
<p>
以下の関数の名前は次の様に変更された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_AudioStreamAvailable.html">SDL_AudioStreamAvailable()</a> → <a href="SDL_GetAudioStreamAvailable.html">SDL_GetAudioStreamAvailable()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_AudioStreamClear.html">SDL_AudioStreamClear()</a> → <a href="SDL_ClearAudioStream.html">SDL_ClearAudioStream()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_AudioStreamFlush.html">SDL_AudioStreamFlush()</a> → <a href="SDL_FlushAudioStream.html">SDL_FlushAudioStream()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_AudioStreamGet.html">SDL_AudioStreamGet()</a> → <a href="SDL_GetAudioStreamData.html">SDL_GetAudioStreamData()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_AudioStreamPut.html">SDL_AudioStreamPut()</a> → <a href="SDL_PutAudioStreamData.html">SDL_PutAudioStreamData()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_FreeAudioStream.html">SDL_FreeAudioStream()</a> → <a href="SDL_DestroyAudioStream.html">SDL_DestroyAudioStream()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_LoadWAV_RW.html">SDL_LoadWAV_RW()</a> → <a href="SDL_LoadWAV_IO.html">SDL_LoadWAV_IO()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_MixAudioFormat.html">SDL_MixAudioFormat()</a> → <a href="SDL_MixAudio.html">SDL_MixAudio()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_NewAudioStream.html">SDL_NewAudioStream()</a> → <a href="SDL_CreateAudioStream.html">SDL_CreateAudioStream()</a>
</ul>
<p>
以下の関数は削除された
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GetNumAudioDevices.html">SDL_GetNumAudioDevices()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GetAudioDeviceSpec.html">SDL_GetAudioDeviceSpec()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_ConvertAudio.html">SDL_ConvertAudio()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_BuildAudioCVT.html">SDL_BuildAudioCVT()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_OpenAudio.html">SDL_OpenAudio()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_CloseAudio.html">SDL_CloseAudio()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_PauseAudio.html">SDL_PauseAudio()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GetAudioStatus.html">SDL_GetAudioStatus()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GetAudioDeviceStatus.html">SDL_GetAudioDeviceStatus()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GetDefaultAudioInfo.html">SDL_GetDefaultAudioInfo()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_LockAudio.html">SDL_LockAudio()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_LockAudioDevice.html">SDL_LockAudioDevice()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_UnlockAudio.html">SDL_UnlockAudio()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_UnlockAudioDevice.html">SDL_UnlockAudioDevice()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_MixAudio.html">SDL_MixAudio()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_QueueAudio.html">SDL_QueueAudio()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_DequeueAudio.html">SDL_DequeueAudio()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_ClearAudioQueue.html">SDL_ClearAudioQueue()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GetQueuedAudioSize.html">SDL_GetQueuedAudioSize()</a>
</ul>
<p>
以下のシンボルの名前は次の様に変更された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_AudioFormat.html">AUDIO_F32</a> → <a href="SDL_AudioFormat.html">SDL_AUDIO_F32LE</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_AudioFormat.html">AUDIO_F32LSB</a> → <a href="SDL_AudioFormat.html">SDL_AUDIO_F32LE</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_AudioFormat.html">AUDIO_F32MSB</a> → <a href="SDL_AudioFormat.html">SDL_AUDIO_F32BE</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_AudioFormat.html">AUDIO_F32SYS</a> → <a href="SDL_AudioFormat.html">SDL_AUDIO_F32</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_AudioFormat.html">AUDIO_S16</a> → <a href="SDL_AudioFormat.html">SDL_AUDIO_S16LE</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_AudioFormat.html">AUDIO_S16LSB</a> → <a href="SDL_AudioFormat.html">SDL_AUDIO_S16LE</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_AudioFormat.html">AUDIO_S16MSB</a> → <a href="SDL_AudioFormat.html">SDL_AUDIO_S16BE</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_AudioFormat.html">AUDIO_S16SYS</a> → <a href="SDL_AudioFormat.html">SDL_AUDIO_S16</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_AudioFormat.html">AUDIO_S32</a> → <a href="SDL_AudioFormat.html">SDL_AUDIO_S32LE</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_AudioFormat.html">AUDIO_S32LSB</a> → <a href="SDL_AudioFormat.html">SDL_AUDIO_S32LE</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_AudioFormat.html">AUDIO_S32MSB</a> → <a href="SDL_AudioFormat.html">SDL_AUDIO_S32BE</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_AudioFormat.html">AUDIO_S32SYS</a> → <a href="SDL_AudioFormat.html">SDL_AUDIO_S32</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_AudioFormat.html">AUDIO_S8</a> → <a href="SDL_AudioFormat.html">SDL_AUDIO_S8</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_AudioFormat.html">AUDIO_U8</a> → <a href="SDL_AudioFormat.html">SDL_AUDIO_U8</a>
</ul>
<p>
以下のシンボルは削除された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_MIX_MAXVOLUME.html">SDL_MIX_MAXVOLUME</a> - ミキサーの音量はfloat型の0.0から1.0となった
</ul>
<h2><a name="#sdl_cpuinfoh">SDL_cpuinfo.h (CPU機能の検知)</a></h2>
<p>
組み込み関数ヘッダ(mmintrin.h等)は&lt;SDL3/SDL_intrin.h&gt;に移され, 自動的にはSDL.hに含まれなくなった.
</p>
<p>
<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_Has3DNow.html">SDL_Has3DNow()</a>は削除された. 代わりは存在しない.
</p>
<p>
<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HasRDTSC.html">SDL_HasRDTSC()</a>は削除された. 代わりは存在しない.
現在はRDTSCオペコードは使用せず, 代わりに<a href="https://wiki.libsdl.org/SDL3/SDL_GetPerformanceCounter">SDL_GetPerformanceCounter()</a>と<a href="https://wiki.libsdl.org/SDL3/SDL_GetPerformanceFrequency">SDL_GetPerformanceFrequency()</a>を使うこと.
</p>
<p>
<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SIMDAlloc.html">SDL_SIMDAlloc()</a>, <a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SIMDRealloc.html">SDL_SIMDRealloc()</a>, <a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SIMDFree.html">SDL_SIMDFree()</a>は削除された.
<a href="https://wiki.libsdl.org/SDL3/SDL_aligned_alloc">SDL_aligned_alloc()</a>, <a href="https://wiki.libsdl.org/SDL3/SDL_aligned_free">SDL_aligned_free()</a>を<a href="https://wiki.libsdl.org/SDL3/SDL_GetSIMDAlignment">SDL_GetSIMDAlignment()</a>と共に使用すると同じことを行うことができる.
</p>
<p>
以下の関数の名前は次の様に変更された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GetCPUCount.html">SDL_GetCPUCount()</a> → <a href="SDL_GetNumLogicalCPUCores.html">SDL_GetNumLogicalCPUCores()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SIMDGetAlignment.html">SDL_SIMDGetAlignment()</a> → <a href="SDL_GetSIMDAlignment.html">SDL_GetSIMDAlignment()</a>
</ul>
<h2><a name="#sdl_endianh">SDL_endian.h (バイト順と交換)</a></h2>
<p>
以下の関数の名前は次の様に変更された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SwapBE16.html">SDL_SwapBE16()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_Swap16BE">SDL_Swap16BE()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SwapBE32.html">SDL_SwapBE32()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_Swap32BE">SDL_Swap32BE()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SwapBE64.html">SDL_SwapBE64()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_Swap64BE">SDL_Swap64BE()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SwapLE16.html">SDL_SwapLE16()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_Swap16LE">SDL_Swap16LE()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SwapLE32.html">SDL_SwapLE32()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_Swap32LE">SDL_Swap32LE()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SwapLE64.html">SDL_SwapLE64()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_Swap64LE">SDL_Swap64LE()</a>
</ul>
<h2><a name="#sdl_errorh">SDL_error.h (エラー処理)</a></h2>
<p>
以下の関数は削除された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GetErrorMsg.html">SDL_GetErrorMsg()</a> - <code>SDL_strlcpy(errstr, SDL_GetError(), maxlen);</code>で実装できる
</ul>
<h2><a name="#sdl_eventsh">SDL_events.h (イベント処理)</a></h2>
<p>
<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_KeyboardEvent.html">SDL_PRESSEDとSDL_RELEASED</a>は削除された.
ほとんどの場合, これらを使っている部分はそれぞれ真または偽に置き換えることができる.
この値を持つキーボードイベント構造体の<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_KeyboardEvent.html">stateメンバ</a>は, bool型の<a href="SDL_KeyboardEvent.html">downメンバ</a>に変更された. 例えば, <code>event.key.state</code>は, 現在は<code>event.key.down</code>である.
</p>
<p>
<a href="SDL_CommonEvent.html">SDL_Event構造体のtimestampメンバ</a>は, <a href="https://wiki.libsdl.org/SDL3/SDL_GetTicksNS">SDL_GetTicksNS()</a>で設定されるナノ秒単位となった.
</p>
<p>
<a href="SDL_SensorEvent.html">センサーイベント</a>のtimestamp_usメンバの名前はsensor_timestampに変更され, ナノ秒単位となった.
この値は可能ならばハードウェアによって設定されるため, <a href="https://wiki.libsdl.org/SDL3/SDL_GetTicksNS">SDL_GetTicksNS()</a>で得た値とは恐らく同期しない.
</p>
<p>
<a href="SDL_PushEvent.html">SDL_PushEvent()</a>にイベントを渡す前にevent.common.timestampメンバを設定する必要がある.
timestampが0ならば, SDL_GetTicksNS()で値が設定される.
</p>
<p>
イベントのメモリはSDLが管理するようになった.
そのため, <a href="SDL_DropEvent.html">SDL_EVENT_DROP_FILEイベント</a>の<code>data</code>は解放してはならない.
また, <a href="SDL_TextEditingEvent.html">SDL_EVENT_TEXT_EDITINGイベント</a>と<a href="SDL_TextInputEvent.html">SDL_EVENT_TEXT_INPUTイベント</a>の<code>text</code>を保持したい場合はコピーしなければならない.
<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_TEXTINPUTEVENT_TEXT_SIZE.html">SDL_TEXTINPUTEVENT_TEXT_SIZE</a>は不要となったため削除された.
</p>
<p>
<a href="SDL_MouseMotionEvent.html">マウスイベント</a>はマウス座標と相対移動量として浮動小数点を使用するようになった.
これにより, 環境やディスプレイの拡大縮小によってはサブピクセルを扱えるようになった.
</p>
<p>
<a href="SDL_EventType.html">SDL_DISPLAYEVENT_*の各イベント</a>はそれぞれトップレベルのイベントになり, <a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_DisplayEvent.html">SDL_DISPLAYEVENT</a>は削除された.
一般的にはこの変更により, 初めにSDL_DISPLAYEVENTをチェックしてその後にイベント内容をチェックする代わりに, 単にそれぞれのイベントをチェックするようになる.
<a href="SDL_DisplayEvent.html">ディスプレイイベント</a>であるかチェックする必要がある場合は, SDL_EVENT_DISPLAY_FIRST≦type≦SDL_EVENT_DISPLAY_LASTの比較で行える.
</p>
<p>
<a href="SDL_EventType.html">SDL_WINDOWEVENT_*の各イベント</a>はそれぞれトップレベルのイベントになり, <a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_WindowEvent.html">SDL_WINDOWEVENT</a>は削除された.
一般的にはこの変更により, 初めにSDL_WINDOWEVENTチェックしてその後にイベント内容をチェックする代わりに, 単にそれぞれのイベントをチェックするようになる.
<a href="SDL_WindowEvent.html">ウィンドウイベント</a>であるかチェックする必要がある場合は, SDL_EVENT_WINDOW_FIRST≦type≦SDL_EVENT_WINDOW_LASTの比較で行える.
</p>
<p>
<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SetWindowSize.html">SDL_SetWindowSize()</a>の結果であってもSDL_EVENT_WINDOW_RESIZEDイベントは常に発生するようになった.
</p>
<p>
SDL_EVENT_WINDOW_SIZE_CHANGEDは削除された.
ウィンドウバッファサイズの変更はSDL_EVENT_WINDOW_PIXEL_SIZE_CHANGEDで検知することができる.
</p>
<p>
<a href="SDL_KeyboardEvent.html">キーボードイベント</a>の, 中間の段階だった<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_KeyboardEvent.html">keysymメンバ</a>は削除され, <a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_Keysym.html">sym</a>の名前は<a href="SDL_KeyboardEvent.html">key</a>に変更された.
</p>
<p>
このようだったコードは:
<code>
<pre>
    SDL_Event event;
    SDL_Keycode key = event.key.keysym.sym;
    SDL_Keymod mod = event.key.keysym.mod;
</pre>
</code>
このように変更する必要がある:
<code>
<pre>
    SDL_Event event;
    SDL_Keycode key = event.key.key;
    SDL_Keymod mod = event.key.mod;
</pre>
</code>
</p>
<p>
SDL_Eventのゲームパッドイベントの<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_Event.html">caxis, cbutton, cdevice, ctouchpad, csensor</a>メンバの名前は, <a href="SDL_Event.html">gaxis, gbutton, gdevice, gtouchpad, gsensor</a>に変更された.
</p>
<p>
SDL_TouchFingerEventの<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_TouchFingerEvent.html">touchId, fingerId</a>メンバの名前は, <a href="SDL_TouchFingerEvent.html">touchID, fingerID</a>に変更された.
</p>
<p>
SDL_JoyBatteryEventの<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoyBatteryEvent.html">level</a>メンバは, <a href="SDL_JoyBatteryEvent.html">stateとpercent</a>に分けられた.
</p>
<p>
SDL_AudioDeviceEventの<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_AudioDeviceEvent.html">iscapture</a>メンバの名前は, <a href="SDL_AudioDeviceEvent.html">recording</a>に変更された.
</p>
<p>
SDL_QUERY, SDL_IGNORE, SDL_ENABLE, SDL_DISABLEは削除された.
イベント処理状態の設定と確認は, <a href="SDL_SetEventEnabled.html">SDL_SetEventEnabled()</a>と<a href="SDL_EventEnabled.html">SDL_EventEnabled()</a>で行える.
</p>
<p>
<a href="SDL_AddEventWatch.html">SDL_AddEventWatch()</a>は, メモリが足りずにイベント監視コールバックを追加できないとき偽を戻すようになった.
</p>
<p>
<a href="SDL_RegisterEvents.html">SDL_RegisterEvents()</a>は, これ以上ユーザイベントを確保できないとき0を戻すようになった.
</p>
<p>
<a href="SDL_EventFilter.html">SDL_EventFilter()</a>はbool値を戻すようになった.
</p>
<p>
以下のシンボルの名前は次の様に変更された:
</p>
<ul>
<li>SDL_APP_DIDENTERBACKGROUND → SDL_EVENT_DID_ENTER_BACKGROUND
<li>SDL_APP_DIDENTERFOREGROUND → SDL_EVENT_DID_ENTER_FOREGROUND
<li>SDL_APP_LOWMEMORY → SDL_EVENT_LOW_MEMORY
<li>SDL_APP_TERMINATING → SDL_EVENT_TERMINATING
<li>SDL_APP_WILLENTERBACKGROUND → SDL_EVENT_WILL_ENTER_BACKGROUND
<li>SDL_APP_WILLENTERFOREGROUND → SDL_EVENT_WILL_ENTER_FOREGROUND
<li>SDL_AUDIODEVICEADDED → SDL_EVENT_AUDIO_DEVICE_ADDED
<li>SDL_AUDIODEVICEREMOVED → SDL_EVENT_AUDIO_DEVICE_REMOVED
<li>SDL_CLIPBOARDUPDATE → SDL_EVENT_CLIPBOARD_UPDATE
<li>SDL_CONTROLLERAXISMOTION → SDL_EVENT_GAMEPAD_AXIS_MOTION
<li>SDL_CONTROLLERBUTTONDOWN → SDL_EVENT_GAMEPAD_BUTTON_DOWN
<li>SDL_CONTROLLERBUTTONUP → SDL_EVENT_GAMEPAD_BUTTON_UP
<li>SDL_CONTROLLERDEVICEADDED → SDL_EVENT_GAMEPAD_ADDED
<li>SDL_CONTROLLERDEVICEREMAPPED → SDL_EVENT_GAMEPAD_REMAPPED
<li>SDL_CONTROLLERDEVICEREMOVED → SDL_EVENT_GAMEPAD_REMOVED
<li>SDL_CONTROLLERSENSORUPDATE → SDL_EVENT_GAMEPAD_SENSOR_UPDATE
<li>SDL_CONTROLLERSTEAMHANDLEUPDATED → SDL_EVENT_GAMEPAD_STEAM_HANDLE_UPDATED
<li>SDL_CONTROLLERTOUCHPADDOWN → SDL_EVENT_GAMEPAD_TOUCHPAD_DOWN
<li>SDL_CONTROLLERTOUCHPADMOTION → SDL_EVENT_GAMEPAD_TOUCHPAD_MOTION
<li>SDL_CONTROLLERTOUCHPADUP → SDL_EVENT_GAMEPAD_TOUCHPAD_UP
<li>SDL_DROPBEGIN → SDL_EVENT_DROP_BEGIN
<li>SDL_DROPCOMPLETE → SDL_EVENT_DROP_COMPLETE
<li>SDL_DROPFILE → SDL_EVENT_DROP_FILE
<li>SDL_DROPTEXT → SDL_EVENT_DROP_TEXT
<li>SDL_FINGERDOWN → SDL_EVENT_FINGER_DOWN
<li>SDL_FINGERMOTION → SDL_EVENT_FINGER_MOTION
<li>SDL_FINGERUP → SDL_EVENT_FINGER_UP
<li>SDL_FIRSTEVENT → SDL_EVENT_FIRST
<li>SDL_JOYAXISMOTION → SDL_EVENT_JOYSTICK_AXIS_MOTION
<li>SDL_JOYBALLMOTION → SDL_EVENT_JOYSTICK_BALL_MOTION
<li>SDL_JOYBATTERYUPDATED → SDL_EVENT_JOYSTICK_BATTERY_UPDATED
<li>SDL_JOYBUTTONDOWN → SDL_EVENT_JOYSTICK_BUTTON_DOWN
<li>SDL_JOYBUTTONUP → SDL_EVENT_JOYSTICK_BUTTON_UP
<li>SDL_JOYDEVICEADDED → SDL_EVENT_JOYSTICK_ADDED
<li>SDL_JOYDEVICEREMOVED → SDL_EVENT_JOYSTICK_REMOVED
<li>SDL_JOYHATMOTION → SDL_EVENT_JOYSTICK_HAT_MOTION
<li>SDL_KEYDOWN → SDL_EVENT_KEY_DOWN
<li>SDL_KEYMAPCHANGED → SDL_EVENT_KEYMAP_CHANGED
<li>SDL_KEYUP → SDL_EVENT_KEY_UP
<li>SDL_LASTEVENT → SDL_EVENT_LAST
<li>SDL_LOCALECHANGED → SDL_EVENT_LOCALE_CHANGED
<li>SDL_MOUSEBUTTONDOWN → SDL_EVENT_MOUSE_BUTTON_DOWN
<li>SDL_MOUSEBUTTONUP → SDL_EVENT_MOUSE_BUTTON_UP
<li>SDL_MOUSEMOTION → SDL_EVENT_MOUSE_MOTION
<li>SDL_MOUSEWHEEL → SDL_EVENT_MOUSE_WHEEL
<li>SDL_POLLSENTINEL → SDL_EVENT_POLL_SENTINEL
<li>SDL_QUIT → SDL_EVENT_QUIT
<li>SDL_RENDER_DEVICE_RESET → SDL_EVENT_RENDER_DEVICE_RESET
<li>SDL_RENDER_TARGETS_RESET → SDL_EVENT_RENDER_TARGETS_RESET
<li>SDL_SENSORUPDATE → SDL_EVENT_SENSOR_UPDATE
<li>SDL_TEXTEDITING → SDL_EVENT_TEXT_EDITING
<li>SDL_TEXTEDITING_EXT → SDL_EVENT_TEXT_EDITING_EXT
<li>SDL_TEXTINPUT → SDL_EVENT_TEXT_INPUT
<li>SDL_USEREVENT → SDL_EVENT_USER
</ul>
<p>
以下のシンボルは削除された:
</p>
<ul>
<li>SDL_DROPEVENT_DATA_SIZE - ドロップイベントのデータは動的に確保される
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SysWMEvent.html">SDL_SYSWMEVENT</a> - <a href="https://wiki.libsdl.org/SDL3/SDL_SetWindowsMessageHook">SDL_SetWindowsMessageHook()</a>または<a href="https://wiki.libsdl.org/SDL3/SDL_SetX11EventHook">SDL_SetX11EventHook()</a>で監視してSDLが検知する前にシステムイベントを修正することができる
<li>SDL_TEXTEDITINGEVENT_TEXT_SIZE - テキスト編集イベントのデータは動的に確保される
</ul>
<p>
以下の構造体の名前は次の様に変更された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_ControllerAxisEvent.html">SDL_ControllerAxisEvent</a> → <a href="SDL_GamepadAxisEvent.html">SDL_GamepadAxisEvent</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_ControllerButtonEvent.html">SDL_ControllerButtonEvent</a> → <a href="SDL_GamepadButtonEvent.html">SDL_GamepadButtonEvent</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_ControllerDeviceEvent.html">SDL_ControllerDeviceEvent</a> → <a href="SDL_GamepadDeviceEvent.html">SDL_GamepadDeviceEvent</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_ControllerSensorEvent.html">SDL_ControllerSensorEvent</a> → <a href="SDL_GamepadSensorEvent.html">SDL_GamepadSensorEvent</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_ControllerTouchpadEvent.html">SDL_ControllerTouchpadEvent</a> → <a href="SDL_GamepadTouchpadEvent.html">SDL_GamepadTouchpadEvent</a>
</ul>
<p>
以下の関数は削除された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_EventState.html">SDL_EventState()</a> - <a href="SDL_SetEventEnabled.html">SDL_SetEventEnabled()</a>に置き換えられた
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GetEventState.html">SDL_GetEventState()</a> - <a href="SDL_EventEnabled.html">SDL_EventEnabled()</a>に置き換えられた
</ul>
<p>
以下の列挙体の名前は次の様に変更された:
</p>
<ul>
<li>SDL_eventaction → <a href="SDL_EventAction.html">SDL_EventAction</a>
</ul>
<p>
以下の関数の名前は次の様に変更された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_DelEventWatch.html">SDL_DelEventWatch()</a> → <a href="SDL_RemoveEventWatch.html">SDL_RemoveEventWatch()</a>
</ul>
<h2><a name="#sdl_gamecontrollerh">SDL_gamecontroller.h (ゲームコントローラー)</a></h2>
<p>
SDL_gamecontroller.hの名前はSDL_gamepad.hになり, 全てのAPIはそれと合った名前に変更された.
</p>
<p>
SDL_EVENT_GAMEPAD_ADDEDイベントは, <a href="SDL_Event.html">イベント構造体</a>の<a href="SDL_GamepadDeviceEvent.html">gdeviceのwhich</a>メンバにジョイスティックインスタンスIDをセットするようになった.
</p>
<p>
利用可能なゲームパッドの一覧の内容を直接参照できる関数<a href="SDL_GetGamepads.html">SDL_GetGamepads()</a>, <a href="SDL_GetGamepadNameForID.html">SDL_GetGamepadNameForID()</a>, <a href="SDL_GetGamepadPathForID.html">SDL_GetGamepadPathForID()</a>, <a href="SDL_GetGamepadPlayerIndexForID.html">SDL_GetGamepadPlayerIndexForID()</a>, <a href="SDL_GetGamepadGUIDForID.html">SDL_GetGamepadGUIDForID()</a>, <a href="SDL_GetGamepadVendorForID.html">SDL_GetGamepadVendorForID()</a>, <a href="SDL_GetGamepadProductForID.html">SDL_GetGamepadProductForID()</a>, <a href="SDL_GetGamepadProductVersionForID.html">SDL_GetGamepadProductVersionForID()</a>, <a href="SDL_GetGamepadTypeForID.html">SDL_GetGamepadTypeForID()</a>が追加された.
</p>
<p>
ゲームパッドの前面ボタンの名称はA/B/X/YからNorth/South/East/Westに変更され, 特定のハードウェア(XBOXのボタン名)ではなく位置を示すようになった.
<a href="SDL_GetGamepadButtonLabel.html">SDL_GetGamepadButtonLabel()</a>を使えば前面ボタンのラベル名(A/B/X/Yや×/〇/□/△)を得ることができる.
<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HINT_GAMECONTROLLER_USE_BUTTON_LABELS">SDL_HINT_GAMECONTROLLER_USE_BUTTON_LABELSヒント</a>は無視され, このヒントを使った変換はボタンの位置に訂正される.<br>
アプリケーションは, 地域や慣れによって異なるため, ユーザにOK/キャンセルボタンとしてのSouth/Eastボタンを入れ替える方法を提供すべきである.
これは次のような方法で対応できる:
<code>
<pre>
#define CONFIRM_BUTTON SDL_GAMEPAD_BUTTON_SOUTH
#define CANCEL_BUTTON SDL_GAMEPAD_BUTTON_EAST

bool flipped_buttons;

void InitMappedButtons(SDL_Gamepad *gamepad)
{
    if (!GetFlippedButtonSetting(&amp;flipped_buttons)) {
        if (SDL_GetGamepadButtonLabel(gamepad, SDL_GAMEPAD_BUTTON_SOUTH) == SDL_GAMEPAD_BUTTON_LABEL_B) {
            flipped_buttons = true;
        } else {
            flipped_buttons = false;
        }
    }
}

SDL_GamepadButton GetMappedButton(SDL_GamepadButton button)
{
    if (flipped_buttons) {
        switch (button) {
        case SDL_GAMEPAD_BUTTON_SOUTH:
            return SDL_GAMEPAD_BUTTON_EAST;
        case SDL_GAMEPAD_BUTTON_EAST:
            return SDL_GAMEPAD_BUTTON_SOUTH;
        case SDL_GAMEPAD_BUTTON_WEST:
            return SDL_GAMEPAD_BUTTON_NORTH;
        case SDL_GAMEPAD_BUTTON_NORTH:
            return SDL_GAMEPAD_BUTTON_WEST;
        default:
            break;
        }
    }
    return button;
}

SDL_GamepadButtonLabel GetConfirmActionLabel(SDL_Gamepad *gamepad)
{
    return SDL_GetGamepadButtonLabel(gamepad, GetMappedButton(CONFIRM_BUTTON));
}

SDL_GamepadButtonLabel GetCancelActionLabel(SDL_Gamepad *gamepad)
{
    return SDL_GetGamepadButtonLabel(gamepad, GetMappedButton(CANCEL_BUTTON));
}

void HandleGamepadEvent(SDL_Event *event)
{
    if (event->type == SDL_EVENT_GAMEPAD_BUTTON_DOWN) {
        switch (GetMappedButton(event->gbutton.button)) {
        case CONFIRM_BUTTON:
            /* OKの場合 */
            break;
        case CANCEL_BUTTON:
            /* キャンセルの場合 */
            break;
        default:
            /* ... */
            break;
        }
    }
}
</pre>
</code>
</p>
<p>
<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerGetSensorDataWithTimestamp.html">SDL_GameControllerGetSensorDataWithTimestamp()</a>は削除された.
センサーデータのタイムスタンプが必要な場合は, <a href="SDL_GamepadSensorEvent.html">SDL_EVENT_GAMEPAD_SENSOR_UPDATEイベントのsensor_timestampメンバ</a>を使うことができる.
</p>
<p>
SDL_CONTROLLER_TYPE_VIRTUALは削除され, 仮想コントローラーは他のゲームパッドをエミュレートできるようになった.
コントローラーが仮想コントローラーであるか知る必要がある場合は, <a href="SDL_IsJoystickVirtual.html">SDL_IsJoystickVirtual()</a>を使うこと.
</p>
<p>
SDL_CONTROLLER_TYPE_AMAZON_LUNAは削除された. コードはこのように置き換えることができる:
<code>
<pre>
bool SDL_IsJoystickAmazonLunaController(Uint16 vendor_id, Uint16 product_id)
{
    return ((vendor_id == 0x1949 && product_id == 0x0419) ||
            (vendor_id == 0x0171 && product_id == 0x0419));
}
</pre>
</code>
</p>
<p>
SDL_CONTROLLER_TYPE_GOOGLE_STADIAは削除された. コードはこのように置き換えることができる:
<code>
<pre>
bool SDL_IsJoystickGoogleStadiaController(Uint16 vendor_id, Uint16 product_id)
{
    return (vendor_id == 0x18d1 && product_id == 0x9400);
}
</pre>
</code>
</p>
<p>
SDL_CONTROLLER_TYPE_NVIDIA_SHIELDは削除された. コードはこのように置き換えることができる:
<code>
<pre>
bool SDL_IsJoystickNVIDIASHIELDController(Uint16 vendor_id, Uint16 product_id)
{
    return (vendor_id == 0x0955 && (product_id == 0x7210 || product_id == 0x7214));
}
</pre>
</code>
</p>
<p>
SDL_GamepadBindingのinputTypeメンバとoutputTypeメンバの名前はinput_typeとoutput_typeに変更された.
</p>
<p>
<a href="SDL_GetGamepadTouchpadFinger.html">SDL_GetGamepadTouchpadFinger()</a>の指状態は, Uint8型ポインタからbool型ポインタに変更された.
</p>
<p>
以下の列挙体の名前は次の様に変更された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerAxis.html">SDL_GameControllerAxis</a> → <a href="SDL_GamepadAxis.html">SDL_GamepadAxis</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerBindType.html">SDL_GameControllerBindType</a> → <a href="SDL_GamepadBindingType.html">SDL_GamepadBindingType</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerButton.html">SDL_GameControllerButton</a> → <a href="SDL_GamepadButton.html">SDL_GamepadButton</a>
<li>SDL_GameControllerType → <a href="SDL_GamepadType.html">SDL_GamepadType</a>
</ul>
<p>
以下の構造体の名前は次の様に変更された:
</p>
<ul>
<li>SDL_GameController → <a href="SDL_Gamepad.html">SDL_Gamepad</a>
</ul>
<p>
以下の関数の名前は次の様に変更された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerAddMapping.html">SDL_GameControllerAddMapping()</a> → <a href="SDL_AddGamepadMapping.html">SDL_AddGamepadMapping()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerAddMappingsFromFile.html">SDL_GameControllerAddMappingsFromFile()</a> → <a href="SDL_AddGamepadMappingsFromFile.html">SDL_AddGamepadMappingsFromFile()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerAddMappingsFromRW.html">SDL_GameControllerAddMappingsFromRW()</a> → <a href="SDL_AddGamepadMappingsFromIO.html">SDL_AddGamepadMappingsFromIO()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerClose.html">SDL_GameControllerClose()</a> → <a href="SDL_CloseGamepad.html">SDL_CloseGamepad()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerFromInstanceID.html">SDL_GameControllerFromInstanceID()</a> → <a href="SDL_GetGamepadFromID.html">SDL_GetGamepadFromID()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerFromPlayerIndex.html">SDL_GameControllerFromPlayerIndex()</a> → <a href="SDL_GetGamepadFromPlayerIndex.html">SDL_GetGamepadFromPlayerIndex()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerGetAppleSFSymbolsNameForAxis.html">SDL_GameControllerGetAppleSFSymbolsNameForAxis()</a> → <a href="SDL_GetGamepadAppleSFSymbolsNameForAxis.html">SDL_GetGamepadAppleSFSymbolsNameForAxis()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerGetAppleSFSymbolsNameForButton.html">SDL_GameControllerGetAppleSFSymbolsNameForButton()</a> → <a href="SDL_GetGamepadAppleSFSymbolsNameForButton.html">SDL_GetGamepadAppleSFSymbolsNameForButton()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerGetAttached.html">SDL_GameControllerGetAttached()</a> → <a href="SDL_GamepadConnected.html">SDL_GamepadConnected()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerGetAxis.html">SDL_GameControllerGetAxis()</a> → <a href="SDL_GetGamepadAxis.html">SDL_GetGamepadAxis()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerGetAxisFromString.html">SDL_GameControllerGetAxisFromString()</a> → <a href="SDL_GetGamepadAxisFromString.html">SDL_GetGamepadAxisFromString()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerGetButton.html">SDL_GameControllerGetButton()</a> → <a href="SDL_GetGamepadButton.html">SDL_GetGamepadButton()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerGetButtonFromString.html">SDL_GameControllerGetButtonFromString()</a> → <a href="SDL_GetGamepadButtonFromString.html">SDL_GetGamepadButtonFromString()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerGetFirmwareVersion.html">SDL_GameControllerGetFirmwareVersion()</a> → <a href="SDL_GetGamepadFirmwareVersion.html">SDL_GetGamepadFirmwareVersion()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerGetJoystick.html">SDL_GameControllerGetJoystick()</a> → <a href="SDL_GetGamepadJoystick.html">SDL_GetGamepadJoystick()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerGetNumTouchpadFingers.html">SDL_GameControllerGetNumTouchpadFingers()</a> → <a href="SDL_GetNumGamepadTouchpadFingers.html">SDL_GetNumGamepadTouchpadFingers()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerGetNumTouchpads.html">SDL_GameControllerGetNumTouchpads()</a> → <a href="SDL_GetNumGamepadTouchpads.html">SDL_GetNumGamepadTouchpads()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerGetPlayerIndex.html">SDL_GameControllerGetPlayerIndex()</a> → <a href="SDL_GetGamepadPlayerIndex.html">SDL_GetGamepadPlayerIndex()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerGetProduct.html">SDL_GameControllerGetProduct()</a> → <a href="SDL_GetGamepadProduct.html">SDL_GetGamepadProduct()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerGetProductVersion.html">SDL_GameControllerGetProductVersion()</a> → <a href="SDL_GetGamepadProductVersion.html">SDL_GetGamepadProductVersion()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerGetSensorData.html">SDL_GameControllerGetSensorData()</a> → <a href="SDL_GetGamepadSensorData.html">SDL_GetGamepadSensorData()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerGetSensorDataRate.html">SDL_GameControllerGetSensorDataRate()</a> → <a href="SDL_GetGamepadSensorDataRate.html">SDL_GetGamepadSensorDataRate()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerGetSerial.html">SDL_GameControllerGetSerial()</a> → <a href="SDL_GetGamepadSerial.html">SDL_GetGamepadSerial()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerGetSteamHandle.html">SDL_GameControllerGetSteamHandle()</a> → <a href="SDL_GetGamepadSteamHandle.html">SDL_GetGamepadSteamHandle()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerGetStringForAxis.html">SDL_GameControllerGetStringForAxis()</a> → <a href="SDL_GetGamepadStringForAxis.html">SDL_GetGamepadStringForAxis()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerGetStringForButton.html">SDL_GameControllerGetStringForButton()</a> → <a href="SDL_GetGamepadStringForButton.html">SDL_GetGamepadStringForButton()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerGetTouchpadFinger.html">SDL_GameControllerGetTouchpadFinger()</a> → <a href="SDL_GetGamepadTouchpadFinger.html">SDL_GetGamepadTouchpadFinger()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerGetType.html">SDL_GameControllerGetType()</a> → <a href="SDL_GetGamepadType.html">SDL_GetGamepadType()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerGetVendor.html">SDL_GameControllerGetVendor()</a> → <a href="SDL_GetGamepadVendor.html">SDL_GetGamepadVendor()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerHasAxis.html">SDL_GameControllerHasAxis()</a> → <a href="SDL_GamepadHasAxis.html">SDL_GamepadHasAxis()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerHasButton.html">SDL_GameControllerHasButton()</a> → <a href="SDL_GamepadHasButton.html">SDL_GamepadHasButton()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerHasSensor.html">SDL_GameControllerHasSensor()</a> → <a href="SDL_GamepadHasSensor.html">SDL_GamepadHasSensor()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerIsSensorEnabled.html">SDL_GameControllerIsSensorEnabled()</a> → <a href="SDL_GamepadSensorEnabled.html">SDL_GamepadSensorEnabled()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerMapping.html">SDL_GameControllerMapping()</a> → <a href="SDL_GetGamepadMapping.html">SDL_GetGamepadMapping()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerMappingForGUID.html">SDL_GameControllerMappingForGUID()</a> → <a href="SDL_GetGamepadMappingForGUID.html">SDL_GetGamepadMappingForGUID()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerName.html">SDL_GameControllerName()</a> → <a href="SDL_GetGamepadName.html">SDL_GetGamepadName()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerOpen.html">SDL_GameControllerOpen()</a> → <a href="SDL_OpenGamepad.html">SDL_OpenGamepad()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerPath.html">SDL_GameControllerPath()</a> → <a href="SDL_GetGamepadPath.html">SDL_GetGamepadPath()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerRumble.html">SDL_GameControllerRumble()</a> → <a href="SDL_RumbleGamepad.html">SDL_RumbleGamepad()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerRumbleTriggers.html">SDL_GameControllerRumbleTriggers()</a> → <a href="SDL_RumbleGamepadTriggers.html">SDL_RumbleGamepadTriggers()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerSendEffect.html">SDL_GameControllerSendEffect()</a> → <a href="SDL_SendGamepadEffect.html">SDL_SendGamepadEffect()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerSetLED.html">SDL_GameControllerSetLED()</a> → <a href="SDL_SetGamepadLED.html">SDL_SetGamepadLED()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerSetPlayerIndex.html">SDL_GameControllerSetPlayerIndex()</a> → <a href="SDL_SetGamepadPlayerIndex.html">SDL_SetGamepadPlayerIndex()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerSetSensorEnabled.html">SDL_GameControllerSetSensorEnabled()</a> → <a href="SDL_SetGamepadSensorEnabled.html">SDL_SetGamepadSensorEnabled()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerUpdate.html">SDL_GameControllerUpdate()</a> → <a href="SDL_UpdateGamepads.html">SDL_UpdateGamepads()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_IsGameController.html">SDL_IsGameController()</a> → <a href="SDL_IsGamepad.html">SDL_IsGamepad()</a>
</ul>
<p>
以下の関数は削除された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerEventState.html">SDL_GameControllerEventState()</a> - <a href="SDL_SetGamepadEventsEnabled.html">SDL_SetGamepadEventsEnabled()</a>と<a href="SDL_GamepadEventsEnabled.html">SDL_GamepadEventsEnabled()</a>に置き換えられた
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerGetBindForAxis.html">SDL_GameControllerGetBindForAxis()</a> - <a href="SDL_GetGamepadBindings.html">SDL_GetGamepadBindings()</a>に置き換えられた
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerGetBindForButton.html">SDL_GameControllerGetBindForButton()</a> - <a href="SDL_GetGamepadBindings.html">SDL_GetGamepadBindings()</a>に置き換えられた
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerHasLED.html">SDL_GameControllerHasLED()</a> - <a href="SDL_GetGamepadProperties.html">SDL_PROP_GAMEPAD_CAP_RGB_LED_BOOLEAN</a>に置き換えられた
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerHasRumble.html">SDL_GameControllerHasRumble()</a> - <a href="SDL_GetGamepadProperties.html">SDL_PROP_GAMEPAD_CAP_RUMBLE_BOOLEAN</a>に置き換えられた
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerHasRumbleTriggers.html">SDL_GameControllerHasRumbleTriggers()</a> - <a href="SDL_GetGamepadProperties.html">SDL_PROP_GAMEPAD_CAP_TRIGGER_RUMBLE_BOOLEAN</a>に置き換えられた
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerMappingForDeviceIndex.html">SDL_GameControllerMappingForDeviceIndex()</a> - <a href="SDL_GetGamepadMappingForID.html">SDL_GetGamepadMappingForID()</a>に置き換えられた
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerMappingForIndex.html">SDL_GameControllerMappingForIndex()</a> - <a href="SDL_GetGamepadMappings.html">SDL_GetGamepadMappings()</a>に置き換えられた
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerNameForIndex.html">SDL_GameControllerNameForIndex()</a> - <a href="SDL_GetGamepadNameForID.html">SDL_GetGamepadNameForID()</a>に置き換えられた
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerNumMappings.html">SDL_GameControllerNumMappings()</a> - <a href="SDL_GetGamepadMappings.html">SDL_GetGamepadMappings()</a>に置き換えられた
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerPathForIndex.html">SDL_GameControllerPathForIndex()</a> - <a href="SDL_GetGamepadPathForID.html">SDL_GetGamepadPathForID()</a>に置き換えられた
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerTypeForIndex.html">SDL_GameControllerTypeForIndex()</a> - <a href="SDL_GetGamepadTypeForID.html">SDL_GetGamepadTypeForID()</a>に置き換えられた
</ul>
<p>
以下のシンボルの名前は次の様に変更された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerAxis.html">SDL_CONTROLLER_AXIS_INVALID</a> → <a href="SDL_GamepadAxis.html">SDL_GAMEPAD_AXIS_INVALID</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerAxis.html">SDL_CONTROLLER_AXIS_LEFTX</a> → <a href="SDL_GamepadAxis.html">SDL_GAMEPAD_AXIS_LEFTX</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerAxis.html">SDL_CONTROLLER_AXIS_LEFTY</a> → <a href="SDL_GamepadAxis.html">SDL_GAMEPAD_AXIS_LEFTY</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerAxis.html">SDL_CONTROLLER_AXIS_MAX</a> → <a href="SDL_GamepadAxis.html">SDL_GAMEPAD_AXIS_COUNT</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerAxis.html">SDL_CONTROLLER_AXIS_RIGHTX</a> → <a href="SDL_GamepadAxis.html">SDL_GAMEPAD_AXIS_RIGHTX</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerAxis.html">SDL_CONTROLLER_AXIS_RIGHTY</a> → <a href="SDL_GamepadAxis.html">SDL_GAMEPAD_AXIS_RIGHTY</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerAxis.html">SDL_CONTROLLER_AXIS_TRIGGERLEFT</a> → <a href="SDL_GamepadAxis.html">SDL_GAMEPAD_AXIS_LEFT_TRIGGER</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerAxis.html">SDL_CONTROLLER_AXIS_TRIGGERRIGHT</a> → <a href="SDL_GamepadAxis.html">SDL_GAMEPAD_AXIS_RIGHT_TRIGGER</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerBindType.html">SDL_CONTROLLER_BINDTYPE_AXIS</a> → <a href="SDL_GamepadBindingType.html">SDL_GAMEPAD_BINDTYPE_AXIS</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerBindType.html">SDL_CONTROLLER_BINDTYPE_BUTTON</a> → <a href="SDL_GamepadBindingType.html">SDL_GAMEPAD_BINDTYPE_BUTTON</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerBindType.html">SDL_CONTROLLER_BINDTYPE_HAT</a> → <a href="SDL_GamepadBindingType.html">SDL_GAMEPAD_BINDTYPE_HAT</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerBindType.html">SDL_CONTROLLER_BINDTYPE_NONE</a> → <a href="SDL_GamepadBindingType.html">SDL_GAMEPAD_BINDTYPE_NONE</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerButton.html">SDL_CONTROLLER_BUTTON_A</a> → <a href="SDL_GamepadButton.html">SDL_GAMEPAD_BUTTON_SOUTH</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerButton.html">SDL_CONTROLLER_BUTTON_B</a> → <a href="SDL_GamepadButton.html">SDL_GAMEPAD_BUTTON_EAST</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerButton.html">SDL_CONTROLLER_BUTTON_BACK</a> → <a href="SDL_GamepadButton.html">SDL_GAMEPAD_BUTTON_BACK</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerButton.html">SDL_CONTROLLER_BUTTON_DPAD_DOWN</a> → <a href="SDL_GamepadButton.html">SDL_GAMEPAD_BUTTON_DPAD_DOWN</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerButton.html">SDL_CONTROLLER_BUTTON_DPAD_LEFT</a> → <a href="SDL_GamepadButton.html">SDL_GAMEPAD_BUTTON_DPAD_LEFT</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerButton.html">SDL_CONTROLLER_BUTTON_DPAD_RIGHT</a> → <a href="SDL_GamepadButton.html">SDL_GAMEPAD_BUTTON_DPAD_RIGHT</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerButton.html">SDL_CONTROLLER_BUTTON_DPAD_UP</a> → <a href="SDL_GamepadButton.html">SDL_GAMEPAD_BUTTON_DPAD_UP</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerButton.html">SDL_CONTROLLER_BUTTON_GUIDE</a> → <a href="SDL_GamepadButton.html">SDL_GAMEPAD_BUTTON_GUIDE</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerButton.html">SDL_CONTROLLER_BUTTON_INVALID</a> → <a href="SDL_GamepadButton.html">SDL_GAMEPAD_BUTTON_INVALID</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerButton.html">SDL_CONTROLLER_BUTTON_LEFTSHOULDER</a> → <a href="SDL_GamepadButton.html">SDL_GAMEPAD_BUTTON_LEFT_SHOULDER</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerButton.html">SDL_CONTROLLER_BUTTON_LEFTSTICK</a> → <a href="SDL_GamepadButton.html">SDL_GAMEPAD_BUTTON_LEFT_STICK</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerButton.html">SDL_CONTROLLER_BUTTON_MAX</a> → <a href="SDL_GamepadButton.html">SDL_GAMEPAD_BUTTON_COUNT</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerButton.html">SDL_CONTROLLER_BUTTON_MISC1</a> → <a href="SDL_GamepadButton.html">SDL_GAMEPAD_BUTTON_MISC1</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerButton.html">SDL_CONTROLLER_BUTTON_PADDLE1</a> → <a href="SDL_GamepadButton.html">SDL_GAMEPAD_BUTTON_RIGHT_PADDLE1</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerButton.html">SDL_CONTROLLER_BUTTON_PADDLE2</a> → <a href="SDL_GamepadButton.html">SDL_GAMEPAD_BUTTON_LEFT_PADDLE1</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerButton.html">SDL_CONTROLLER_BUTTON_PADDLE3</a> → <a href="SDL_GamepadButton.html">SDL_GAMEPAD_BUTTON_RIGHT_PADDLE2</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerButton.html">SDL_CONTROLLER_BUTTON_PADDLE4</a> → <a href="SDL_GamepadButton.html">SDL_GAMEPAD_BUTTON_LEFT_PADDLE2</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerButton.html">SDL_CONTROLLER_BUTTON_RIGHTSHOULDER</a> → <a href="SDL_GamepadButton.html">SDL_GAMEPAD_BUTTON_RIGHT_SHOULDER</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerButton.html">SDL_CONTROLLER_BUTTON_RIGHTSTICK</a> → <a href="SDL_GamepadButton.html">SDL_GAMEPAD_BUTTON_RIGHT_STICK</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerButton.html">SDL_CONTROLLER_BUTTON_START</a> → <a href="SDL_GamepadButton.html">SDL_GAMEPAD_BUTTON_START</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerButton.html">SDL_CONTROLLER_BUTTON_TOUCHPAD</a> → <a href="SDL_GamepadButton.html">SDL_GAMEPAD_BUTTON_TOUCHPAD</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerButton.html">SDL_CONTROLLER_BUTTON_X</a> → <a href="SDL_GamepadButton.html">SDL_GAMEPAD_BUTTON_WEST</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GameControllerButton.html">SDL_CONTROLLER_BUTTON_Y</a> → <a href="SDL_GamepadButton.html">SDL_GAMEPAD_BUTTON_NORTH</a>
<li>SDL_CONTROLLER_TYPE_NINTENDO_SWITCH_JOYCON_LEFT → <a href="SDL_GamepadType.html">SDL_GAMEPAD_TYPE_NINTENDO_SWITCH_JOYCON_LEFT</a>
<li>SDL_CONTROLLER_TYPE_NINTENDO_SWITCH_JOYCON_PAIR → <a href="SDL_GamepadType.html">SDL_GAMEPAD_TYPE_NINTENDO_SWITCH_JOYCON_PAIR</a>
<li>SDL_CONTROLLER_TYPE_NINTENDO_SWITCH_JOYCON_RIGHT → <a href="SDL_GamepadType.html">SDL_GAMEPAD_TYPE_NINTENDO_SWITCH_JOYCON_RIGHT</a>
<li>SDL_CONTROLLER_TYPE_NINTENDO_SWITCH_PRO → <a href="SDL_GamepadType.html">SDL_GAMEPAD_TYPE_NINTENDO_SWITCH_PRO</a>
<li>SDL_CONTROLLER_TYPE_PS3 → <a href="SDL_GamepadType.html">SDL_GAMEPAD_TYPE_PS3</a>
<li>SDL_CONTROLLER_TYPE_PS4 → <a href="SDL_GamepadType.html">SDL_GAMEPAD_TYPE_PS4</a>
<li>SDL_CONTROLLER_TYPE_PS5 → <a href="SDL_GamepadType.html">SDL_GAMEPAD_TYPE_PS5</a>
<li>SDL_CONTROLLER_TYPE_UNKNOWN → <a href="SDL_GamepadType.html">SDL_GAMEPAD_TYPE_STANDARD</a>
<li>SDL_CONTROLLER_TYPE_VIRTUAL → <a href="SDL_GamepadType.html">SDL_GAMEPAD_TYPE_VIRTUAL</a>
<li>SDL_CONTROLLER_TYPE_XBOX360 → <a href="SDL_GamepadType.html">SDL_GAMEPAD_TYPE_XBOX360</a>
<li>SDL_CONTROLLER_TYPE_XBOXONE → <a href="SDL_GamepadType.html">SDL_GAMEPAD_TYPE_XBOXONE</a>
</ul>
<h2><a name="#sdl_gestureh">SDL_gesture.h (ジェスチャ)</a></h2>
ジェスチャAPIは削除された.
SDL3の代わりの計画もない.
しかし, SDL2のコードはシングルヘッダライブラリに移され, これをSDL2またはSDL3のプログラムに組み込むことができるので, この機能を引き続き提供し移行することができる.
これは<a href="https://github.com/libsdl-org/SDL_gesture">SDL_gesture GitHubリポジトリ</a>にある.
<h2><a name="#sdl_guidh">SDL_guid.h (GUID)</a></h2>
<p>
<a href="SDL_GUIDToString.html">SDL_GUIDToString()</a>はGUIDを表す文字列への定数ポインタを戻すようになった.
</p>
<p>
以下の関数の名前は次の様に変更された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GUIDFromString.html">SDL_GUIDFromString()</a> → <a href="SDL_StringToGUID.html">SDL_StringToGUID()</a>
</ul>
<h2><a name="#sdl_haptich">SDL_haptic.h (ハプティック)</a></h2>
<p>
ゲームパッドの単純な振動はSDLハプティックインターフェースからなくなった. 代わりに<a href="SDL_RumbleGamepad.html">SDL_RumbleGamepad()</a>を使用すること.
</p>
<p>
デバイスのインデックス番号を用いてハプティックデバイスを反復処理するのではなく, 新しい関数<a href="SDL_GetHaptics.html">SDL_GetHaptics()</a>で現在のハプティックデバイスの一覧を得て, そのインスタンスIDから新しい関数でハプティックデバイスの情報を得ることもできる:
<code>
<pre>
{
    if (SDL_InitSubSystem(SDL_INIT_HAPTIC)) {
        int i, num_haptics;
        SDL_HapticID *haptics = SDL_GetHaptics(&amp;num_haptics);
        if (haptics) {
            for (i = 0; i < num_haptics; ++i) {
                SDL_HapticID instance_id = haptics[i];
                SDL_Log("ハプティック %" SDL_PRIu32 ": %s", instance_id, SDL_GetHapticNameForID(instance_id));
            }
            SDL_free(haptics);
        }
        SDL_QuitSubSystem(SDL_INIT_HAPTIC);
    }
}
</pre>
</code>
</p>
<p>
<a href="SDL_GetHapticEffectStatus.html">SDL_GetHapticEffectStatus()</a>はintの代わりにboolを戻すようになった.
この関数を呼ぶ前に<a href="SDL_GetHapticFeatures.html">SDL_GetHapticFeatures()</a>を呼んでエフェクトが対応していること確認する必要がある.
</p>
<p>
以下の関数の名前は次の様に変更された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HapticClose.html">SDL_HapticClose()</a> → <a href="SDL_CloseHaptic.html">SDL_CloseHaptic()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HapticDestroyEffect.html">SDL_HapticDestroyEffect()</a> → <a href="SDL_DestroyHapticEffect.html">SDL_DestroyHapticEffect()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HapticGetEffectStatus.html">SDL_HapticGetEffectStatus()</a> → <a href="SDL_GetHapticEffectStatus.html">SDL_GetHapticEffectStatus()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HapticNewEffect.html">SDL_HapticNewEffect()</a> → <a href="SDL_CreateHapticEffect.html">SDL_CreateHapticEffect()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HapticNumAxes.html">SDL_HapticNumAxes()</a> → <a href="SDL_GetNumHapticAxes.html">SDL_GetNumHapticAxes()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HapticNumEffects.html">SDL_HapticNumEffects()</a> → <a href="SDL_GetMaxHapticEffects.html">SDL_GetMaxHapticEffects()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HapticNumEffectsPlaying.html">SDL_HapticNumEffectsPlaying()</a> → <a href="SDL_GetMaxHapticEffectsPlaying.html">SDL_GetMaxHapticEffectsPlaying()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HapticOpen.html">SDL_HapticOpen()</a> → <a href="SDL_OpenHaptic.html">SDL_OpenHaptic()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HapticOpenFromJoystick.html">SDL_HapticOpenFromJoystick()</a> → <a href="SDL_OpenHapticFromJoystick.html">SDL_OpenHapticFromJoystick()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HapticOpenFromMouse.html">SDL_HapticOpenFromMouse()</a> → <a href="SDL_OpenHapticFromMouse.html">SDL_OpenHapticFromMouse()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HapticPause.html">SDL_HapticPause()</a> → <a href="SDL_PauseHaptic.html">SDL_PauseHaptic()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HapticQuery.html">SDL_HapticQuery()</a> → <a href="SDL_GetHapticFeatures.html">SDL_GetHapticFeatures()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HapticRumbleInit.html">SDL_HapticRumbleInit()</a> → <a href="SDL_InitHapticRumble.html">SDL_InitHapticRumble()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HapticRumblePlay.html">SDL_HapticRumblePlay()</a> → <a href="SDL_PlayHapticRumble.html">SDL_PlayHapticRumble()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HapticRumbleStop.html">SDL_HapticRumbleStop()</a> → <a href="SDL_StopHapticRumble.html">SDL_StopHapticRumble()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HapticRunEffect.html">SDL_HapticRunEffect()</a> → <a href="SDL_RunHapticEffect.html">SDL_RunHapticEffect()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HapticSetAutocenter.html">SDL_HapticSetAutocenter()</a> → <a href="SDL_SetHapticAutocenter.html">SDL_SetHapticAutocenter()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HapticSetGain.html">SDL_HapticSetGain()</a> → <a href="SDL_SetHapticGain.html">SDL_SetHapticGain()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HapticStopAll.html">SDL_HapticStopAll()</a> → <a href="SDL_StopHapticEffects.html">SDL_StopHapticEffects()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HapticStopEffect.html">SDL_HapticStopEffect()</a> → <a href="SDL_StopHapticEffect.html">SDL_StopHapticEffect()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HapticUnpause.html">SDL_HapticUnpause()</a> → <a href="SDL_ResumeHaptic.html">SDL_ResumeHaptic()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HapticUpdateEffectv">SDL_HapticUpdateEffect()</a> → <a href="SDL_UpdateHapticEffect.html">SDL_UpdateHapticEffect()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoystickIsHaptic.html">SDL_JoystickIsHaptic()</a> → <a href="SDL_IsJoystickHaptic.html">SDL_IsJoystickHaptic()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_MouseIsHaptic.html">SDL_MouseIsHaptic()</a> → <a href="SDL_IsMouseHaptic.html">SDL_IsMouseHaptic()</a>
</ul>
<p>
以下の関数は削除された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HapticIndex.html">SDL_HapticIndex()</a> - <a href="SDL_GetHapticID.html">SDL_GetHapticID()</a>に置き換えられた
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HapticName.html">SDL_HapticName()</a> - <a href="SDL_GetHapticNameForID.html">SDL_GetHapticNameForID()</a>に置き換えられた
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HapticOpened.html">SDL_HapticOpened()</a> - <a href="SDL_GetHapticFromID.html">SDL_GetHapticFromID()</a>に置き換えられた
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_NumHaptics.html">SDL_NumHaptics()</a> - <a href="SDL_GetHaptics.html">SDL_GetHaptics()</a>に置き換えられた
</ul>
<h2><a name="#sdl_hintsh">SDL_hints.h (ヒント)</a></h2>
<p>
<a href="https://wiki.libsdl.org/SDL3/SDL_GetHint">SDL_GetHint()</a>でヒント名を指定して呼んだとき, ヒントコールバックは変更前の値ではなく変更後の値を戻すようになった.
変更前の値もヒントコールバックの引数として渡される.
</p>
<p>
環境変数SDL_VIDEODRIVERとSDL_AUDIODRIVERの名前はSDL_VIDEO_DRIVERとSDL_AUDIO_DRIVERに変更された. しかし, フォールバックとして古い名前にも対応している.
</p>
<p>
環境変数SDL_VIDEO_X11_WMCLASSとSDL_VIDEO_WAYLAND_WMCLASSは削除され, <a href="SDL_SetAppMetadata.html">SDL_SetAppMetadata()</a>のappindentifier引数, または<a href="SDL_SetAppMetadataProperty.html">SDL_SetAppMetadataProperty()</a>のSDL_PROP_APP_METADATA_IDENTIFIER_STRINGの設定に置き換えられた.
</p>
<p>
環境変数AUDIODEVはOSSとNetBSDのオーディオドライバのオーディオデバイスの場合のみ使用されるようになった.
ALSAドライバの場合は<a href="https://wiki.libsdl.org/SDL3/SDL_HINT_AUDIO_ALSA_DEFAULT_DEVICE">SDL_HINT_AUDIO_ALSA_DEFAULT_DEVICE</a>ヒントに, sndioドライバの場合は環境変数AUDIODEVICEに置き換えられた.
</p>
<p>
以下のヒントの名前は次の様に変更された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HINT_ALLOW_TOPMOST.html">SDL_HINT_ALLOW_TOPMOST</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_HINT_WINDOW_ALLOW_TOPMOST">SDL_HINT_WINDOW_ALLOW_TOPMOST</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HINT_AUDIODRIVER.html">SDL_HINT_AUDIODRIVER</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_HINT_AUDIO_DRIVER">SDL_HINT_AUDIO_DRIVER</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HINT_DIRECTINPUT_ENABLED.html">SDL_HINT_DIRECTINPUT_ENABLED</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_HINT_JOYSTICK_DIRECTINPUT">SDL_HINT_JOYSTICK_DIRECTINPUT</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HINT_GDK_TEXTINPUT_DEFAULT.html">SDL_HINT_GDK_TEXTINPUT_DEFAULT</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_HINT_GDK_TEXTINPUT_DEFAULT_TEXT">SDL_HINT_GDK_TEXTINPUT_DEFAULT_TEXT</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HINT_JOYSTICK_GAMECUBE_RUMBLE_BRAKE.html">SDL_HINT_JOYSTICK_GAMECUBE_RUMBLE_BRAKE</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_HINT_JOYSTICK_HIDAPI_GAMECUBE_RUMBLE_BRAKE">SDL_HINT_JOYSTICK_HIDAPI_GAMECUBE_RUMBLE_BRAKE</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HINT_JOYSTICK_HIDAPI_PS4_RUMBLE.html">SDL_HINT_JOYSTICK_HIDAPI_PS4_RUMBLE</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_HINT_JOYSTICK_ENHANCED_REPORTS">SDL_HINT_JOYSTICK_ENHANCED_REPORTS</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HINT_JOYSTICK_HIDAPI_PS5_RUMBLE.html">SDL_HINT_JOYSTICK_HIDAPI_PS5_RUMBLE</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_HINT_JOYSTICK_ENHANCED_REPORTS">SDL_HINT_JOYSTICK_ENHANCED_REPORTS</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HINT_LINUX_DIGITAL_HATS.html">SDL_HINT_LINUX_DIGITAL_HATS</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_HINT_JOYSTICK_LINUX_DIGITAL_HATS">SDL_HINT_JOYSTICK_LINUX_DIGITAL_HATS</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HINT_LINUX_HAT_DEADZONES.html">SDL_HINT_LINUX_HAT_DEADZONES</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_HINT_JOYSTICK_LINUX_HAT_DEADZONES">SDL_HINT_JOYSTICK_LINUX_HAT_DEADZONES</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HINT_LINUX_JOYSTICK_CLASSIC.html">SDL_HINT_LINUX_JOYSTICK_CLASSIC.</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_HINT_JOYSTICK_LINUX_CLASSIC">SDL_HINT_JOYSTICK_LINUX_CLASSIC</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HINT_LINUX_JOYSTICK_DEADZONES.html">SDL_HINT_LINUX_JOYSTICK_DEADZONES</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_HINT_JOYSTICK_LINUX_DEADZONES">SDL_HINT_JOYSTICK_LINUX_DEADZONES</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HINT_VIDEODRIVER.html">SDL_HINT_VIDEODRIVER</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_HINT_VIDEO_DRIVER">SDL_HINT_VIDEO_DRIVER</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HINT_VIDEO_WAYLAND_EMULATE_MOUSE_WARP.html">SDL_HINT_VIDEO_WAYLAND_EMULATE_MOUSE_WARP</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_HINT_MOUSE_EMULATE_WARP_WITH_RELATIVE">SDL_HINT_MOUSE_EMULATE_WARP_WITH_RELATIVE</a>
</ul>
<p>
以下のヒントは削除された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HINT_ACCELEROMETER_AS_JOYSTICK.html">SDL_HINT_ACCELEROMETER_AS_JOYSTICK</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HINT_ANDROID_BLOCK_ON_PAUSE_PAUSEAUDIO.html">SDL_HINT_ANDROID_BLOCK_ON_PAUSE_PAUSEAUDIO</a> - 音声はアプリケーションが一時停止すると一時停止する. この動作は<a href="https://wiki.libsdl.org/SDL3/SDL_HINT_ANDROID_BLOCK_ON_PAUSE">SDL_HINT_ANDROID_BLOCK_ON_PAUSE</a>で変更できる
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HINT_AUDIO_DEVICE_APP_NAME.html">SDL_HINT_AUDIO_DEVICE_APP_NAME</a> - <a href="https://wiki.libsdl.org/SDL3/SDL_SetAppMetadata">SDL_SetAppMetadata()</a>のappname引数, または<a href="https://wiki.libsdl.org/SDL3/SDL_SetAppMetadataProperty">SDL_SetAppMetadataProperty()</a>にSDL_PROP_APP_METADATA_NAME_STRINGを設定する, のいずれかに置き換えられた
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HINT_GAMECONTROLLER_USE_BUTTON_LABELS.html">SDL_HINT_GAMECONTROLLER_USE_BUTTON_LABELS</a> - ゲームパッドのボタンは常に位置を表すようになった
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HINT_GRAB_KEYBOARD.html">SDL_HINT_GRAB_KEYBOARD</a> - 代わりに<a href="https://wiki.libsdl.org/SDL3/SDL_SetWindowKeyboardGrab">SDL_SetWindowKeyboardGrab()</a>を使うこと
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HINT_IDLE_TIMER_DISABLED.html">SDL_HINT_IDLE_TIMER_DISABLED</a> - 代わりに<a href="https://wiki.libsdl.org/SDL3/SDL_DisableScreenSaver">SDL_DisableScreenSaver()</a>を使うこと
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HINT_IME_INTERNAL_EDITING.html">SDL_HINT_IME_INTERNAL_EDITING</a> - <a href="https://wiki.libsdl.org/SDL3/SDL_HINT_IME_IMPLEMENTED_UI">SDL_HINT_IME_IMPLEMENTED_UI</a>に置き換えられた
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HINT_IME_SHOW_UI.html">SDL_HINT_IME_SHOW_UI</a> - <a href="https://wiki.libsdl.org/SDL3/SDL_HINT_IME_IMPLEMENTED_UI">SDL_HINT_IME_IMPLEMENTED_UI</a>に置き換えられた
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HINT_IME_SUPPORT_EXTENDED_TEXT.html">SDL_HINT_IME_SUPPORT_EXTENDED_TEXT</a> - 拡張テキストは通常のテキスト編集イベントに追加された
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HINT_MOUSE_RELATIVE_MODE_WARP.html">SDL_HINT_MOUSE_RELATIVE_MODE_WARP</a> - 相対モードは, ハードウェアレベルで対応しているか, 使用不可が報告される
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HINT_MOUSE_RELATIVE_SCALING.html">SDL_HINT_MOUSE_RELATIVE_SCALING</a> - マウス座標はSDLレンダラによって自動的に拡大縮小しないようになった
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HINT_PS2_DYNAMIC_VSYNC.html">SDL_HINT_PS2_DYNAMIC_VSYNC</a> - 代わりに<a href="https://wiki.libsdl.org/SDL3/SDL_SetRenderVSync">SDL_SetRenderVSync(renderer, -1)</a>を使用すること
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HINT_RENDER_BATCHING.html">SDL_HINT_RENDER_BATCHING</a> - レンダラのバッチ化は常に有効で, アプリケーションは低レベルグラフィックAPIを呼ぶ前には必ず<a href="https://wiki.libsdl.org/SDL3/SDL_FlushRenderer">SDL_FlushRenderer()</a>を呼ぶ必要があるようになった
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HINT_RENDER_LOGICAL_SIZE_MODE.html">SDL_HINT_RENDER_LOGICAL_SIZE_MODE</a> - 論理サイズのモードは<a href="https://wiki.libsdl.org/SDL3/SDL_SetRenderLogicalPresentation">SDL_SetRenderLogicalPresentation()</a>で明確に設定するようになった
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HINT_RENDER_OPENGL_SHADERS.html">SDL_HINT_RENDER_OPENGL_SHADERS</a> - 可能な場合は常にシェーダーを使用するようになった
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HINT_RENDER_SCALE_QUALITY.html">SDL_HINT_RENDER_SCALE_QUALITY</a> - テクスチャは線形フィルタがデフォルトとなった. 最近傍補間を使用したい場合は<a href="https://wiki.libsdl.org/SDL3/SDL_SetTextureScaleMode">SDL_SetTextureScaleMode(texture, SDL_SCALEMODE_NEAREST)</a>とすること
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HINT_THREAD_STACK_SIZE.html">SDL_HINT_THREAD_STACK_SIZE</a> - スタックサイズは<a href="https://wiki.libsdl.org/SDL3/SDL_CreateThreadWithProperties">SDL_CreateThreadWithProperties()</a>で指定できるようになった
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HINT_VIDEO_EXTERNAL_CONTEXT.html">SDL_HINT_VIDEO_EXTERNAL_CONTEXT</a> - <a href="https://wiki.libsdl.org/SDL3/SDL_CreateWindowWithProperties">SDL_CreateWindowWithProperties()</a>のSDL_PROP_WINDOW_CREATE_EXTERNAL_GRAPHICS_CONTEXT_BOOLEANに置き換えられた
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HINT_VIDEO_FOREIGN_WINDOW_OPENGL.html">SDL_HINT_VIDEO_FOREIGN_WINDOW_OPENGL</a> - <a href="https://wiki.libsdl.org/SDL3/SDL_CreateWindowWithProperties">SDL_CreateWindowWithProperties()</a>のSDL_PROP_WINDOW_CREATE_OPENGL_BOOLEANに置き換えられた
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HINT_VIDEO_FOREIGN_WINDOW_VULKAN.html">SDL_HINT_VIDEO_FOREIGN_WINDOW_VULKAN</a> - <a href="https://wiki.libsdl.org/SDL3/SDL_CreateWindowWithProperties">SDL_CreateWindowWithProperties()</a>のSDL_PROP_WINDOW_CREATE_VULKAN_BOOLEANに置き換えられた
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HINT_VIDEO_HIGHDPI_DISABLED.html">SDL_HINT_VIDEO_HIGHDPI_DISABLED</a> - 高DPIは常に有効になった
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HINT_VIDEO_WINDOW_SHARE_PIXEL_FORMAT.html">SDL_HINT_VIDEO_WINDOW_SHARE_PIXEL_FORMAT</a> - <a href="https://wiki.libsdl.org/SDL3/SDL_CreateWindowWithProperties">SDL_CreateWindowWithProperties()</a>のSDL_PROP_WINDOW_CREATE_WIN32_PIXEL_FORMAT_HWND_POINTERに置き換えられた
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HINT_VIDEO_X11_FORCE_EGL.html">SDL_HINT_VIDEO_X11_FORCE_EGL</a> - 代わりに<a href="https://wiki.libsdl.org/SDL3/SDL_HINT_VIDEO_FORCE_EGL">SDL_HINT_VIDEO_FORCE_EGL</a>を使用すること
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HINT_VIDEO_X11_XINERAMA.html">SDL_HINT_VIDEO_X11_XINERAMA</a> - XineramaはX11のバックエンドとしてサポートしない
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HINT_VIDEO_X11_XVIDMODE.html">SDL_HINT_VIDEO_X11_XVIDMODE</a> - XvidmodeはX11のバックエンドとしてサポートしない
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HINT_WINDOWS_DISABLE_THREAD_NAMING.html">SDL_HINT_WINDOWS_DISABLE_THREAD_NAMING</a> - デバッガが阻止しなければSDLは正式に例外0x406D1388に対応し伝搬を防ぐようになった
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HINT_WINDOWS_FORCE_MUTEX_CRITICAL_SECTIONS.html">SDL_HINT_WINDOWS_FORCE_MUTEX_CRITICAL_SECTIONS</a> - 可能ならば常にSlim Reader/Writerロックを使用するようになった
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HINT_WINDOWS_NO_CLOSE_ON_ALT_F4.html">SDL_HINT_WINDOWS_NO_CLOSE_ON_ALT_F4</a> - <a href="https://wiki.libsdl.org/SDL3/SDL_HINT_WINDOWS_CLOSE_ON_ALT_F4">SDL_HINT_WINDOWS_CLOSE_ON_ALT_F4</a>に置き換えられた. デフォルトは真
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HINT_WINRT_HANDLE_BACK_BUTTON.html">SDL_HINT_WINRT_HANDLE_BACK_BUTTON</a> - SDL3はWinRTをサポートしない
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HINT_WINRT_PRIVACY_POLICY_LABEL.html">SDL_HINT_WINRT_PRIVACY_POLICY_LABEL</a> - SDL3はWinRTをサポートしない
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HINT_WINRT_PRIVACY_POLICY_URL.html">SDL_HINT_WINRT_PRIVACY_POLICY_URL</a> - SDL3はWinRTをサポートしない
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HINT_XINPUT_USE_OLD_JOYSTICK_MAPPING.html">SDL_HINT_XINPUT_USE_OLD_JOYSTICK_MAPPING</a>
</ul>
<p>
以下の環境変数の名前は次の様に変更された:
</p>
<ul>
<li>SDL_AUDIODRIVER → SDL_AUDIO_DRIVER
<li>SDL_PATH_DSP → AUDIODEV
<li>SDL_VIDEODRIVER → SDL_VIDEO_DRIVER
</ul>
<p>
以下の環境変数は削除された:
</p>
<ul>
<li>SDL_AUDIO_ALSA_DEBUG - <a href="https://wiki.libsdl.org/SDL3/SDL_HINT_LOGGING">SDL_HINT_LOGGING</a>ヒントの"audio=debug"に置き換えられた
<li>SDL_DISKAUDIODELAY - 遅れを絶対的な時間ではなくオーディオ時間の倍率で指定できる<a href="https://wiki.libsdl.org/SDL3/SDL_HINT_AUDIO_DISK_TIMESCALE">SDL_HINT_AUDIO_DISK_TIMESCALE</a>ヒントに置き換えられた
<li>SDL_DISKAUDIOFILE - <a href="https://wiki.libsdl.org/SDL3/SDL_HINT_AUDIO_DISK_OUTPUT_FILE">SDL_HINT_AUDIO_DISK_OUTPUT_FILE</a>にヒントに置き換えられた
<li>SDL_DISKAUDIOFILEIN - <a href="https://wiki.libsdl.org/SDL3/SDL_HINT_AUDIO_DISK_INPUT_FILE">SDL_HINT_AUDIO_DISK_INPUT_FILE</a>ヒントに置き換えられた
<li>SDL_DUMMYAUDIODELAY - 遅れを絶対的な時間ではなくオーディオ時間の倍率で指定できる<a href="https://wiki.libsdl.org/SDL3/SDL_HINT_AUDIO_DUMMY_TIMESCALE">SDL_HINT_AUDIO_DUMMY_TIMESCALE</a>ヒントに置き換えられた
<li>SDL_HAPTIC_GAIN_MAX
<li>SDL_HIDAPI_DISABLE_LIBUSB - <a href="https://wiki.libsdl.org/SDL3/SDL_HINT_HIDAPI_LIBUSB">SDL_HINT_HIDAPI_LIBUSB</a>ヒントに置き換えられた
<li>SDL_HIDAPI_JOYSTICK_DISABLE_UDEV - <a href="https://wiki.libsdl.org/SDL3/SDL_HINT_HIDAPI_UDEV">SDL_HINT_HIDAPI_UDEV</a>ヒントに置き換えられた
<li>SDL_INPUT_FREEBSD_KEEP_KBD - <a href="https://wiki.libsdl.org/SDL3/SDL_HINT_MUTE_CONSOLE_KEYBOARD">SDL_HINT_MUTE_CONSOLE_KEYBOARD</a>ヒントに置き換えられた
<li>SDL_INPUT_LINUX_KEEP_KBD - <a href="https://wiki.libsdl.org/SDL3/SDL_HINT_MUTE_CONSOLE_KEYBOARD">SDL_HINT_MUTE_CONSOLE_KEYBOARD</a>ヒントに置き換えられた
<li>VITA_DISABLE_TOUCH_BACK - <a href="https://wiki.libsdl.org/SDL3/SDL_HINT_VITA_ENABLE_BACK_TOUCH">SDL_HINT_VITA_ENABLE_BACK_TOUCH</a>ヒントに置き換えられた
<li>VITA_DISABLE_TOUCH_FRONT - <a href="https://wiki.libsdl.org/SDL3/SDL_HINT_VITA_ENABLE_FRONT_TOUCH">SDL_HINT_VITA_ENABLE_FRONT_TOUCH</a>ヒントに置き換えられた
<li>VITA_MODULE_PATH - <a href="https://wiki.libsdl.org/SDL3/SDL_HINT_VITA_MODULE_PATH">SDL_HINT_VITA_MODULE_PATH</a>ヒントに置き換えられた
<li>VITA_PVR_OGL - <a href="https://wiki.libsdl.org/SDL3/SDL_HINT_VITA_PVR_OPENGL">SDL_HINT_VITA_PVR_OPENGL</a>ヒントに置き換えられた
<li>VITA_PVR_SKIP_INIT - <a href="https://wiki.libsdl.org/SDL3/SDL_HINT_VITA_PVR_INIT">SDL_HINT_VITA_PVR_INIT</a>ヒントに置き換えられた
<li>VITA_RESOLUTION - <a href="https://wiki.libsdl.org/SDL3/SDL_HINT_VITA_RESOLUTION">SDL_HINT_VITA_RESOLUTION</a>ヒントに置き換えられた
</ul>
<p>
以下の関数は削除された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_ClearHints.html">SDL_ClearHints()</a> - <a href="SDL_ResetHints.html">SDL_ResetHints()</a>に置き換えられた
</ul>
<p>
以下の関数の名前は次の様に変更された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_DelHintCallback.html">SDL_DelHintCallback()</a> → <a href="SDL_RemoveHintCallback.html">SDL_RemoveHintCallback()</a>
</ul>
<h2><a name="#sdl_inith">SDL_init.h (初期化)</a></h2>
<p>
Haiku OSで, SDLは<a href="SDL_Init.html">SDL_Init()</a>でカレントワークディレクトリに実行ファイルのパスを設定しないようになった.
この機能が必要な場合は, 最も簡単な方法はSDL_Initを呼んだ後に次のコードを追加することである:
<code>
<pre>
{
    const char *path = SDL_GetBasePath();
    if (path) {
        chdir(path);
    }
}
</pre>
</code>
</p>
<p>
以下のシンボルの名前は次の様に変更された:
</p>
<ul>
<li>SDL_INIT_GAMECONTROLLER → SDL_INIT_GAMEPAD
</ul>
<p>
以下のシンボルは削除された:
</p>
<ul>
<li>SDL_INIT_NOPARACHUTE
<li>SDL_INIT_EVERYTHING - 必ず使用するサブシステムのみを初期化しなければならない
<li>SDL_INIT_TIMER - <a href="https://wiki.libsdl.org/SDL3/SDL_AddTimer">SDL_AddTimer()</a>を使用する場合でも必要なくなった
</ul>
<h2><a name="#sdl_joystickh">SDL_joystick.h (ジョイスティック)</a></h2>
<p>
<a href="SDL_JoystickID.html">SDL_JoystickID</a>はSint32からUint32に変更され, 無効なIDは0になった.
</p>
<p>
デバイスのインデックス番号を用いてジョイスティックを反復処理するのではなく, 新しい関数<a href="SDL_GetJoysticks.html">SDL_GetJoysticks()</a>で現在のジョイスティック一覧を得て, そのインスタンスIDから新しい関数を使ってジョイスティックの情報を得ることもできる:
<code>
<pre>
{
    if (SDL_InitSubSystem(SDL_INIT_JOYSTICK)) {
        int i, num_joysticks;
        SDL_JoystickID *joysticks = SDL_GetJoysticks(&amp;num_joysticks);
        if (joysticks) {
            for (i = 0; i < num_joysticks; ++i) {
                SDL_JoystickID instance_id = joysticks[i];
                const char *name = SDL_GetJoystickNameForID(instance_id);
                const char *path = SDL_GetJoystickPathForID(instance_id);

                SDL_Log("ジョイスティック %" SDL_PRIu32 ": %s%s%s VID 0x%.4x, PID 0x%.4x",
                        instance_id, name ? name : "不明", path ? ", " : "", path ? path : "", SDL_GetJoystickVendorForID(instance_id), SDL_GetJoystickProductForID(instance_id));
            }
            SDL_free(joysticks);
        }
        SDL_QuitSubSystem(SDL_INIT_JOYSTICK);
    }
}
</pre>
</code>
</p>
<p>
SDL_EVENT_JOYSTICK_ADDEDイベントは, <a href="SDL_Event.html">イベント構造体</a>の<a href="SDL_JoyDeviceEvent.html">jdeviceのwhichメンバ</a>にジョイスティックインスタンスIDをセットするようになった.
</p>
<p>
利用可能なジョイスティック一覧から直接参照できる関数<a href="SDL_GetJoysticks.html">SDL_GetJoysticks()</a>, <a href="SDL_GetJoystickNameForID.html">SDL_GetJoystickNameForID()</a>, <a href="SDL_GetJoystickPathForID.html">SDL_GetJoystickPathForID()</a>, <a href="https://wiki.libsdl.org/SDL3/SDL_GetJoystickPlayerIndexForID">SDL_GetJoystickPlayerIndexForID()</a>, <a href="https://wiki.libsdl.org/SDL3/SDL_GetJoystickGUIDForID">SDL_GetJoystickGUIDForID()</a>, <a href="https://wiki.libsdl.org/SDL3/SDL_GetJoystickVendorForID">SDL_GetJoystickVendorForID()</a>, <a href="https://wiki.libsdl.org/SDL3/SDL_GetJoystickProductForID">SDL_GetJoystickProductForID()</a>, <a href="https://wiki.libsdl.org/SDL3/SDL_GetJoystickProductVersionForID">SDL_GetJoystickProductVersionForID()</a>, <a href="SDL_GetJoystickTypeForID.html">SDL_GetJoystickTypeForID()</a>が追加された.
</p>
<p>
<a href="SDL_AttachVirtualJoystick.html">SDL_AttachVirtualJoystick()</a>はインデックス番号ではなくジョイスティックインスタンスIDを戻すようになり, エラーのとき0を戻すようになった.
</p>
<p>
<a href="SDL_VirtualJoystickDesc.html">SDL_VirtualJoystickDesc</a>構造体はversionに<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_VIRTUAL_JOYSTICK_DESC_VERSION.html">SDL_VIRTUAL_JOYSTICK_DESC_VERSION</a>を設定するのではなく, <a href="SDL_INIT_INTERFACE.html">SDL_INIT_INTERFACE()</a>で構造体を初期化するようになった.
</p>
<p>
以下の関数の名前は次の様に変更された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoystickAttachVirtualEx.html">SDL_JoystickAttachVirtualEx()</a> → <a href="SDL_AttachVirtualJoystick.html">SDL_AttachVirtualJoystick()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoystickClose.html">SDL_JoystickClose()</a> → <a href="SDL_CloseJoystick.html">SDL_CloseJoystick()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoystickDetachVirtual.html">SDL_JoystickDetachVirtual()</a> → <a href="SDL_DetachVirtualJoystick.html">SDL_DetachVirtualJoystick()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoystickFromInstanceID.html">SDL_JoystickFromInstanceID()</a> → <a href="SDL_GetJoystickFromID.html">SDL_GetJoystickFromID()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoystickFromPlayerIndex.html">SDL_JoystickFromPlayerIndex()</a> → <a href="SDL_GetJoystickFromPlayerIndex.html">SDL_GetJoystickFromPlayerIndex()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoystickGetAttached.html">SDL_JoystickGetAttached()</a> → <a href="SDL_JoystickConnected.html">SDL_JoystickConnected()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoystickGetAxis.html">SDL_JoystickGetAxis()</a> → <a href="SDL_GetJoystickAxis.html">SDL_GetJoystickAxis()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoystickGetAxisInitialState.html">SDL_JoystickGetAxisInitialState()</a> → <a href="SDL_GetJoystickAxisInitialState.html">SDL_GetJoystickAxisInitialState()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoystickGetBall.html">SDL_JoystickGetBall()</a> → <a href="SDL_GetJoystickBall.html">SDL_GetJoystickBall()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoystickGetButton.html">SDL_JoystickGetButton()</a> → <a href="SDL_GetJoystickButton.html">SDL_GetJoystickButton()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoystickGetFirmwareVersion.html">SDL_JoystickGetFirmwareVersion()</a> → <a href="SDL_GetJoystickFirmwareVersion.html">SDL_GetJoystickFirmwareVersion()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoystickGetGUID.html">SDL_JoystickGetGUID()</a> → <a href="SDL_GetJoystickGUID.html">SDL_GetJoystickGUID()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoystickGetGUIDFromString.html">SDL_JoystickGetGUIDFromString()</a> → <a href="SDL_StringToGUID.html">SDL_StringToGUID()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoystickGetHat.html">SDL_JoystickGetHat()</a> → <a href="SDL_GetJoystickHat.html">SDL_GetJoystickHat()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoystickGetPlayerIndex.html">SDL_JoystickGetPlayerIndex()</a> → <a href="SDL_GetJoystickPlayerIndex.html">SDL_GetJoystickPlayerIndex()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoystickGetProduct.html">SDL_JoystickGetProduct()</a> → <a href="SDL_GetJoystickProduct.html">SDL_GetJoystickProduct()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoystickGetProductVersion.html">SDL_JoystickGetProductVersion()</a> → <a href="SDL_GetJoystickProductVersion.html">SDL_GetJoystickProductVersion()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoystickGetSerial.html">SDL_JoystickGetSerial()</a> → <a href="SDL_GetJoystickSerial.html">SDL_GetJoystickSerial()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoystickGetType.html">SDL_JoystickGetType()</a> → <a href="SDL_GetJoystickType.html">SDL_GetJoystickType()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoystickGetVendor.html">SDL_JoystickGetVendor()</a> → <a href="SDL_GetJoystickVendor.html">SDL_GetJoystickVendor()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoystickInstanceID.html">SDL_JoystickInstanceID()</a> → <a href="SDL_GetJoystickID.html">SDL_GetJoystickID()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoystickIsVirtual.html">SDL_JoystickIsVirtual()</a> → <a href="SDL_IsJoystickVirtual.html">SDL_IsJoystickVirtual()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoystickName.html">SDL_JoystickName()</a> → <a href="SDL_GetJoystickName.html">SDL_GetJoystickName()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoystickNumAxes.html">SDL_JoystickNumAxes()</a> → <a href="SDL_GetNumJoystickAxes.html">SDL_GetNumJoystickAxes()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoystickNumBalls.html">SDL_JoystickNumBalls()</a> → <a href="SDL_GetNumJoystickBalls.html">SDL_GetNumJoystickBalls()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoystickNumButtons.html">SDL_JoystickNumButtons()</a> → <a href="SDL_GetNumJoystickButtons.html">SDL_GetNumJoystickButtons()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoystickNumHats.html">SDL_JoystickNumHats()</a> → <a href="SDL_GetNumJoystickHats.html">SDL_GetNumJoystickHats()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoystickOpen.html">SDL_JoystickOpen()</a> → <a href="SDL_OpenJoystick.html">SDL_OpenJoystick()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoystickPath.html">SDL_JoystickPath()</a> → <a href="SDL_GetJoystickPath.html">SDL_GetJoystickPath()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoystickRumble.html">SDL_JoystickRumble()</a> → <a href="SDL_RumbleJoystick.html">SDL_RumbleJoystick()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoystickRumbleTriggers.html">SDL_JoystickRumbleTriggers()</a> → <a href="SDL_RumbleJoystickTriggers.html">SDL_RumbleJoystickTriggers()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoystickSendEffect.html">SDL_JoystickSendEffect()</a> → <a href="SDL_SendJoystickEffect.html">SDL_SendJoystickEffect()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoystickSetLED.html">SDL_JoystickSetLED()</a> → <a href="SDL_SetJoystickLED.html">SDL_SetJoystickLED()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoystickSetPlayerIndex.html">SDL_JoystickSetPlayerIndex()</a> → <a href="SDL_SetJoystickPlayerIndex.html">SDL_SetJoystickPlayerIndex()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoystickSetVirtualAxis.html">SDL_JoystickSetVirtualAxis()</a> → <a href="SDL_SetJoystickVirtualAxis.html">SDL_SetJoystickVirtualAxis()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoystickSetVirtualButton.html">SDL_JoystickSetVirtualButton()</a> → <a href="SDL_SetJoystickVirtualButton.html">SDL_SetJoystickVirtualButton()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoystickSetVirtualHat.html">SDL_JoystickSetVirtualHat()</a> → <a href="SDL_SetJoystickVirtualHat.html">SDL_SetJoystickVirtualHat()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoystickUpdate.html">SDL_JoystickUpdate()</a> → <a href="SDL_UpdateJoysticks.html">SDL_UpdateJoysticks()</a>
</ul>
<p>
以下のシンボルの名前は次の様に変更された:
</p>
<ul>
<li>SDL_JOYSTICK_TYPE_GAMECONTROLLER → SDL_JOYSTICK_TYPE_GAMEPAD
</ul>
<p>
以下の関数は削除された
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoystickAttachVirtual.html">SDL_JoystickAttachVirtual()</a> - <a href="SDL_AttachVirtualJoystick.html">SDL_AttachVirtualJoystick()</a>に置き換えられた
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoystickCurrentPowerLevel.html">SDL_JoystickCurrentPowerLevel()</a> - <a href="SDL_GetJoystickConnectionState.html">SDL_GetJoystickConnectionState()</a>と<a href="SDL_GetJoystickPowerInfo.html">SDL_GetJoystickPowerInfo()</a>に置き換えられた
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoystickEventState.html">SDL_JoystickEventState()</a> - <a href="SDL_SetJoystickEventsEnabled.html">SDL_SetJoystickEventsEnabled()</a>と<a href="SDL_JoystickEventsEnabled.html">SDL_JoystickEventsEnabled()</a>に置き換えられた
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoystickGetDeviceGUID.html">SDL_JoystickGetDeviceGUID()</a> - <a href="SDL_GetJoystickGUIDForID.html">SDL_GetJoystickGUIDForID()</a>に置き換えられた
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoystickGetDeviceInstanceID.html">SDL_JoystickGetDeviceInstanceID()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoystickGetDevicePlayerIndex.html">SDL_JoystickGetDevicePlayerIndex()</a> - <a href="SDL_GetJoystickPlayerIndexForID.html">SDL_GetJoystickPlayerIndexForID()</a>に置き換えられた
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoystickGetDeviceProduct.html">SDL_JoystickGetDeviceProduct()</a> - <a href="SDL_GetJoystickProductForID.html">SDL_GetJoystickProductForID()</a>に置き換えられた
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoystickGetDeviceProductVersion.html">SDL_JoystickGetDeviceProductVersion()</a> - <a href="SDL_GetJoystickProductVersionForID.html">SDL_GetJoystickProductVersionForID()</a>に置き換えられた
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoystickGetDeviceType.html">SDL_JoystickGetDeviceType()</a> - <a href="SDL_GetJoystickTypeForID.html">SDL_GetJoystickTypeForID()</a>に置き換えられた
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoystickGetDeviceVendor.html">SDL_JoystickGetDeviceVendor()</a> - <a href="SDL_GetJoystickVendorForID.html">SDL_GetJoystickVendorForID()</a>に置き換えられた
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoystickGetGUIDString.html">SDL_JoystickGetGUIDString()</a> - <a href="SDL_GUIDToString.html">SDL_GUIDToString()</a>に置き換えられた
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoystickHasLED.html">SDL_JoystickHasLED()</a> - <a href="SDL_GetJoystickProperties.html">SDL_PROP_JOYSTICK_CAP_RGB_LED_BOOLEAN</a>に置き換えられた
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoystickHasRumble.html">SDL_JoystickHasRumble()</a> - <a href="SDL_GetJoystickProperties.html">SDL_PROP_JOYSTICK_CAP_RUMBLE_BOOLEAN</a>に置き換えられた
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoystickHasRumbleTriggers.html">SDL_JoystickHasRumbleTriggers()</a> - <a href="SDL_GetJoystickProperties.html">SDL_PROP_JOYSTICK_CAP_TRIGGER_RUMBLE_BOOLEAN</a>に置き換えられた
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoystickNameForIndex.html">SDL_JoystickNameForIndex()</a> - <a href="SDL_GetJoystickNameForID.html">SDL_GetJoystickNameForID()</a>に置き換えられた
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoystickPathForIndex.html">SDL_JoystickPathForIndex()</a> - <a href="SDL_GetJoystickPathForID.html">SDL_GetJoystickPathForID()</a>に置き換えられた
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_NumJoysticks.html">SDL_NumJoysticks()</a> - <a href="SDL_GetJoysticks.html">SDL_GetJoysticks()</a>に置き換えられた
</ul>
<p>
以下のシンボルは削除された:
</p>
<ul>
<li>SDL_IPHONE_MAX_GFORCE
<li>SDL_JOYBALLMOTION
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_VIRTUAL_JOYSTICK_DESC_VERSION.html">SDL_VIRTUAL_JOYSTICK_DESC_VERSION</a> - 現在では不要
</ul>
<p>
以下の構造体の名前は次の様に変更された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_JoystickGUID.html">SDL_JoystickGUID</a> → <a href="SDL_GUID.html">SDL_GUID</a>
</ul>
<h2><a name="#sdl_keyboardh">SDL_keyboard.h (キーボード)</a></h2>
<p>
テキスト入力はビデオを初期化しても自動的には有効にならなくなった. テキスト入力を受信したい場合は<a href="SDL_StartTextInput.html">SDL_StartTextInput()</a>を, 終えるときは<a href="SDL_StopTextInput.html">SDL_StopTextInput()</a>を呼ぶ必要がある.
テキスト入力を開始するとインプットメソッドエディタ(IME)が表示され, キー押下/キー離しイベントがスキップされる. よって, アプリケーションがテキスト入力を必要とする場合のみ有効にすること.
</p>
<p>
テキスト入力状態はウィンドウごとに変更された.
<a href="SDL_StartTextInput.html">SDL_StartTextInput()</a>, <a href="SDL_StopTextInput.html">SDL_StopTextInput()</a>, <a href="SDL_TextInputActive.html">SDL_TextInputActive()</a>, <a href="SDL_ClearComposition.html">SDL_ClearComposition()</a>には全てウィンドウが引数に追加された.
</p>
<p>
<a href="SDL_GetDefaultKeyFromScancode.html">SDL_GetDefaultKeyFromScancode()</a>, <a href="SDL_GetKeyFromScancode.html">SDL_GetKeyFromScancode()</a>, <a href="SDL_GetScancodeFromKey.html">SDL_GetScancodeFromKey()</a>にはSDL_Keymod引数が追加され, キー修飾の状態に基づいて結果を修正するようになった.
</p>
<p>
<a href="SDL_GetKeyboardState.html">SDL_GetKeyboardState()</a>の戻り値は, Uint8型ポインタからbool型ポインタに変更された.
</p>
<p>
以下の関数の名前は次の様に変更された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_IsScreenKeyboardShown.html">SDL_IsScreenKeyboardShown()</a> → <a href="SDL_ScreenKeyboardShown.html">SDL_ScreenKeyboardShown()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_IsTextInputActive.html">SDL_IsTextInputActive()</a> → <a href="SDL_TextInputActive.html">SDL_TextInputActive()</a>
</ul>
<p>
以下の関数は削除された
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_IsTextInputShown.html">SDL_IsTextInputShown()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SetTextInputRect.html">SDL_SetTextInputRect()</a> - <a href="SDL_SetTextInputArea.html">SDL_SetTextInputArea()</a>に置き換えられた
</ul>
<p>
以下の構造体は削除された
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_Keysym.html">SDL_Keysym</a>
</ul>
<h2><a name="#sdl_keycodeh">SDL_keycode.h (キーコード)</a></h2>
<p>
SDL_KeycodeはUint32になった.
SDL_Keycodeの取りうる値であることを明確にするため, SDLK_*は列挙体から定数となった.
</p>
<p>
スキャンコードに直接対応付けられたキーコードにあるSDLK_SCANCODE_MASKビットに加えて,
対応するスキャンコードが存在せず, Unicodeの値ではないキーコードであることを表すSDLK_EXTENDED_MASKビットが追加された
</p>
<p>
以下のシンボルは削除された:
</p>
<ul>
<li>KMOD_RESERVED - 代わりはない. "RESERVED"の名前のビットはアプリケーションでは使うべきでないが, 必要ならばKMOD_SCROLL(0x8000)がSDL2と同じ値である
<li>SDLK_WWW
<li>SDLK_MAIL
<li>SDLK_CALCULATOR
<li>SDLK_COMPUTER
<li>SDLK_BRIGHTNESSDOWN
<li>SDLK_BRIGHTNESSUP
<li>SDLK_DISPLAYSWITCH
<li>SDLK_KBDILLUMTOGGLE
<li>SDLK_KBDILLUMDOWN
<li>SDLK_KBDILLUMUP
<li>SDLK_APP1
<li>SDLK_APP2
</ul>
<p>
以下のシンボルの名前は次の様に変更された:
</p>
<ul>
<li>KMOD_ALT → SDL_KMOD_ALT
<li>KMOD_CAPS → SDL_KMOD_CAPS
<li>KMOD_CTRL → SDL_KMOD_CTRL
<li>KMOD_GUI → SDL_KMOD_GUI
<li>KMOD_LALT → SDL_KMOD_LALT
<li>KMOD_LCTRL → SDL_KMOD_LCTRL
<li>KMOD_LGUI → SDL_KMOD_LGUI
<li>KMOD_LSHIFT → SDL_KMOD_LSHIFT
<li>KMOD_MODE → SDL_KMOD_MODE
<li>KMOD_NONE → SDL_KMOD_NONE
<li>KMOD_NUM → SDL_KMOD_NUM
<li>KMOD_RALT → SDL_KMOD_RALT
<li>KMOD_RCTRL → SDL_KMOD_RCTRL
<li>KMOD_RGUI → SDL_KMOD_RGUI
<li>KMOD_RSHIFT → SDL_KMOD_RSHIFT
<li>KMOD_SCROLL → SDL_KMOD_SCROLL
<li>KMOD_SHIFT → SDL_KMOD_SHIFT
<li>SDLK_AUDIOFASTFORWARD → SDLK_MEDIA_FAST_FORWARD
<li>SDLK_AUDIOMUTE → SDLK_MUTE
<li>SDLK_AUDIONEXT → SDLK_MEDIA_NEXT_TRACK
<li>SDLK_AUDIOPLAY → SDLK_MEDIA_PLAY
<li>SDLK_AUDIOPREV → SDLK_MEDIA_PREVIOUS_TRACK
<li>SDLK_AUDIOREWIND → SDLK_MEDIA_REWIND
<li>SDLK_AUDIOSTOP → SDLK_MEDIA_STOP
<li>SDLK_BACKQUOTE → SDLK_GRAVE
<li>SDLK_EJECT → SDLK_MEDIA_EJECT
<li>SDLK_MEDIASELECT → SDLK_MEDIA_SELECT
<li>SDLK_QUOTE → SDLK_APOSTROPHE
<li>SDLK_QUOTEDBL → SDLK_DBLAPOSTROPHE
<li>SDLK_a → SDLK_A
<li>SDLK_b → SDLK_B
<li>SDLK_c → SDLK_C
<li>SDLK_d → SDLK_D
<li>SDLK_e → SDLK_E
<li>SDLK_f → SDLK_F
<li>SDLK_g → SDLK_G
<li>SDLK_h → SDLK_H
<li>SDLK_i → SDLK_I
<li>SDLK_j → SDLK_J
<li>SDLK_k → SDLK_K
<li>SDLK_l → SDLK_L
<li>SDLK_m → SDLK_M
<li>SDLK_n → SDLK_N
<li>SDLK_o → SDLK_O
<li>SDLK_p → SDLK_P
<li>SDLK_q → SDLK_Q
<li>SDLK_r → SDLK_R
<li>SDLK_s → SDLK_S
<li>SDLK_t → SDLK_T
<li>SDLK_u → SDLK_U
<li>SDLK_v → SDLK_V
<li>SDLK_w → SDLK_W
<li>SDLK_x → SDLK_X
<li>SDLK_y → SDLK_Y
<li>SDLK_z → SDLK_Z
</ul>
<h2><a name="#sdl_loadsoh">SDL_loadso.h (共有オブジェクト読込と関数検索)</a></h2>
<p>
共有オブジェクトハンドルはvoid *から不透明型の<a href="SDL_SharedObject.html">SDL_SharedObject</a> *となった.
これは型安全性のためで, 機能は変わらない.
</p>
<p>
<a href="SDL_LoadFunction.html">SDL_LoadFunction()</a>の戻り値はvoid *から<a href="https://wiki.libsdl.org/SDL3/SDL_FunctionPointer">SDL_FunctionPointer</a>となり, 関数の本来の型へのキャストが必要になった.
SDL_FUNCTION_POINTER_IS_VOID_POINTERを定義して旧来の動作と同じ動作にすることもできる.
</p>
<h2><a name="#sdl_logh">SDL_log.h (ログ処理)</a></h2>
<p>
<a href="SDL_Log.html">SDL_Log()</a>はSDL_LOG_PRIORITY_INFO以下の場合は接頭辞(prefix)を表示しないようになった.
ログの接頭辞は<a href="SDL_SetLogPriorityPrefix.html">SDL_SetLogPriorityPrefix()</a>で編集できる.
</p>
<p>
以下のマクロは削除された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_MAX_LOG_MESSAGE.html">SDL_MAX_LOG_MESSAGE</a> - 現在はメッセージの長さには制限はない. 制限を設けたい場合, SDL 2.0.24以前は4096だった.
</ul>
<p>
以下の関数の名前は次の様に変更された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_LogGetOutputFunction.html">SDL_LogGetOutputFunction()</a> → <a href="SDL_GetLogOutputFunction.html">SDL_GetLogOutputFunction()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_LogGetPriority.html">SDL_LogGetPriority()</a> → <a href="SDL_GetLogPriority.html">SDL_GetLogPriority()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_LogResetPriorities.html">SDL_LogResetPriorities()</a> → <a href="SDL_ResetLogPriorities.html">SDL_ResetLogPriorities()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_LogSetAllPriority.html">SDL_LogSetAllPriority()</a> → <a href="SDL_SetLogPriorities.html">SDL_SetLogPriorities()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_LogSetOutputFunction.html">SDL_LogSetOutputFunction()</a> → <a href="SDL_SetLogOutputFunction.html">SDL_SetLogOutputFunction()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_LogSetPriority.html">SDL_LogSetPriority()</a> → <a href="SDL_SetLogPriority.html">SDL_SetLogPriority()</a>
</ul>
<p>
以下のシンボルの名前は次の様に変更された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_LogPriority.html">SDL_NUM_LOG_PRIORITIES</a> → <a href="SDL_LogPriority.html">SDL_LOG_PRIORITY_COUNT</a>
</ul>
<h2><a name="#sdl_mainh">SDL_main.h (メイン)</a></h2>
<p>
SDL3には静的リンクするlibSDLmainはなくなった.
ヘッダのみのライブラリSDL_main.hに代わり, SDL.hには含まれなくなった.
</p>
<p>
使い方は単純である: ただ標準の<code>int main(int argc, char* argv[])</code>のあるソースファイルに<code>#include &lt;SDL3/SDL_main.h&gt;</code>を追加するだけである.
詳細はdocs/README-main-functions.mdを参照すること.
</p>
<p>
一部の環境依存エントリーポイント関数は不要のため削除された.
何らかの理由で必要な場合は, 次の置き換えがある:
<code>
<pre>
#define SDL_UIKitRunApp(ARGC, ARGV, MAIN_FUNC)  SDL_RunApp(ARGC, ARGV, MAIN_FUNC, NULL)
#define SDL_GDKRunApp(MAIN_FUNC, RESERVED)  SDL_RunApp(0, NULL, MAIN_FUNC, RESERVED)
</pre>
</code>
<p>
以下の関数は削除された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_WinRTRunApp.html">SDL_WinRTRunApp()</a> - SDL3はWinRTに対応しない
</ul>
</p>
<h2><a name="#sdl_messageboxh">SDL_messagebox.h (メッセージボックス)</a></h2>
<p>
<a href="SDL_MessageBoxButtonData.html">SDL_MessageBoxButtonData</a>の<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_MessageBoxButtonData.html">buttonid</a>フィールドは<a href="SDL_MessageBoxButtonData.html">buttonID</a>に変更された.
</p>
<p>
以下のシンボルの名前は次の様に変更された:
</p>
<ul>
<li>SDL_MESSAGEBOX_COLOR_MAX → SDL_MESSAGEBOX_COLOR_COUNT
</ul>
<h2><a name="#sdl_metalh">SDL_metal.h (Metalグラフィック)</a></h2>
<p>
<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_Metal_GetDrawableSize.html">SDL_Metal_GetDrawableSize()</a>は削除された.
<a href="SDL_GetWindowSizeInPixels.html">SDL_GetWindowSizeInPixels()</a>が代わりとなる.
</p>
<h2><a name="#sdl_mouseh">SDL_mouse.h (マウス)</a></h2>
<p>
<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_ShowCursor.html">SDL_ShowCursor()</a>は3つの関数<a href="SDL_ShowCursor.html">SDL_ShowCursor()</a>, <a href="SDL_HideCursor.html">SDL_HideCursor()</a>, <a href="SDL_CursorVisible.html">SDL_CursorVisible()</a>に分けられた.
</p>
<p>
<a href="SDL_GetMouseState.html">SDL_GetMouseState()</a>, <a href="SDL_GetGlobalMouseState.html">SDL_GetGlobalMouseState()</a>, <a href="SDL_GetRelativeMouseState.html">SDL_GetRelativeMouseState()</a>, <a href="SDL_WarpMouseInWindow.html">SDL_WarpMouseInWindow()</a>, <a href="SDL_WarpMouseGlobal.html">SDL_WarpMouseGlobal()</a>は, 環境が対応していればサブピクセルを表すために浮動小数点のマウス位置を使用するようになった.
</p>
<p>
<a href="SDL_SystemCursor.html">SDL_SystemCursor</a>の項目名はCSSのマウスカーソル名と合うように変更された.
</p>
<p>
以下の関数の名前は次の様に変更された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_FreeCursor.html">SDL_FreeCursor()</a> → <a href="SDL_DestroyCursor.html">SDL_DestroyCursor()</a>
</ul>
<p>
以下の関数は削除された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SetRelativeMouseMode.html">SDL_SetRelativeMouseMode()</a> - <a href="SDL_SetWindowRelativeMouseMode.html">SDL_SetWindowRelativeMouseMode()</a>に置き換えられた
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GetRelativeMouseMode.html">SDL_GetRelativeMouseMode()</a> - <a href="SDL_GetWindowRelativeMouseMode.html">SDL_GetWindowRelativeMouseMode()</a>に置き換えられた
</ul>
<p>
以下のシンボルの名前は次の様に変更された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_BUTTON.html">SDL_BUTTON</a> → SDL_BUTTON_MASK
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SystemCursor.html">SDL_NUM_SYSTEM_CURSORS</a> → <a href="SDL_SystemCursor.html">SDL_SYSTEM_CURSOR_COUNT</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SystemCursor.html">SDL_SYSTEM_CURSOR_ARROW</a> → <a href="SDL_SystemCursor.html">SDL_SYSTEM_CURSOR_DEFAULT</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SystemCursor.html">SDL_SYSTEM_CURSOR_HAND</a> → <a href="SDL_SystemCursor.html">SDL_SYSTEM_CURSOR_POINTER</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SystemCursor.html">SDL_SYSTEM_CURSOR_IBEAM</a> → <a href="SDL_SystemCursor.html">SDL_SYSTEM_CURSOR_TEXT</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SystemCursor.html">SDL_SYSTEM_CURSOR_NO</a> → <a href="SDL_SystemCursor.html">SDL_SYSTEM_CURSOR_NOT_ALLOWED</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SystemCursor.html">SDL_SYSTEM_CURSOR_SIZEALL</a> → <a href="SDL_SystemCursor.html">SDL_SYSTEM_CURSOR_MOVE</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SystemCursor.html">SDL_SYSTEM_CURSOR_SIZENESW</a> → <a href="SDL_SystemCursor.html">SDL_SYSTEM_CURSOR_NESW_RESIZE</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SystemCursor.html">SDL_SYSTEM_CURSOR_SIZENS</a> → <a href="SDL_SystemCursor.html">SDL_SYSTEM_CURSOR_NS_RESIZE</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SystemCursor.html">SDL_SYSTEM_CURSOR_SIZENWSE</a> → <a href="SDL_SystemCursor.html">SDL_SYSTEM_CURSOR_NWSE_RESIZE</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SystemCursor.html">SDL_SYSTEM_CURSOR_SIZEWE</a> → <a href="SDL_SystemCursor.html">SDL_SYSTEM_CURSOR_EW_RESIZE</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SystemCursor.html">SDL_SYSTEM_CURSOR_WAITARROW</a> → <a href="SDL_SystemCursor.html">SDL_SYSTEM_CURSOR_PROGRESS</a>
</ul>
<h2><a name="#sdl_mutexh">SDL_mutex.h (同期プリミティブ)</a></h2>
<p>
<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_MUTEX_MAXWAIT.html">SDL_MUTEX_MAXWAIT</a>は削除された. 無限に待つのではなく, 最大時間でタイムアウトすると誤解されるためである.
このシンボルの代わりに-1を関数に渡すこと.
</p>
<p>
<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_MUTEX_TIMEDOUT.html">SDL_MUTEX_TIMEDOUT</a>は削除された. 待機する関数は操作が成功すれば真, タイムアウトすれば偽を戻すようになった.
</p>
<p>
<a href="SDL_LockMutex.html">SDL_LockMutex()</a>, <a href="SDL_UnlockMutex.html">SDL_UnlockMutex()</a>, <a href="SDL_WaitSemaphore.html">SDL_WaitSemaphore()</a>, <a href="SDL_SignalSemaphore.html">SDL_SignalSemaphore()</a>, <a href="SDL_WaitCondition.html">SDL_WaitCondition()</a>, <a href="SDL_SignalCondition.html">SDL_SignalCondition()</a>, <a href="SDL_BroadcastCondition.html">SDL_BroadcastCondition()</a>の戻り値はvoidとなった.
オブジェクトが適切(NULLを含む. この場合はすぐに戻る)ならば, これらの関数は決して失敗しない.
オブジェクトが不正か, 別のスレッドのmutexを解除するなど呼び出しが不正ならば, 予測不能な動作となる.
</p>
<p>
<a href="SDL_TryWaitSemaphore.html">SDL_TryWaitSemaphore()</a>, <a href="SDL_WaitSemaphoreTimeout.html">SDL_WaitSemaphoreTimeout()</a>, <a href="SDL_WaitConditionTimeout.html">SDL_WaitConditionTimeout()</a>は操作が成功すれば真, タイムアウトならば偽を戻すようになった.
</p>
<p>
以下の関数の名前は次の様に変更された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_CondBroadcast.html">SDL_CondBroadcast()</a> → <a href="SDL_BroadcastCondition.html">SDL_BroadcastCondition()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_CondSignal.html">SDL_CondSignal()</a> → <a href="SDL_SignalCondition.html">SDL_SignalCondition()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_CondWait.html">SDL_CondWait()</a> → <a href="SDL_WaitCondition.html">SDL_WaitCondition()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_CondWaitTimeout.html">SDL_CondWaitTimeout()</a> → <a href="SDL_WaitConditionTimeout.html">SDL_WaitConditionTimeout()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_CreateCond.html">SDL_CreateCond()</a> → <a href="SDL_CreateCondition.html">SDL_CreateCondition()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_DestroyCond.html">SDL_DestroyCond()</a> → <a href="SDL_DestroyCondition.html">SDL_DestroyCondition()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SemPost.html">SDL_SemPost()</a> → <a href="SDL_SignalSemaphore.html">SDL_SignalSemaphore()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SemTryWait.html">SDL_SemTryWait()</a> → <a href="SDL_TryWaitSemaphore.html">SDL_TryWaitSemaphore()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SemValue.html">SDL_SemValue()</a> → <a href="SDL_GetSemaphoreValue.html">SDL_GetSemaphoreValue()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SemWait.html">SDL_SemWait()</a> → <a href="SDL_WaitSemaphore.html">SDL_WaitSemaphore()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SemWaitTimeout.html">SDL_SemWaitTimeout()</a> → <a href="SDL_WaitSemaphoreTimeout.html">SDL_WaitSemaphoreTimeout()</a>, bool値を戻す
</ul>
<p>
以下のシンボルの名前は次の様に変更された:
</p>
<ul>
<li>SDL_cond → <a href="SDL_Condition.html">SDL_Condition</a>
<li>SDL_mutex → <a href="SDL_Mutex.html">SDL_Mutex</a>
<li>SDL_sem → <a href="SDL_Semaphore.html">SDL_Semaphore</a>
</ul>
<h2><a name="#sdl_pixelsh">SDL_pixels.h (ピクセル形式と変換)</a></h2>
<p>
<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_PixelFormat.html">SDL_PixelFormat</a>の名称は<a href="SDL_PixelFormatDetails.html">SDL_PixelFormatDetails</a>に変更され, ピクセルの形式を記述するのみで, パレットは含まれなくなった.
</p>
<p>
<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_PixelFormatEnum.html">SDL_PixelFormatEnum</a>の名称は<a href="SDL_PixelFormat.html">SDL_PixelFormat</a>に変更され, Uint32の代わりに列挙体の値でピクセル形式を参照するAPI関数で使用されるようになった.
</p>
<p>
<a href="https://wiki.libsdl.org/SDL3/SDL_MapRGB">SDL_MapRGB()</a>, <a href="https://wiki.libsdl.org/SDL3/SDL_MapRGBA">SDL_MapRGBA()</a>, <a href="https://wiki.libsdl.org/SDL3/SDL_GetRGB">SDL_GetRGB()</a>, <a href="https://wiki.libsdl.org/SDL3/SDL_GetRGBA">SDL_GetRGBA()</a>は, オプションとしてパレットを取るようになった.
</p>
<p>
このようなコードは:
<code>
<pre>
    SDL_GetRGBA(pixel, surface-&gt;format, &amp;r, &amp;g, &amp;b, &amp;a);
</pre>
</code>
</p>
<p>
このように変更する必要がある:
<code>
<pre>
    SDL_GetRGBA(pixel, SDL_GetPixelFormatDetails(surface-&gt;format), SDL_GetSurfacePalette(surface), &amp;r, &amp;g, &amp;b, &amp;a);
</pre>
</code>
</p>
<p>
このようなコードは:
<code>
<pre>
    pixel = SDL_MapRGBA(surface-&gt;format, r, g, b, a);
</pre>
</code>
</p>
<p>
このように変更する必要がある:
<code>
<pre>
    pixel = SDL_MapSurfaceRGBA(surface, r, g, b, a);
</pre>
</code>
</p>
<p>
<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_CalculateGammaRamp.html">SDL_CalculateGammaRamp()</a>は削除された.
<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SetWindowGammaRamp.html">SDL_SetWindowGammaRamp()</a>と同様に, 現在のOSでは十分に対応していないためである. (SDL_video.hを参照すること)
</p>
<p>
以下の関数の名前は次の様に変更された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_AllocFormat.html">SDL_AllocFormat()</a> → <a href="SDL_GetPixelFormatDetails.html">SDL_GetPixelFormatDetails()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_AllocPalette.html">SDL_AllocPalette()</a> → <a href="SDL_CreatePalette.html">SDL_CreatePalette()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_FreePalette.html">SDL_FreePalette()</a> → <a href="SDL_DestroyPalette.html">SDL_DestroyPalette()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_MasksToPixelFormatEnum.html">SDL_MasksToPixelFormatEnum()</a> → <a href="SDL_GetPixelFormatForMasks.html">SDL_GetPixelFormatForMasks()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_PixelFormatEnumToMasks.html">SDL_PixelFormatEnumToMasks()</a> → <a href="SDL_GetMasksForPixelFormat.html">SDL_GetMasksForPixelFormat()</a>, bool値を戻す
</ul>
<p>
以下のシンボルの名前は次の様に変更された:
</p>
<ul>
<li>SDL_PIXELFORMAT_BGR444 → SDL_PIXELFORMAT_XBGR4444
<li>SDL_PIXELFORMAT_BGR555 → SDL_PIXELFORMAT_XBGR1555
<li>SDL_PIXELFORMAT_BGR888 → SDL_PIXELFORMAT_XBGR8888
<li>SDL_PIXELFORMAT_RGB444 → SDL_PIXELFORMAT_XRGB4444
<li>SDL_PIXELFORMAT_RGB555 → SDL_PIXELFORMAT_XRGB1555
<li>SDL_PIXELFORMAT_RGB888 → SDL_PIXELFORMAT_XRGB8888
</ul>
<p>
以下の関数は削除された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_FreeFormat.html">SDL_FreeFormat()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SetPixelFormatPalette.html">SDL_SetPixelFormatPalette()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_CalculateGammaRamp.html">SDL_CalculateGammaRamp()</a>
</ul>
<p>
以下のマクロは削除された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_Colour.html">SDL_Colour</a> - 代わりに<a href="SDL_Color.html">SDL_Color</a>を使用すること
</ul>
<p>
以下の構造体の名前は次の様に変更された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_PixelFormat.html">SDL_PixelFormat</a> → <a href="SDL_PixelFormatDetails.html">SDL_PixelFormatDetails</a>
</ul>
<h2><a name="#sdl_platformh">SDL_platform.h (環境検知)</a></h2>
<p>
環境プリプロセッサマクロの名称は次のように変更された:
</p>
<table border="1">
<tr><th>SDL2</th><th>SDL3</th></tr>
<tr><td>__3DS__</td><td><a href="SDL_PLATFORM_3DS.html">SDL_PLATFORM_3DS</a></td></tr>
<tr><td>__AIX__</td><td><a href="SDL_PLATFORM_AIX.html">SDL_PLATFORM_AIX</a></td></tr>
<tr><td>__ANDROID__</td><td><a href="SDL_PLATFORM_ANDROID.html">SDL_PLATFORM_ANDROID</a></td></tr>
<tr><td>__APPLE__</td><td><a href="SDL_PLATFORM_APPLE.html">SDL_PLATFORM_APPLE</a></td></tr>
<tr><td>__BSDI__</td><td><a href="SDL_PLATFORM_BSDI.html">SDL_PLATFORM_BSDI</a></td></tr>
<tr><td>__CYGWIN_</td><td><a href="SDL_PLATFORM_CYGWIN.html">SDL_PLATFORM_CYGWIN</a></td></tr>
<tr><td>__EMSCRIPTEN__</td><td><a href="SDL_PLATFORM_EMSCRIPTEN.html">SDL_PLATFORM_EMSCRIPTEN</a></td></tr>
<tr><td>__FREEBSD__</td><td><a href="SDL_PLATFORM_FREEBSD.html">SDL_PLATFORM_FREEBSD</a></td></tr>
<tr><td>__GDK__</td><td><a href="SDL_PLATFORM_GDK.html">SDL_PLATFORM_GDK</a></td></tr>
<tr><td>__HAIKU__</td><td><a href="SDL_PLATFORM_HAIKU.html">SDL_PLATFORM_HAIKU</a></td></tr>
<tr><td>__HPUX__</td><td><a href="SDL_PLATFORM_HPUX.html">SDL_PLATFORM_HPUX</a></td></tr>
<tr><td>__IPHONEOS__</td><td><a href="SDL_PLATFORM_IOS.html">SDL_PLATFORM_IOS</a></td></tr>
<tr><td>__IRIX__</td><td><a href="SDL_PLATFORM_IRIX.html">SDL_PLATFORM_IRIX</a></td></tr>
<tr><td>__LINUX__</td><td><a href="SDL_PLATFORM_LINUX.html">SDL_PLATFORM_LINUX</a></td></tr>
<tr><td>__MACOSX__</td><td><a href="SDL_PLATFORM_MACOS.html">SDL_PLATFORM_MACOS</a></td></tr>
<tr><td>__NETBSD__</td><td><a href="SDL_PLATFORM_NETBSD.html">SDL_PLATFORM_NETBSD</a></td></tr>
<tr><td>__OPENBSD__</td><td><a href="SDL_PLATFORM_OPENBSD.html">SDL_PLATFORM_OPENBSD</a></td></tr>
<tr><td>__OS2__</td><td><a href="SDL_PLATFORM_OS2.html">SDL_PLATFORM_OS2</a></td></tr>
<tr><td>__OSF__</td><td><a href="SDL_PLATFORM_OSF.html">SDL_PLATFORM_OSF</a></td></tr>
<tr><td>__PS2__</td><td><a href="SDL_PLATFORM_PS2.html">SDL_PLATFORM_PS2</a></td></tr>
<tr><td>__PSP__</td><td><a href="SDL_PLATFORM_PSP.html">SDL_PLATFORM_PSP</a></td></tr>
<tr><td>__QNXNTO__</td><td><a href="SDL_PLATFORM_QNXNTO.html">SDL_PLATFORM_QNXNTO</a></td></tr>
<tr><td>__RISCOS__</td><td><a href="SDL_PLATFORM_RISCOS.html">SDL_PLATFORM_RISCOS</a></td></tr>
<tr><td>__SOLARIS__</td><td><a href="SDL_PLATFORM_SOLARIS.html">SDL_PLATFORM_SOLARIS</a></td></tr>
<tr><td>__TVOS__</td><td><a href="SDL_PLATFORM_TVOS.html">SDL_PLATFORM_TVOS</a></td></tr>
<tr><td>__unix__</td><td><a href="SDL_PLATFORM_UNIX.html">SDL_PLATFORM_UNIX</a></td></tr>
<tr><td>__VITA__</td><td><a href="SDL_PLATFORM_VITA.html">SDL_PLATFORM_VITA</a></td></tr>
<tr><td>__WIN32__</td><td><a href="SDL_PLATFORM_WIN32.html">SDL_PLATFORM_WIN32</a></td></tr>
<tr><td>__WINGDK__</td><td><a href="SDL_PLATFORM_WINGDK.html">SDL_PLATFORM_WINGDK</a></td></tr>
<tr><td>__XBOXONE__</td><td><a href="SDL_PLATFORM_XBOXONE.html">SDL_PLATFORM_XBOXONE</a></td></tr>
<tr><td>__XBOXSERIES__</td><td><a href="SDL_PLATFORM_XBOXSERIES.html">SDL_PLATFORM_XBOXSERIES</a></td></tr>
</table>
<p>
Pythonスクリプト<a href="https://github.com/libsdl-org/SDL/blob/main/build-scripts/rename_macros.py">rename_macros.py</a>でソースコード上の名称を自動的に変更することもできる.
</p>
<p>
新しく追加されたマクロ<a href="SDL_PLATFORM_WINDOWS.html">SDL_PLATFORM_WINDOWS</a>は, Xbox, GDK等を含む全てのWindows環境で真となる.
</p>
<p>
以下の環境プリプロセッサマクロは削除された:
</p>
<ul>
<li>__DREAMCAST__
<li>__NACL__
<li>__PNACL__
<li>__WINDOWS__
<li>__WINRT__
</ul>
<h2><a name="#sdl_quith">SDL_quit.h (終了処理)</a></h2>
<p>
SDL_quit.hは完全に削除された.
そこにあった唯一のシンボル<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_QuitRequested.html">SDL_QuitRequested</a>が必要ならば, 以下をアプリケーションに加えること...
<code>
<pre>
    #define SDL_QuitRequested() (SDL_PumpEvents(), (SDL_PeepEvents(NULL,0,SDL_PEEKEVENT,SDL_EVENT_QUIT,SDL_EVENT_QUIT) &gt; 0))
</pre>
</code>
...しかし, このマクロは1つの式で連続して2つの関数を呼び出すやや汚いものである.
</p>
<p>
以下のマクロは削除された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_QuitRequested.html">SDL_QuitRequested</a> - 代わりに, <a href="https://wiki.libsdl.org/SDL3/SDL_PumpEvents">SDL_PumpEvents()</a>を呼び, その後<a href="https://wiki.libsdl.org/SDL3/SDL_PeepEvents">SDL_PeepEvents()</a>を直接呼ぶこと
</ul>
<h2>SDL_rect.h (領域)</h2>
<p>
以下の関数の名前は次の様に変更された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_EncloseFPoints.html">SDL_EncloseFPoints()</a> → <a href="SDL_GetRectEnclosingPointsFloat.html">SDL_GetRectEnclosingPointsFloat()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_EnclosePoints.html">SDL_EnclosePoints()</a> → <a href="SDL_GetRectEnclosingPoints.html">SDL_GetRectEnclosingPoints()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_FRectEmpty.html">SDL_FRectEmpty()</a> → <a href="SDL_RectEmptyFloat.html">SDL_RectEmptyFloat()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_FRectEquals.html">SDL_FRectEquals()</a> → <a href="SDL_RectsEqualFloat.html">SDL_RectsEqualFloat()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_FRectEqualsEpsilon.html">SDL_FRectEqualsEpsilon()</a> → <a href="SDL_RectsEqualEpsilon.html">SDL_RectsEqualEpsilon()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HasIntersection.html">SDL_HasIntersection()</a> → <a href="SDL_HasRectIntersection.html">SDL_HasRectIntersection()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HasIntersectionF.html">SDL_HasIntersectionF()</a> → <a href="SDL_HasRectIntersectionFloat.html">SDL_HasRectIntersectionFloat()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_IntersectFRect.html">SDL_IntersectFRect()</a> → <a href="SDL_GetRectIntersectionFloat.html">SDL_GetRectIntersectionFloat()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_IntersectFRectAndLine.html">SDL_IntersectFRectAndLine()</a> → <a href="SDL_GetRectAndLineIntersectionFloat.html">SDL_GetRectAndLineIntersectionFloat()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_IntersectRect.html">SDL_IntersectRect()</a> → <a href="SDL_GetRectIntersection.html">SDL_GetRectIntersection()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_IntersectRectAndLine.html">SDL_IntersectRectAndLine()</a> → <a href="SDL_GetRectAndLineIntersection.html">SDL_GetRectAndLineIntersection()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_PointInFRect.html">SDL_PointInFRect()</a> → <a href="SDL_PointInRectFloat.html">SDL_PointInRectFloat()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RectEquals.html">SDL_RectEquals()</a> → <a href="SDL_RectsEqual.html">SDL_RectsEqual()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_UnionFRect.html">SDL_UnionFRect()</a> → <a href="SDL_GetRectUnionFloat.html">SDL_GetRectUnionFloat()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_UnionRect.html">SDL_UnionRect()</a> → <a href="SDL_GetRectUnion.html">SDL_GetRectUnion()</a>, bool値を戻す
</ul>
<h2>SDL_render.h (2Dレンダリング)</h2>
<p>
SDL3でも2Dレンダラは常にバッチで行われる.
オン・オフを切り替えるトリックはない. これはどのレンダラを選択してもヒントを使用しても無関係である.
このことは, SDL3の2Dレンダラを使う全てのアプリケーションは, その環境の低レベルレイヤグラフィックAPIを直接呼んだ後は<a href="https://wiki.libsdl.org/SDL3/SDL_FlushRenderer">SDL_FlushRenderer()</a>を呼ぶ必要があることを意味する.
こうすることでアプリケーションが直接描画を開始する前に保留中のSDLのレンダリングが確実に完了する.
</p>
<p>
<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GetRenderDriverInfo.html">SDL_GetRenderDriverInfo()</a>は削除された. 報告されるほとんどの情報は推定で, レンダラを生成する前には正確な情報を得られないためである.
この関数はしばしばドライバのインデックス番号を得るために使用された. その場合は, forループの中で呼ばれ, "opengl"のようなドライバ名と比較していた.
この目的のために<a href="https://wiki.libsdl.org/SDL3/SDL_GetRenderDriver">SDL_GetRenderDriver()</a>が追加された. この関数はドライバ名のみを戻す.
</p>
<p>
<a href="https://wiki.libsdl.org/SDL3/SDL_CreateRenderer">SDL_CreateRenderer()</a>の第2引数は整数のインデックス番号ではなくなり, ドライバ名のconst char *となった.
もしforループで"opengl"のようなドライバ名のインデックス番号を検索していたならば, これからは直接文字列を渡すことができる.
NULLを渡すことはSDL2で-1を渡すことと同じで, SDLがあなたの代わりにドライバを選択する.
</p>
<p>
<a href="https://wiki.libsdl.org/SDL3/SDL_CreateRenderer">SDL_CreateRenderer()</a>のflags引数は削除された.
SDL 3.0で同様の機能をどのように得るかは後の項目を参照すること.
</p>
<p>
<a href="https://wiki.libsdl.org/SDL3/SDL_CreateWindowAndRenderer">SDL_CreateWindowAndRenderer()</a>は第1引数にウィンドウのタイトルを取るようになった.
</p>
<p>
<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GetRendererInfo.html">SDL_GetRendererInfo()</a>は削除された.
レンダラの名前は<a href="https://wiki.libsdl.org/SDL3/SDL_GetRendererName">SDL_GetRendererName()</a>で得られ, 他の情報はレンダラの<a href="https://wiki.libsdl.org/SDL3/SDL_GetTextureProperties">プロパティ</a>で得られる.
</p>
<p>
テクスチャはデフォルトではSDL_SCALEMODE_LINEARで生成される.
そして, テクスチャがαチャネルが存在するモードで生成されたとき, デフォルトではSDL_BLENDMODE_BLENDが使われる.
</p>
<p>
<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_QueryTexture.html">SDL_QueryTexture()</a>は削除された.
テクスチャの属性は<a href="https://wiki.libsdl.org/SDL3/SDL_GetTextureProperties">SDL_PROP_TEXTURE_FORMAT_NUMBER, SDL_PROP_TEXTURE_ACCESS_NUMBER, SDL_PROP_TEXTURE_WIDTH_NUMBER, SDL_PROP_TEXTURE_HEIGHT_NUMBER</a>で得られる.
テクスチャのサイズを浮動小数点の値で得る<a href="https://wiki.libsdl.org/SDL3/SDL_GetTextureSize">SDL_GetTextureSize()</a>関数が追加された.
</p>
<p>
マウスイベントとタッチイベントは座標を変換するためにフィルタされなくなった. 代わりに明確に<a href="https://wiki.libsdl.org/SDL3/SDL_ConvertEventToRenderCoordinates">SDL_ConvertEventToRenderCoordinates()</a>を呼んでマップイベント座標をレンダリングビューポイントにマッピングすることができる.
</p>
<p>
<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RenderWindowToLogical.html">SDL_RenderWindowToLogical()</a>と<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RenderLogicalToWindow.html">SDL_RenderLogicalToWindow()</a>の名称は<a href="https://wiki.libsdl.org/SDL3/SDL_RenderCoordinatesFromWindow">SDL_RenderCoordinatesFromWindow()</a>と<a href="https://wiki.libsdl.org/SDL3/SDL_RenderCoordinatesToWindow">SDL_RenderCoordinatesToWindow()</a>に変更され, どちらの座標も浮動小数点となった.
</p>
<p>
レンダラーターゲットのビューポート, クリッピング状態, 拡大率は永続的になり, アクティブな間は常に設定が維持されるようになった.
</p>
<p>
<a href="https://wiki.libsdl.org/SDL3/SDL_Vertex">SDL_Vertex</a>は浮動小数点の色指定に変更され, SDR(Standard Dynamic Range)では[0..1]の範囲となった.
</p>
<p>
<a href="https://wiki.libsdl.org/SDL3/SDL_RenderReadPixels">SDL_RenderReadPixels()</a>はメモリ上に確保された領域への代入に代わりサーフェイスを戻すようになった.
</p>
<p>
SDL2の<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RenderSetLogicalSize.html">SDL_RenderSetLogicalSize()</a>(現在の<a href="https://wiki.libsdl.org/SDL3/SDL_SetRenderLogicalPresentation">SDL_SetRenderLogicalPresentation()</a>)は拡大率とビューポート状態を変更していた.
SDL3では, 論理サイズから物理サイズへの変換時の表示モードと拡大率・ビューポート状態は分離しているため, アプリケーションはビューポートや拡大率を設定しながら論理サイズを設定することができる.
</p>
<p>
以下の関数の名前は次の様に変更された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GetRendererOutputSize.html">SDL_GetRendererOutputSize()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_GetCurrentRenderOutputSize">SDL_GetCurrentRenderOutputSize()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RenderCopy.html">SDL_RenderCopy()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_RenderTexture">SDL_RenderTexture()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RenderCopyEx.html">SDL_RenderCopyEx()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_RenderTextureRotated">SDL_RenderTextureRotated()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RenderCopyExF.html">SDL_RenderCopyExF()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_RenderTextureRotated">SDL_RenderTextureRotated()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RenderCopyF.html">SDL_RenderCopyF()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_RenderTexture">SDL_RenderTexture()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RenderDrawLine.html">SDL_RenderDrawLine()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_RenderLine">SDL_RenderLine()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RenderDrawLineF.html">SDL_RenderDrawLineF()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_RenderLine">SDL_RenderLine()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RenderDrawLines.html">SDL_RenderDrawLines()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_RenderLines">SDL_RenderLines()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RenderDrawLinesF.html">SDL_RenderDrawLinesF()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_RenderLines">SDL_RenderLines()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RenderDrawPoint.html">SDL_RenderDrawPoint()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_RenderPoint">SDL_RenderPoint()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RenderDrawPointF.html">SDL_RenderDrawPointF()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_RenderPoint">SDL_RenderPoint()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RenderDrawPoints.html">SDL_RenderDrawPoints()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_RenderPoints">SDL_RenderPoints()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RenderDrawPointsF.html">SDL_RenderDrawPointsF()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_RenderPoints">SDL_RenderPoints()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RenderDrawRect.html">SDL_RenderDrawRect()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_RenderRect">SDL_RenderRect()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RenderDrawRectF.html">SDL_RenderDrawRectF()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_RenderRect">SDL_RenderRect()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RenderDrawRects.html">SDL_RenderDrawRects()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_RenderRects">SDL_RenderRects()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RenderDrawRectsF.html">SDL_RenderDrawRectsF()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_RenderRects">SDL_RenderRects()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RenderFillRectF.html">SDL_RenderFillRectF()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_RenderFillRect">SDL_RenderFillRect()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RenderFillRectsF.html">SDL_RenderFillRectsF()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_RenderFillRects">SDL_RenderFillRects()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RenderFlush.html">SDL_RenderFlush()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_FlushRenderer">SDL_FlushRenderer()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RenderGetClipRect.html">SDL_RenderGetClipRect()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_GetRenderClipRect">SDL_GetRenderClipRect()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RenderGetIntegerScale.html">SDL_RenderGetIntegerScale()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_GetRenderIntegerScale">SDL_GetRenderIntegerScale()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RenderGetLogicalSize.html">SDL_RenderGetLogicalSize()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_GetRenderLogicalPresentation">SDL_GetRenderLogicalPresentation()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RenderGetMetalCommandEncoder.html">SDL_RenderGetMetalCommandEncoder()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_GetRenderMetalCommandEncoder">SDL_GetRenderMetalCommandEncoder()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RenderGetMetalLayer.html">SDL_RenderGetMetalLayer()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_GetRenderMetalLayer">SDL_GetRenderMetalLayer()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RenderGetScale.html">SDL_RenderGetScale()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_GetRenderScale">SDL_GetRenderScale()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RenderGetViewport.html">SDL_RenderGetViewport()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_GetRenderViewport">SDL_GetRenderViewport()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RenderGetWindow.html">SDL_RenderGetWindow()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_GetRenderWindow">SDL_GetRenderWindow()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RenderIsClipEnabled.html">SDL_RenderIsClipEnabled()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_RenderClipEnabled">SDL_RenderClipEnabled()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RenderLogicalToWindow.html">SDL_RenderLogicalToWindow()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_RenderCoordinatesToWindow">SDL_RenderCoordinatesToWindow()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RenderSetClipRect.html">SDL_RenderSetClipRect()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_SetRenderClipRect">SDL_SetRenderClipRect()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RenderSetLogicalSize.html">SDL_RenderSetLogicalSize()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_SetRenderLogicalPresentation">SDL_SetRenderLogicalPresentation()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RenderSetScale.html">SDL_RenderSetScale()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_SetRenderScale">SDL_SetRenderScale()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RenderSetVSync.html">SDL_RenderSetVSync()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_SetRenderVSync">SDL_SetRenderVSync()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RenderSetViewport.html">SDL_RenderSetViewport()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_SetRenderViewport">SDL_SetRenderViewport()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RenderWindowToLogical.html">SDL_RenderWindowToLogical()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_RenderCoordinatesFromWindow">SDL_RenderCoordinatesFromWindow()</a>, bool値を戻す
</ul>
<p>
以下の関数は削除された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GL_BindTexture.html">SDL_GL_BindTexture()</a> - <a href="https://wiki.libsdl.org/SDL3/SDL_GetTextureProperties">SDL_GetTextureProperties()</a>でOpenGLテクスチャIDを得てテクスチャに直接紐づけること
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GL_UnbindTexture.html">SDL_GL_UnbindTexture()</a> - <a href="https://wiki.libsdl.org/SDL3/SDL_GetTextureProperties">SDL_GetTextureProperties</a>でOpenGLテクスチャIDを得てテクスチャに直接紐づけを解除すること
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GetTextureUserData.html">SDL_GetTextureUserData()</a> - 代わりに<a href="https://wiki.libsdl.org/SDL3/SDL_GetTextureProperties">SDL_GetTextureProperties()</a>を使用すること
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RenderGetIntegerScale.html">SDL_RenderGetIntegerScale()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RenderSetIntegerScale.html">SDL_RenderSetIntegerScale()</a> - <a href="https://wiki.libsdl.org/SDL3/SDL_RendererLogicalPresentation">SDL_LOGICAL_PRESENTATION_INTEGER_SCALE</a>で設定するようになった
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RenderTargetSupported.html">SDL_RenderTargetSupported()</a> - レンダラーターゲットには常に対応している
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SetTextureUserData.html">SDL_SetTextureUserData()</a> - 代わりに<a href="https://wiki.libsdl.org/SDL3/SDL_GetTextureProperties">SDL_GetTextureProperties()</a>を使用すること
</ul>
<p>
以下の列挙体の名前は次の様に変更された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RendererFlip.html">SDL_RendererFlip</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_FlipMode">SDL_FlipMode</a> - SDL_surface.hに移った
</ul>
<p>
以下のシンボルの名前は次の様に変更された:
</p>
<ul>
<li>SDL_ScaleModeLinear → <a href="https://wiki.libsdl.org/SDL3/SDL_ScaleMode">SDL_SCALEMODE_LINEAR</a>
<li>SDL_ScaleModeNearest → <a href="https://wiki.libsdl.org/SDL3/SDL_ScaleMode">SDL_SCALEMODE_NEAREST</a>
</ul>
<p>
以下のシンボルは削除された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RendererFlags.html">SDL_RENDERER_ACCELERATED</a> - <a href="https://wiki.libsdl.org/SDL3/SDL_SOFTWARE_RENDERER">SDL_SOFTWARE_RENDERER</a>以外は全てアクセラレーションを使用している
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RendererFlags.html">SDL_RENDERER_PRESENTVSYNC</a> - レンダラ生成時にSDL_PROP_RENDERER_CREATE_PRESENT_VSYNC_NUMBERを使用するか, 生成後にSDL_PROP_RENDERER_VSYNC_NUMBERを使用すること
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RendererFlags.html">SDL_RENDERER_SOFTWARE</a> - レンダラの名前がSDL_SOFTWARE_RENDERERであるかチェックすること
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RendererFlags.html">SDL_RENDERER_TARGETTEXTURE</a> - 全てのレンダラはテクスチャのレンダリングに対応している
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_ScaleMode.html">SDL_ScaleModeBest</a> - 代わりにSDL_SCALEMODE_LINEARを使用すること
</ul>
<h2>SDL_rwops.h (ファイル入出力)</h2>
<p>
以下のシンボルの名前は次の様に変更された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RWops.html">RW_SEEK_CUR</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_IOWhence">SDL_IO_SEEK_CUR</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RWops.html">RW_SEEK_END</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_IOWhence">SDL_IO_SEEK_END</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RWops.html">RW_SEEK_SET</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_IOWhence">SDL_IO_SEEK_SET</a>
</ul>
<p>
SDL_rwops.hの名称はSDL_iostream.hとなった.
</p>
<p>
<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RWops.html">SDL_RWops</a>は不透明構造体となり, 名称が<a href="SDL_IOStream.html">SDL_IOStream</a>となった.
<a href="SDL_IOStream.html">SDL_IOStream</a>を生成するSDL3 API(<a href="SDL_IOFromFile.html">SDL_IOFromFile</a>など)の名称は変更されたが, SDL2と同様の機能を持つ.
しかし, アプリケーションが提供する関数へのポインタでカスタムされた<a href="SDL_IOStream.html">SDL_IOStream</a>を生成する場合は, 関数へのポインタを渡して<a href="SDL_OpenIO.html">SDL_OpenIO()</a>を呼ぶこと.
<a href="SDL_IOStream.html">SDL_IOStream</a>の機能を呼ぶには, 関数へのポインタが内部にあるため, 標準のAPI(<a href="SDL_ReadIO.html">SDL_ReadIO</a>など)を使うこと.
</p>
<p>
<a href="SDL_IOStream.html">SDL_IOStream</a>はC++の標準のiostreamクラスとは無関係であり混同しないこと!
</p>
<p>
<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RWops.html">SDL_RWops</a>の関数へのポインタは<a href="SDL_IOStreamInterface.html">SDL_IOStreamInterface</a>構造体に分けられた. これはカスタムされた<a href="SDL_IOStream.html">SDL_IOStream</a>の実装を生成するとき<a href="SDL_OpenIO.html">SDL_OpenIO</a>に提供される.
全ての関数は, <a href="SDL_IOStream.html">SDL_IOStream</a>が不透明構造体となったため, 第1引数としてvoid *userdataを取るようになった.
</p>
<p>
SDL3では, <a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RWread.html">SDL_RWread</a>と<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RWwrite.html">SDL_RWwrite</a>(そして読み込み・書き込み関数へのポインタ)は, 名称だけでなく関数シグネチャ(関数定義)も変更された.
</p>
<p>
以前はstdioのようだったが...
<code>
<pre>
    size_t SDL_RWread(SDL_RWops *context, void *ptr, size_t size, size_t maxnum);
    size_t SDL_RWwrite(SDL_RWops *context, const void *ptr, size_t size, size_t maxnum);
</pre>
</code>
</p>
<p>
POSIXのようになった:
<code>
<pre>
    size_t SDL_ReadIO(SDL_IOStream *context, void *ptr, size_t size);
    size_t SDL_WriteIO(SDL_IOStream *context, const void *ptr, size_t size);
</pre>
</code>
</p>
<p>
このように使用していたコードは...
<code>
<pre>
size_t custom_read(void *ptr, size_t size, size_t nitems, SDL_RWops *stream)
{
    return SDL_RWread(stream, ptr, size, nitems);
}
</pre>
</code>
</p>
<p>
このように変更する必要がある:
<code>
<pre>
size_t custom_read(void *ptr, size_t size, size_t nitems, SDL_IOStream *stream)
{
    if (size > 0 && nitems > 0) {
        return SDL_ReadIO(stream, ptr, size * nitems) / size;
    }
    return 0;
}
</pre>
</code>
</p>
<p>
<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RWops.html">SDL_RWops::type</a>は削除された. これはアプリケーションにとってもSDL内部で使用するとしても全く訳に立たないためである.
ストリームの種類を得るためには, 組み込まれた実行を検知するための<a href="SDL_IOStream.html">SDL_IOStream</a>のプロパティを調べること.
</p>
<p>
<a href="SDL_IOStreamInterface.html">SDL_IOStreamInterface::close</a>の実装は, 自身のuserdataの後処理をする必要があるが, 自身で<a href="SDL_CloseIO.html">SDL_CloseIO</a>を呼んではならない.
不透明オブジェクトを解放する前に常に-&gt;closeされ, <a href="SDL_CloseIO.html">SDL_CloseIO</a>が呼ばれることになっている.
</p>
<p>
<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_AllocRW.html">SDL_AllocRW()</a>, <a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_FreeRW.html">SDL_FreeRW()</a>, <a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RWclose.html">SDL_RWclose()</a>, <a href="SDL_IOStreamInterface.html">-&gt;close</a>関数の直接の呼び出しはAPIから削除された. それにより, RWopsのライフサイクルの管理は<a href="SDL_OpenIO.html">SDL_OpenIO()</a>と<a href="SDL_CloseIO.html">SDL_CloseIO()</a>のみで行われるようになった.
</p>
<p>
<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RWFromFP.html">SDL_RWFromFP</a>はAPIから削除された. SDLライブラリがアプリケーションとは別のCランタイムを使用する場合に問題が発生するためである.
</p>
<p>
これは自身のコードに簡単に実装できる:
<code>
<pre>
#include &lt;stdio.h&gt;

typedef struct IOStreamStdioFPData
{
    FILE *fp;
    bool autoclose;
} IOStreamStdioFPData;

static Sint64 SDLCALL stdio_seek(void *userdata, Sint64 offset, int whence)
{
    FILE *fp = ((IOStreamStdioFPData *) userdata)-&gt;fp;
    int stdiowhence;

    switch (whence) {
    case SDL_IO_SEEK_SET:
        stdiowhence = SEEK_SET;
        break;
    case SDL_IO_SEEK_CUR:
        stdiowhence = SEEK_CUR;
        break;
    case SDL_IO_SEEK_END:
        stdiowhence = SEEK_END;
        break;
    default:
        SDL_SetError("'whence'の値が不明");
        return -1;
    }

    if (fseek(fp, (fseek_off_t)offset, stdiowhence) == 0) {
        const Sint64 pos = ftell(fp);
        if (pos &lt; 0) {
            SDL_SetError("ストリームのオフセットを得られない");
            return -1;
        }
        return pos;
    }
    SDL_SetError("ストリームをシークできない");
    return -1;
}

static size_t SDLCALL stdio_read(void *userdata, void *ptr, size_t size, SDL_IOStatus *status)
{
    FILE *fp = ((IOStreamStdioFPData *) userdata)-&gt;fp;
    const size_t bytes = fread(ptr, 1, size, fp);
    if (bytes == 0 && ferror(fp)) {
        SDL_SetError("ストリームから読み込めない");
    }
    return bytes;
}

static size_t SDLCALL stdio_write(void *userdata, const void *ptr, size_t size, SDL_IOStatus *status)
{
    FILE *fp = ((IOStreamStdioFPData *) userdata)-&gt;fp;
    const size_t bytes = fwrite(ptr, 1, size, fp);
    if (bytes == 0 &amp;&amp; ferror(fp)) {
        SDL_SetError("ストリームに書き込めない");
    }
    return bytes;
}

static bool SDLCALL stdio_close(void *userdata)
{
    IOStreamStdioData *rwopsdata = (IOStreamStdioData *) userdata;
    bool status = true;
    if (rwopsdata-&gt;autoclose) {
        if (fclose(rwopsdata-&gt;fp) != 0) {
            SDL_SetError("ストリームを閉じられない");
            status = false;
        }
    }
    return status;
}

SDL_IOStream *SDL_RWFromFP(FILE *fp, bool autoclose)
{
    SDL_IOStreamInterface iface;
    IOStreamStdioFPData *rwopsdata;
    SDL_IOStream *rwops;

    rwopsdata = (IOStreamStdioFPData *) SDL_malloc(sizeof (*rwopsdata));
    if (!rwopsdata) {
        return NULL;
    }

    SDL_INIT_INTERFACE(&amp;iface);
	/* stdio_sizeは存在しない. SDL_GetIOSizeはstdioと同じ方法でエミュレートするためである */
    iface.seek = stdio_seek;
    iface.read = stdio_read;
    iface.write = stdio_write;
    iface.close = stdio_close;

    rwopsdata-&gt;fp = fp;
    rwopsdata-&gt;autoclose = autoclose;

    rwops = SDL_OpenIO(&amp;iface, rwopsdata);
    if (!rwops) {
        iface.close(rwopsdata);
    }
    return rwops;
}
</pre>
</code>
</p>
<p>
stdioを背後で使用するために<a href="SDL_IOFromFile.html">SDL_IOFromFile()</a>で生成したストリームは, 内部のFILE *を標準の<a href="SDL_IOStream.html">SDL_IOStream</a>を通して使用できる.
アプリケーションはこのポインタを自身の責任で使用することができ, SDLとアプリケーションが同じCランタイムを使用していることを確認する必要がある.
</p>
<p>
Appleの環境では, <a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RWFromFile.html">SDL_RWFromFile</a>(現在は<a href="SDL_IOFromFile.html">SDL_IOFromFile</a>)はアプリケーションにバンドルされたリソースディレクトリから読み込もうとせず, 指定されたパスを変更せずに使用するようになった.
これらの環境では, <a href="https://wiki.libsdl.org/SDL3/SDL_GetBasePath">SDL_GetBasePath()</a>でリソースディレクトリを見つけることができる.
</p>
<p>
<a href="SDL_ReadU8.html">SDL_ReadU8()</a>, <a href="SDL_ReadU16LE.html">SDL_ReadU16LE()</a>, <a href="SDL_ReadU16BE.html">SDL_ReadU16BE()</a>, <a href="SDL_ReadU32LE.html">SDL_ReadU32LE()</a>, <a href="SDL_ReadU32BE.html">SDL_ReadU32BE()</a>, <a href="SDL_ReadU64LE.html">SDL_ReadU64LE()</a>, <a href="SDL_ReadU64BE.html">SDL_ReadU64BE()</a>は成功のとき真, そうでないとき偽を戻し, 引数として渡したポインタのデータを保持するようになった.
</p>
<p>
以下の関数の名前は次の様に変更された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RWFromConstMem.html">SDL_RWFromConstMem()</a> → <a href="SDL_IOFromConstMem.html">SDL_IOFromConstMem()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RWFromFile.html">SDL_RWFromFile()</a> → <a href="SDL_IOFromFile.html">SDL_IOFromFile()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RWFromMem.html">SDL_RWFromMem()</a> → <a href="SDL_IOFromMem.html">SDL_IOFromMem()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RWclose.html">SDL_RWclose()</a> → <a href="SDL_CloseIO.html">SDL_CloseIO()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RWread.html">SDL_RWread()</a> → <a href="SDL_ReadIO.html">SDL_ReadIO()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RWseek.html">SDL_RWseek()</a> → <a href="SDL_SeekIO.html">SDL_SeekIO()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RWsize.html">SDL_RWsize()</a> → <a href="SDL_GetIOSize.html">SDL_GetIOSize()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RWtell.html">SDL_RWtell()</a> → <a href="SDL_TellIO.html">SDL_TellIO()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RWwrite.html">SDL_RWwrite()</a> → <a href="SDL_WriteIO.html">SDL_WriteIO()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_ReadBE16.html">SDL_ReadBE16()</a> → <a href="SDL_ReadU16BE.html">SDL_ReadU16BE()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_ReadBE32.html">SDL_ReadBE32()</a> → <a href="SDL_ReadU32BE.html">SDL_ReadU32BE()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_ReadBE64.html">SDL_ReadBE64()</a> → <a href="SDL_ReadU64BE.html">SDL_ReadU64BE()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_ReadLE16.html">SDL_ReadLE16()</a> → <a href="SDL_ReadU16LE.html">SDL_ReadU16LE()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_ReadLE32.html">SDL_ReadLE32()</a> → <a href="SDL_ReadU32LE.html">SDL_ReadU32LE()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_ReadLE64.html">SDL_ReadLE64()</a> → <a href="SDL_ReadU64LE.html">SDL_ReadU64LE()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_WriteBE16.html">SDL_WriteBE16()</a> → <a href="SDL_WriteU16BE.html">SDL_WriteU16BE()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_WriteBE32.html">SDL_WriteBE32()</a> → <a href="SDL_WriteU32BE.html">SDL_WriteU32BE()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_WriteBE64.html">SDL_WriteBE64()</a> → <a href="SDL_WriteU64BE.html">SDL_WriteU64BE()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_WriteLE16.html">SDL_WriteLE16()</a> → <a href="SDL_WriteU16LE.html">SDL_WriteU16LE()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_WriteLE32.html">SDL_WriteLE32()</a> → <a href="SDL_WriteU32LE.html">SDL_WriteU32LE()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_WriteLE64.html">SDL_WriteLE64()</a> → <a href="SDL_WriteU64LE.html">SDL_WriteU64LE()</a>
</ul>
<p>
以下の構造体の名前は次の様に変更された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RWops.html">SDL_RWops</a> → <a href="SDL_IOStream.html">SDL_IOStream</a>
</ul>
<h2><a name="#sdl_scancodeh">SDL_scancode.h (キースキャンコード)</a></h2>
<p>
以下のシンボルは削除された:
</p>
<ul>
<li>SDL_SCANCODE_WWW
<li>SDL_SCANCODE_MAIL
<li>SDL_SCANCODE_CALCULATOR
<li>SDL_SCANCODE_COMPUTER
<li>SDL_SCANCODE_BRIGHTNESSDOWN
<li>SDL_SCANCODE_BRIGHTNESSUP
<li>SDL_SCANCODE_DISPLAYSWITCH
<li>SDL_SCANCODE_KBDILLUMTOGGLE
<li>SDL_SCANCODE_KBDILLUMDOWN
<li>SDL_SCANCODE_KBDILLUMUP
<li>SDL_SCANCODE_APP1
<li>SDL_SCANCODE_APP2
</ul>
<p>
以下のシンボルの名前は次の様に変更された:
</p>
<ul>
<li>SDL_NUM_SCANCODES → SDL_SCANCODE_COUNT
<li>SDL_SCANCODE_AUDIOFASTFORWARD → SDL_SCANCODE_MEDIA_FAST_FORWARD
<li>SDL_SCANCODE_AUDIOMUTE → SDL_SCANCODE_MUTE
<li>SDL_SCANCODE_AUDIONEXT → SDL_SCANCODE_MEDIA_NEXT_TRACK
<li>SDL_SCANCODE_AUDIOPLAY → SDL_SCANCODE_MEDIA_PLAY
<li>SDL_SCANCODE_AUDIOPREV → SDL_SCANCODE_MEDIA_PREVIOUS_TRACK
<li>SDL_SCANCODE_AUDIOREWIND → SDL_SCANCODE_MEDIA_REWIND
<li>SDL_SCANCODE_AUDIOSTOP → SDL_SCANCODE_MEDIA_STOP
<li>SDL_SCANCODE_EJECT → SDL_SCANCODE_MEDIA_EJECT
<li>SDL_SCANCODE_MEDIASELECT → SDL_SCANCODE_MEDIA_SELECT
</ul>
<h2><a name="#sdl_sensorh">SDL_sensor.h (センサー)</a></h2>
<p>
<a href="SDL_SensorID.html">SDL_SensorID</a>はSint32からUint32に変更され, 無効なIDは0になった.
</p>
<p>
デバイスのインデックス番号を用いてセンサーを反復処理するのではなく, 新たに現在のセンサーの一覧を得る関数<a href="SDL_GetSensors.html">SDL_GetSensors()</a>と, そのインスタンスIDからセンサーの情報を得る関数が追加された.
<code>
<pre>
{
    if (SDL_InitSubSystem(SDL_INIT_SENSOR)) {
        int i, num_sensors;
        SDL_SensorID *sensors = SDL_GetSensors(&amp;num_sensors);
        if (sensors) {
            for (i = 0; i &lt; num_sensors; ++i) {
                SDL_Log("センサー %" SDL_PRIu32 ": %s, 種類 %d, 環境依存の種類 %d",
                        sensors[i],
                        SDL_GetSensorNameForID(sensors[i]),
                        SDL_GetSensorTypeForID(sensors[i]),
                        SDL_GetSensorNonPortableTypeForID(sensors[i]));
            }
            SDL_free(sensors);
        }
        SDL_QuitSubSystem(SDL_INIT_SENSOR);
    }
}
</pre>
</code>
</p>
<p>
<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SensorGetDataWithTimestamp.html">SDL_SensorGetDataWithTimestamp()</a>は削除された. センサーデータのタイムスタンプが必要ならば, <a href="SDL_SensorEvent.html">SDL_EVENT_SENSOR_UPDATEイベントのsensor_timestampメンバ</a>を使用すること.
</p>
<p>
以下の関数の名前は次の様に変更された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SensorClose.html">SDL_SensorClose()</a> → <a href="SDL_CloseSensor.html">SDL_CloseSensor()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SensorFromInstanceID.html">SDL_SensorFromInstanceID()</a> → <a href="SDL_GetSensorFromID.html">SDL_GetSensorFromID()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SensorGetData.html">SDL_SensorGetData()</a> → <a href="SDL_GetSensorData.html">SDL_GetSensorData()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SensorGetInstanceID.html">SDL_SensorGetInstanceID()</a> → <a href="SDL_GetSensorID.html">SDL_GetSensorID()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SensorGetName.html">SDL_SensorGetName()</a> → <a href="SDL_GetSensorName.html">SDL_GetSensorName()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SensorGetNonPortableType.html">SDL_SensorGetNonPortableType()</a> → <a href="SDL_GetSensorNonPortableType.html">SDL_GetSensorNonPortableType()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SensorGetType.html">SDL_SensorGetType()</a> → <a href="SDL_GetSensorType.html">SDL_GetSensorType()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SensorOpen.html">SDL_SensorOpen()</a> → <a href="SDL_OpenSensor.html">SDL_OpenSensor()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SensorUpdate.html">SDL_SensorUpdate()</a> → <a href="SDL_UpdateSensors.html">SDL_UpdateSensors()</a>
</ul>
<p>
以下の関数は削除された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_LockSensors.html">SDL_LockSensors()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_NumSensors.html">SDL_NumSensors()</a> - <a href="SDL_GetSensors.html">SDL_GetSensors()</a>に置き換えられた
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SensorGetDeviceInstanceID.html">SDL_SensorGetDeviceInstanceID()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SensorGetDeviceName.html">SDL_SensorGetDeviceName()</a> - <a href="SDL_GetSensorNameForID.html">SDL_GetSensorNameForID()</a>に置き換えられた
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SensorGetDeviceNonPortableType.html">SDL_SensorGetDeviceNonPortableType()</a> - <a href="SDL_GetSensorNonPortableTypeForID.html">SDL_GetSensorNonPortableTypeForID()</a>に置き換えられた
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SensorGetDeviceType.html">SDL_SensorGetDeviceType()</a> - <a href="SDL_GetSensorTypeForID.html">SDL_GetSensorTypeForID()</a>に置き換えられた
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_UnlockSensors.html">SDL_UnlockSensors()</a>
</ul>
<h2><a name="#sdl_shapeh">SDL_shape.h (非矩形ウィンドウ)</a></h2>
<p>
このヘッダは削除され, SDL_video.hに簡略化されたバージョンのAPIの<a href="SDL_SetWindowShape.html">SDL_SetWindowShape()</a>が追加された. test/testshape.cを参照すること.
</p>
<h2><a name="#sdl_stdinch">SDL_stdinc.h (標準ライブラリ)</a></h2>
<p>
stdio.hやstdlib.hのような標準Cのヘッダのようなものは含まれなくなった. SDLのCランタイムに含まれたい関数を使う場合は直接プロジェクトにインクルードする必要がある.
M_PIはSDL_stdinc.hに定義されなくなった. 代わりに新しいシンボル<a href="https://wiki.libsdl.org/SDL3/SDL_PI_D">SDL_PI_D</a>(double型)と<a href="https://wiki.libsdl.org/SDL3/SDL_PI_F">SDL_PI_F</a>(float型)を使うことができる.
</p>
<p>
bool型はboolとして定義され, intのサイズから1バイトとなった.
</p>
<p>
SDL3では大文字小文字を無視する文字列操作関数に一貫性を持たせた.
SDL2では, SDL_strcasecmp()のような関数は, 通常は英語のアルファベットのみ機能し, さらにユーザのロケールによっては英語の場合も機能しないことがあった.
SDL3では一貫性を持たせている:
</p>
<ul>
<li><a href="https://wiki.libsdl.org/SDL3/SDL_strcmp">SDL_strcmp()</a>などは, 多くの場合, 大文字小文字を区別する. これまで通りNULが終端のバイト列の文字列に対して(不正なUTF-8であっても)機能する.
<li><a href="https://wiki.libsdl.org/SDL3/SDL_strcasecmp">SDL_strcasecmp()</a>はUTF-8文字列を想定し, "case-folding"として知られる技術を用いて, 大半のUnicode文字に, 'A'と'a'や, 'Η'と'η'だけでなく, 'ß'と"ss"との比較にも対応している.
大半のアプリケーションはSDL2でもこのような動作を期待しており, 修正の必要はないはずである.
<li><a href="https://wiki.libsdl.org/SDL3/SDL_strncasecmp">SDL_strncasecmp()</a>は同じように動作する. しかし第3引数はバイト数で, ここにはこれまで通り<a href="https://wiki.libsdl.org/SDL3/SDL_strlen">SDL_strlen()</a>を使用できる.
文字列の制限がコードポイントの途中だった場合, 処理途中のバイト列はU+0xFFFD(置換文字)コードポイントとして扱われる. これは望ましくないかもしれない.
<li><a href="https://wiki.libsdl.org/SDL3/SDL_wcscasecmp">SDL_wcscasecmp()</a>と<a href="https://wiki.libsdl.org/SDL3/SDL_wcsncasecmp">SDL_wcsncasecmp()</a>は同様に動作するが, UTF-16またはUTF-32(環境がwchar_tをどのように扱うかによる)の文字列を対象とする.
<a href="https://wiki.libsdl.org/SDL3/SDL_wcsncasecmp">SDL_wcsncasecmp</a>の第3引数はバイト数ではなくwchar_tの数だが, 可変長のコードポイントに対してはUTF-8の場合と同じ問題がある.
<li><a href="https://wiki.libsdl.org/SDL3/SDL_strcasestr">SDL_strcasestr()</a>は正常なUTF-8文字列を想定しており, case-foldingを用いてコードポイントを比較する.
<li><a href="https://wiki.libsdl.org/SDL3/SDL_tolower">SDL_tolower()</a>と<a href="https://wiki.libsdl.org/SDL3/SDL_toupper">SDL_toupper()</a>は今まで通り(引数はintだが)1バイト文字のみを扱い, ASCIIの英語のAからZの文字を変換する.
<li><a href="https://wiki.libsdl.org/SDL3/SDL_strlwr">SDL_strlwr()</a>と<a href="https://wiki.libsdl.org/SDL3/SDL_strupr">SDL_strupr()</a>は個々のバイト列(UTF-8コードポイントではない)として扱い, ASCIIの英語のAからZのみを扱う.
この関数は正しいUTF-8文字列であるかをチェックしない.
<li>ctype.hの置き換えのSDL_is*()関数(<a href="https://wiki.libsdl.org/SDL3/SDL_isalpha">SDL_isalpha</a>, <a href="https://wiki.libsdl.org/SDL3/SDL_isdigit">SDL_isdigit</a>など)は, ASCII文字のみを対象として, ロケールを無視して英語として扱う.
これによりSDL3の一貫性が保たれるが, アプリケーションはこの制約に注意する必要がある.
</ul>
<p>
SDL3で使用しているcase-foldingはトルコ語の'I'を正しく処理しないことに注意すること.
これはUnicodeでは非常に困難な文字の1つで, これらの関数は使用する自然言語を特定しないため, この問題を無視することにした.
</p>
<p>
<a href="https://wiki.libsdl.org/SDL3/SDL_strtoll">SDL_strtoll()</a>, <a href="https://wiki.libsdl.org/SDL3/SDL_strtoull">SDL_strtoull()</a>, <a href="https://wiki.libsdl.org/SDL3/SDL_lltoa">SDL_lltoa()</a>, <a href="https://wiki.libsdl.org/SDL3/SDL_ulltoa">SDL_ulltoa()</a>は, 対応するCランタイムと合わせるため, 64ビットの値の代わりにlong longを使用する.
</p>
<p>
SDL_setenv()はスレッドセーフではないため名称が<a href="https://wiki.libsdl.org/SDL3/SDL_setenv_unsafe">SDL_setenv_unsafe()</a>に変更された.
</p>
<p>
以下のマクロは削除された:
</p>
<ul>
<li>SDL_TABLESIZE() - 代わりに<a href="https://wiki.libsdl.org/SDL3/SDL_arraysize">SDL_arraysize()</a>を使用すること
</ul>
<p>
以下の関数の名前は次の様に変更された:
</p>
<ul>
<li>SDL_size_add_overflow() → <a href="https://wiki.libsdl.org/SDL3/SDL_size_add_check_overflow">SDL_size_add_check_overflow()</a>, bool値を戻す
<li>SDL_size_mul_overflow() → <a href="https://wiki.libsdl.org/SDL3/SDL_size_mul_check_overflow">SDL_size_mul_check_overflow()</a>, bool値を戻す
<li>SDL_strtokr() → <a href="https://wiki.libsdl.org/SDL3/SDL_strtok_r">SDL_strtok_r()</a>
</ul>
<p>
以下の関数は削除された:
</p>
<ul>
<li>SDL_memcpy4()
</ul>
<p>
以下のシンボルの名前は次の様に変更された:
</p>
<ul>
<li>SDL_FALSE → false
<li>SDL_TRUE → true
<li>SDL_bool → bool
</ul>
<h2><a name="#sdl_surfaceh">SDL_surface.h (サーフェイスの生成と単純な描画)</a></h2>
<p>
<a href="SDL_Surface.html">SDL_Surface</a>は簡素化され, 内部の詳細は公開された構造ではなくなった.
</p>
<p>
<a href="SDL_Surface.html">SDL_Surfaceのformatメンバ</a>は<a href="SDL_PixelFormat.html">ピクセル形式の列挙体</a>の値となった.
ピクセル形式の完全な詳細は<code>SDL_GetPixelFormatDetails(surface-&gt;format)</code>で得ることができる.
サーフェイスに関連付けられたパレットは<a href="https://wiki.libsdl.org/SDL3/SDL_GetSurfacePalette">SDL_GetSurfacePalette()</a>で得ることができる.
クリップ枠は<a href="https://wiki.libsdl.org/SDL3/SDL_GetSurfaceClipRect">SDL_GetSurfaceClipRect()</a>で得ることができる.
</p>
<p>
<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_Surface">SDL_Surfaceのuserdataメンバ</a>はより汎用的なプロパティインターフェースに置き換えられた. これは<a href="https://wiki.libsdl.org/SDL3/SDL_GetSurfaceProperties">SDL_GetSurfaceProperties()</a>で問い合わせることができる.
</p>
<p>
インデックス形式のサーフェイスはデフォルトでパレットを持たないようになった.
パレットのないサーフェイスは, サーフェイス間で変換せずにピクセルをコピーする.
</p>
<p>
このように使用していたコードは...
<code>
<pre>
    SDL_Surface *surface = SDL_CreateRGBSurfaceWithFormat(0, 32, 32, 8, SDL_PIXELFORMAT_INDEX8);
    SDL_Palette *palette = surface-&gt;format-&gt;palette;
    ...
</pre>
</code>
</p>
<p>
このように変更する必要がある:
<code>
<pre>
    SDL_Surface *surface = SDL_CreateSurface(32, 32, SDL_PIXELFORMAT_INDEX8);
    SDL_Palette *palette = SDL_CreateSurfacePalette(surface);
    ...
</pre>
</code>
</p>
<p>
<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_ConvertSurface.html">SDL_ConvertSurface</a>の未使用だった引数flagsは削除された.
</p>
<p>
<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_CreateRGBSurface.html">SDL_CreateRGBSurface()</a>と<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_CreateRGBSurfaceWithFormat.html">SDL_CreateRGBSurfaceWithFormat()</a>は新しい関数<a href="SDL_CreateSurface.html">SDL_CreateSurface()</a>に統合された.
<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_CreateRGBSurfaceFrom.html">SDL_CreateRGBSurfaceFrom()</a>と<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_CreateRGBSurfaceWithFormatFrom.html">SDL_CreateRGBSurfaceWithFormatFrom()</a>は新しい関数<a href="https://wiki.libsdl.org/SDL3/SDL_CreateSurfaceFrom">SDL_CreateSurfaceFrom()</a>に統合され, 引数の順序は<a href="https://wiki.libsdl.org/SDL3/SDL_CreateSurface">SDL_CreateSurface()</a>との一貫性のため変更された.
</p>
<p>
古い関数は簡単に実装できる:
<code>
<pre>
    SDL_Surface *SDL_CreateRGBSurface(Uint32 flags, int width, int height, int depth, Uint32 Rmask, Uint32 Gmask, Uint32 Bmask, Uint32 Amask)
    {
        return SDL_CreateSurface(width, height, SDL_GetPixelFormatForMasks(depth, Rmask, Gmask, Bmask, Amask));
    }

    SDL_Surface *SDL_CreateRGBSurfaceWithFormat(Uint32 flags, int width, int height, int depth, Uint32 format)
    {
        return SDL_CreateSurface(width, height, format);
    }

    SDL_Surface *SDL_CreateRGBSurfaceFrom(void *pixels, int width, int height, int depth, int pitch, Uint32 Rmask, Uint32 Gmask, Uint32 Bmask, Uint32 Amask)
    {
        return SDL_CreateSurfaceFrom(width, height, SDL_GetPixelFormatForMasks(depth, Rmask, Gmask, Bmask, Amask), pixels, pitch);
    }

    SDL_Surface *SDL_CreateRGBSurfaceWithFormatFrom(void *pixels, int width, int height, int depth, int pitch, Uint32 format)
    {
        return SDL_CreateSurfaceFrom(width, height, format, pixels, pitch);
    }
</pre>
</code>
</p>
<p>
しかし, マスクを使用するコードを移行する場合は, 次のうちの1つの形式を想定しているだろう:
<code>
<pre>
    // 様々なマスク(R, G, B, A)と対応したフォーマット:
    0xFF000000 0x00FF0000 0x0000FF00 0x000000FF → SDL_PIXELFORMAT_RGBA8888
    0x00FF0000 0x0000FF00 0x000000FF 0xFF000000 → SDL_PIXELFORMAT_ARGB8888
    0x0000FF00 0x00FF0000 0xFF000000 0x000000FF → SDL_PIXELFORMAT_BGRA8888
    0x000000FF 0x0000FF00 0x00FF0000 0xFF000000 → SDL_PIXELFORMAT_ABGR8888
    0x0000F800 0x000007E0 0x0000001F 0x00000000 → SDL_PIXELFORMAT_RGB565
</pre>
</code>
</p>
<p>
<a href="https://wiki.libsdl.org/SDL3/SDL_BlitSurface">SDL_BlitSurface()</a>と<a href="https://wiki.libsdl.org/SDL3/SDL_BlitSurfaceScaled">SDL_BlitSurfaceScaled()</a>の引数dstrectはconstになり, 最後にコピーされた領域は代入されないようになった.
</p>
<p>
拡大率付きの<a href="https://wiki.libsdl.org/SDL3/SDL_BlitSurfaceScaled">SDL_BlitSurfaceScaled()</a>と<a href="https://wiki.libsdl.org/SDL3/SDL_BlitSurfaceUncheckedScaled">SDL_BlitSurfaceUncheckedScaled()</a>が追加された.
</p>
<p>
API関数のピクセル形式の<a href="SDL_PixelFormat.html">SDL_PixelFormat</a>は, Uint32ではなく列挙体の値となった.
</p>
<p>
<a href="https://wiki.libsdl.org/SDL3/SDL_SetSurfaceColorKey">SDL_SetSurfaceColorKey()</a>はbool値でカラーキーの有効無効を設定できるようになった.
この引数でRLEアクセラレーションは制御できない.
<a href="https://wiki.libsdl.org/SDL3/SDL_SetSurfaceRLE">SDL_SetSurfaceRLE()</a>を用いて別に変更する必要がある.
</p>
<p>
<a href="https://wiki.libsdl.org/SDL3/SDL_SetSurfaceRLE">SDL_SetSurfaceRLE()</a>はbool値でRLEアクセラレーションの有効無効を設定できるようになった.
</p>
<p>
以下の関数の名前は次の様に変更された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_BlitScaled.html">SDL_BlitScaled()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_BlitSurfaceScaled">SDL_BlitSurfaceScaled()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_ConvertSurfaceFormat.html">SDL_ConvertSurfaceFormat()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_ConvertSurface">SDL_ConvertSurface()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_FillRect.html">SDL_FillRect()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_FillSurfaceRect">SDL_FillSurfaceRect()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_FillRects.html">SDL_FillRects()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_FillSurfaceRects">SDL_FillSurfaceRects()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_FreeSurface.html">SDL_FreeSurface()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_DestroySurface">SDL_DestroySurface()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GetClipRect.html">SDL_GetClipRect()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_GetSurfaceClipRect">SDL_GetSurfaceClipRect()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GetColorKey.html">SDL_GetColorKey()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_GetSurfaceColorKey">SDL_GetSurfaceColorKey()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HasColorKey.html">SDL_HasColorKey()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_SurfaceHasColorKey">SDL_SurfaceHasColorKey()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HasSurfaceRLE.html">SDL_HasSurfaceRLE()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_SurfaceHasRLE">SDL_SurfaceHasRLE()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_LoadBMP_RW.html">SDL_LoadBMP_RW()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_LoadBMP_IO">SDL_LoadBMP_IO()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_LowerBlit.html">SDL_LowerBlit()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_BlitSurfaceUnchecked">SDL_BlitSurfaceUnchecked()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_LowerBlitScaled.html">SDL_LowerBlitScaled()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_BlitSurfaceUncheckedScaled">SDL_BlitSurfaceUncheckedScaled()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SaveBMP_RW.html">SDL_SaveBMP_RW()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_SaveBMP_IO">SDL_SaveBMP_IO()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SetClipRect.html">SDL_SetClipRect()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_SetSurfaceClipRect">SDL_SetSurfaceClipRect()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SetColorKey.html">SDL_SetColorKey()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_SetSurfaceColorKey">SDL_SetSurfaceColorKey()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_UpperBlit.html">SDL_UpperBlit()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_BlitSurface">SDL_BlitSurface()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_UpperBlitScaled.html">SDL_UpperBlitScaled()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_BlitSurfaceScaled">SDL_BlitSurfaceScaled()</a>, bool値を戻す
</ul>
<p>
以下のシンボルは削除された:
</p>
<ul>
<li>SDL_SWSURFACE
</ul>
<p>
以下の関数は削除された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_FreeFormat.html">SDL_FreeFormat()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GetYUVConversionMode.html">SDL_GetYUVConversionMode()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GetYUVConversionModeForResolution.html">SDL_GetYUVConversionModeForResolution()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SetYUVConversionMode.html">SDL_SetYUVConversionMode()</a> - <a href="https://wiki.libsdl.org/SDL3/SDL_SetSurfaceColorspace">use SDL_SetSurfaceColorspace()</a>を使いサーフェイスの色空間を設定し, SDL_PROP_TEXTURE_CREATE_COLORSPACE_NUMBERを<a href="https://wiki.libsdl.org/SDL3/SDL_CreateTextureWithProperties">SDL_CreateTextureWithProperties()</a>で使ってテクスチャの色空間を設定すること. YUVピクセル形式のデフォルト色空間はSDL_COLORSPACE_JPEGである.
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SoftStretch.html">SDL_SoftStretch()</a> - <a href="https://wiki.libsdl.org/SDL3/SDL_StretchSurface">SDL_StretchSurface()</a>をSDL_SCALEMODE_NEARESTで使うこと
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SoftStretchLinear.html">SDL_SoftStretchLinear()</a> - <a href="https://wiki.libsdl.org/SDL3/SDL_StretchSurface">SDL_StretchSurface()</a>をSDL_SCALEMODE_LINEARで使うこと
</ul>
<p>
以下のシンボルの名前は次の様に変更された:
</p>
<ul>
<li>SDL_PREALLOC → <a href="https://wiki.libsdl.org/SDL3/SDL_SurfaceFlags">SDL_SURFACE_PREALLOCATED</a>
<li>SDL_SIMD_ALIGNED → <a href="https://wiki.libsdl.org/SDL3/SDL_SurfaceFlags">SDL_SURFACE_SIMD_ALIGNED</a>
</ul>
<h2><a name="#sdl_systemh">SDL_system.h (環境固有の機能)</a></h2>
<p>
<a href="https://wiki.libsdl.org/SDL3/SDL_WindowsMessageHook">SDL_WindowsMessageHook</a>はシグネチャ(関数宣言)が変更され, メッセージを変更することができ, 以降のメッセージ処理をブロックできるようになった.
</p>
<p>
<a href="https://wiki.libsdl.org/SDL3/SDL_RequestAndroidPermission">SDL_RequestAndroidPermission</a>はブロッキング呼び出しではなくなった. 呼び出し側は応答可能になったとき呼び出されるコールバック関数を提供するようになった.
</p>
<p>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_iPhoneSetAnimationCallback.html">SDL_iPhoneSetAnimationCallback()</a>と<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_iPhoneSetEventPump.html">SDL_iPhoneSetEventPump()</a>の名前はそれぞれ<a href="https://wiki.libsdl.org/SDL3/SDL_SetiOSAnimationCallback">SDL_SetiOSAnimationCallback()</a>と<a href="https://wiki.libsdl.org/SDL3/SDL_SetiOSEventPump">SDL_SetiOSEventPump()</a>に変更された.
SDL2ではiPadが登場する前の古いシンボルに新しい名前を与えるためのマクロだったが, 正式な名前のシンボルが唯一の選択肢となった.
</p>
<p>
<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_IsAndroidTV.html">SDL_IsAndroidTV()</a>の名前は<a href="https://wiki.libsdl.org/SDL3/SDL_IsTV">SDL_IsTV()</a>に変更され, Android固有ではなくなった.
これにより, 例えばApple TVの場合も真を戻すようになった.
</p>
<p>
以下の関数は削除された:
</p>
<ul>
<li>SDL_GetWinRTFSPathUNICODE() - SDL3はWinRTはサポート外
<li>SDL_GetWinRTFSPathUTF8() - SDL3はWinRTはサポート外
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RenderGetD3D11Device.html">SDL_RenderGetD3D11Device()</a> - "SDL.renderer.d3d11.device"プロパティに置き換えられた
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RenderGetD3D12Device.html">SDL_RenderGetD3D12Device()</a> - "SDL.renderer.d3d12.device"プロパティに置き換えられた
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_RenderGetD3D9Device.html">SDL_RenderGetD3D9Device()</a> - "SDL.renderer.d3d9.device"プロパティに置き換えられた
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_WinRTGetDeviceFamily.html">SDL_WinRTGetDeviceFamily()</a> - SDL3はWinRTはサポート外
</ul>
<p>
以下の関数の名前は次の様に変更された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_AndroidBackButton.html">SDL_AndroidBackButton()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_SendAndroidBackButton">SDL_SendAndroidBackButton()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_AndroidGetActivity.html">SDL_AndroidGetActivity()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_GetAndroidActivity">SDL_GetAndroidActivity()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_AndroidGetExternalStoragePath.html">SDL_AndroidGetExternalStoragePath()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_GetAndroidExternalStoragePath">SDL_GetAndroidExternalStoragePath()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_AndroidGetExternalStorageState.html">SDL_AndroidGetExternalStorageState()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_GetAndroidExternalStorageState">SDL_GetAndroidExternalStorageState()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_AndroidGetInternalStoragePath.html">SDL_AndroidGetInternalStoragePath()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_GetAndroidInternalStoragePath">SDL_GetAndroidInternalStoragePath()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_AndroidGetJNIEnv.html">SDL_AndroidGetJNIEnv()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_GetAndroidJNIEnv">SDL_GetAndroidJNIEnv()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_AndroidRequestPermission.html">SDL_AndroidRequestPermission()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_RequestAndroidPermission">SDL_RequestAndroidPermission()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_AndroidRequestPermissionCallback.html">SDL_AndroidRequestPermissionCallback()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_RequestAndroidPermissionCallback">SDL_RequestAndroidPermissionCallback()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_AndroidSendMessage.html">SDL_AndroidSendMessage()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_SendAndroidMessage">SDL_SendAndroidMessage()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_AndroidShowToast.html">SDL_AndroidShowToast()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_ShowAndroidToast">SDL_ShowAndroidToast()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_DXGIGetOutputInfo.html">SDL_DXGIGetOutputInfo()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_GetDXGIOutputInfo">SDL_GetDXGIOutputInfo()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_Direct3D9GetAdapterIndex.html">SDL_Direct3D9GetAdapterIndex()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_GetDirect3D9AdapterIndex">SDL_GetDirect3D9AdapterIndex()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GDKGetDefaultUser.html">SDL_GDKGetDefaultUser()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_GetGDKDefaultUser">SDL_GetGDKDefaultUser()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GDKGetTaskQueue.html">SDL_GDKGetTaskQueue()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_GetGDKTaskQueue">SDL_GetGDKTaskQueue()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_IsAndroidTV.html">SDL_IsAndroidTV()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_IsTV">SDL_IsTV()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_LinuxSetThreadPriority.html">SDL_LinuxSetThreadPriority()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_SetLinuxThreadPriority">SDL_SetLinuxThreadPriority()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_LinuxSetThreadPriorityAndPolicy.html">SDL_LinuxSetThreadPriorityAndPolicy()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_SetLinuxThreadPriorityAndPolicy">SDL_SetLinuxThreadPriorityAndPolicy()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_OnApplicationDidBecomeActive.html">SDL_OnApplicationDidBecomeActive()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_OnApplicationDidEnterForeground">SDL_OnApplicationDidEnterForeground()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_OnApplicationWillResignActive.html">SDL_OnApplicationWillResignActive()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_OnApplicationWillEnterBackground">SDL_OnApplicationWillEnterBackground()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_iOSSetAnimationCallback.html">SDL_iOSSetAnimationCallback()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_SetiOSAnimationCallback">SDL_SetiOSAnimationCallback()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_iOSSetEventPump.html">SDL_iOSSetEventPump()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_SetiOSEventPump">SDL_SetiOSEventPump()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_iPhoneSetAnimationCallback.html">SDL_iPhoneSetAnimationCallback()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_SetiOSAnimationCallback">SDL_SetiOSAnimationCallback()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_iPhoneSetEventPump.html">SDL_iPhoneSetEventPump()</a> → <a href="https://wiki.libsdl.org/SDL3/SDL_SetiOSEventPump">SDL_SetiOSEventPump()</a>
</ul>
<h2><a name="#sdl_syswmh">SDL_syswm.h (環境依存ウィンドウ)</a></h2>
<p>
ヘッダは削除された.
</p>
<p>
WindowsとX11のイベントは<a href="https://wiki.libsdl.org/SDL3/SDL_SetWindowsMessageHook">SDL_SetWindowsMessageHook()</a>と<a href="https://wiki.libsdl.org/SDL3/SDL_SetX11EventHook">SDL_SetX11EventHook()</a>で設定できるコールバックで処理できるようになった.
</p>
<p>
以前<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GetWindowWMInfo.html">SDL_GetWindowWMInfo()</a>で得られた情報はウィンドウのプロパティとなった. 例:
<code>
<pre>
    SDL_SysWMinfo info;
    SDL_VERSION(&amp;info.version);

#if defined(__WIN32__)
    HWND hwnd = NULL;
    if (SDL_GetWindowWMInfo(window, &amp;info) &amp;&amp; info.subsystem == SDL_SYSWM_WINDOWS) {
        hwnd = info.info.win.window;
    }
    if (hwnd) {
        ...
    }
#elif defined(__MACOSX__)
    NSWindow *nswindow = NULL;
    if (SDL_GetWindowWMInfo(window, &amp;info) &amp;&amp; info.subsystem == SDL_SYSWM_COCOA) {
        nswindow = (__bridge NSWindow *)info.info.cocoa.window;
    }
    if (nswindow) {
        ...
    }
#elif defined(__LINUX__)
    if (SDL_GetWindowWMInfo(window, &amp;info)) {
        if (info.subsystem == SDL_SYSWM_X11) {
            Display *xdisplay = info.info.x11.display;
            Window xwindow = info.info.x11.window;
            if (xdisplay &amp;&amp; xwindow) {
                ...
            }
        } else if (info.subsystem == SDL_SYSWM_WAYLAND) {
            struct wl_display *display = info.info.wl.display;
            struct wl_surface *surface = info.info.wl.surface;
            if (display &amp;&amp; surface) {
                ...
            }
        }
    }
#elif defined(__IPHONEOS__)
    UIWindow *uiwindow = NULL;
    if (SDL_GetWindowWMInfo(window, &amp;info) &amp;&amp; info.subsystem == SDL_SYSWM_UIKIT) {
        uiwindow = (__bridge UIWindow *)info.info.uikit.window;
    }
    if (uiwindow) {
        GLuint framebuffer = info.info.uikit.framebuffer;
        GLuint colorbuffer = info.info.uikit.colorbuffer;
        GLuint resolveFramebuffer = info.info.uikit.resolveFramebuffer;
        ...
    }
#endif
</pre>
</code>
</p>
<p>
これはこのようになる:
<code>
<pre>
#if defined(SDL_PLATFORM_WIN32)
    HWND hwnd = (HWND)SDL_GetPointerProperty(SDL_GetWindowProperties(window), SDL_PROP_WINDOW_WIN32_HWND_POINTER, NULL);
    if (hwnd) {
        ...
    }
#elif defined(SDL_PLATFORM_MACOS)
    NSWindow *nswindow = (__bridge NSWindow *)SDL_GetPointerProperty(SDL_GetWindowProperties(window), SDL_PROP_WINDOW_COCOA_WINDOW_POINTER, NULL);
    if (nswindow) {
        ...
    }
#elif defined(SDL_PLATFORM_LINUX)
    if (SDL_strcmp(SDL_GetCurrentVideoDriver(), "x11") == 0) {
        Display *xdisplay = (Display *)SDL_GetPointerProperty(SDL_GetWindowProperties(window), SDL_PROP_WINDOW_X11_DISPLAY_POINTER, NULL);
        Window xwindow = (Window)SDL_GetNumberProperty(SDL_GetWindowProperties(window), SDL_PROP_WINDOW_X11_WINDOW_NUMBER, 0);
        if (xdisplay &amp;&amp; xwindow) {
            ...
        }
    } else if (SDL_strcmp(SDL_GetCurrentVideoDriver(), "wayland") == 0) {
        struct wl_display *display = (struct wl_display *)SDL_GetPointerProperty(SDL_GetWindowProperties(window), SDL_PROP_WINDOW_WAYLAND_DISPLAY_POINTER, NULL);
        struct wl_surface *surface = (struct wl_surface *)SDL_GetPointerProperty(SDL_GetWindowProperties(window), SDL_PROP_WINDOW_WAYLAND_SURFACE_POINTER, NULL);
        if (display &amp;&amp; surface) {
            ...
        }
    }
#elif defined(SDL_PLATFORM_IOS)
    SDL_PropertiesID props = SDL_GetWindowProperties(window);
    UIWindow *uiwindow = (__bridge UIWindow *)SDL_GetPointerProperty(props, SDL_PROP_WINDOW_UIKIT_WINDOW_POINTER, NULL);
    if (uiwindow) {
        GLuint framebuffer = (GLuint)SDL_GetNumberProperty(props, SDL_PROP_WINDOW_UIKIT_OPENGL_FRAMEBUFFER_NUMBER, 0);
        GLuint colorbuffer = (GLuint)SDL_GetNumberProperty(props, SDL_PROP_WINDOW_UIKIT_OPENGL_RENDERBUFFER_NUMBER, 0);
        GLuint resolveFramebuffer = (GLuint)SDL_GetNumberProperty(props, SDL_PROP_WINDOW_UIKIT_OPENGL_RESOLVE_FRAMEBUFFER_NUMBER, 0);
        ...
    }
#endif
</pre>
</code>
</p>
<h2><a name="#sdl_threadh">SDL_thread.h (スレッド)</a></h2>
<p>
<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_CreateThreadWithStackSize.html">SDL_CreateThreadWithStackSize</a>は<a href="SDL_CreateThreadWithProperties.html">SDL_CreateThreadWithProperties</a>に置き換えられた.
</p>
<p>
<a href="SDL_CreateThread.html">SDL_CreateThread</a>と<a href="SDL_CreateThreadWithProperties.html">SDL_CreateThreadWithProperties</a>は全ての環境でbeginthread/endthread関数へのポインタを取るようになり(ほとんどの場合無視される), 全ての環境でこれを隠すためにマクロで置き換えるようになった.
これはソースコードレベルではこれまでと同じだが, 実際に呼ばれる関数のシグネチャ(関数宣言)は変更されている.
実際のライブラリ上のシンボルはSDL_CreateThreadRuntimeである. "SDL_CreateThread"をDLL/共有ライブラリ/Dylibから検索しようとすると失敗する.
これを直接呼んではならず, 常にマクロを使用すること!
</p>
<p>
<a href="SDL_GetTLS.html">SDL_GetTLS()</a>, <a href="SDL_SetTLS.html">SDL_SetTLS()</a>はスレッド局所記憶IDへのポインタを取るようになり, 必要ならば自動的にスレッドセーフな方法で初期化するようになった.
</p>
<p>
以下の関数の名前は次の様に変更された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SetThreadPriority.html">SDL_SetThreadPriority()</a> → <a href="SDL_SetCurrentThreadPriority.html">SDL_SetCurrentThreadPriority()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_TLSCleanup.html">SDL_TLSCleanup()</a> → <a href="SDL_CleanupTLS.html">SDL_CleanupTLS()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_TLSGet.html">SDL_TLSGet()</a> → <a href="SDL_GetTLS.html">SDL_GetTLS()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_TLSSet.html">SDL_TLSSet()</a> → <a href="SDL_SetTLS.html">SDL_SetTLS()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_ThreadID.html">SDL_ThreadID()</a> → <a href="SDL_GetCurrentThreadID.html">SDL_GetCurrentThreadID()</a>
</ul>
<p>
以下の関数は削除された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_TLSCreate.html">SDL_TLSCreate()</a> - スレッド局所記憶IDは必要なとき自動的に生成される
</ul>
<p>
以下のシンボルの名前は次の様に変更された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_threadID.html">SDL_threadID</a> → <a href="SDL_ThreadID.html">SDL_ThreadID</a>
</ul>
<h2><a name="#sdl_timerh">SDL_timer.h (タイマ)</a></h2>
<p>
<a href="SDL_GetTicks.html">SDL_GetTicks()</a>は64ビットの値を戻すようになった.
<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_TICKS_PASSED.html">SDL_TICKS_PASSED</a>マクロを使用せずに直接値を比較できる. 例:
<code>
<pre>
    Uint32 deadline = SDL_GetTicks() + 1000;
    ...
    if (SDL_TICKS_PASSED(SDL_GetTicks(), deadline)) {
        ...
    }
</pre>
</code>
</p>
<p>
これはこのようになる:
<code>
<pre>
    Uint64 deadline = SDL_GetTicks() + 1000
    ...
    if (SDL_GetTicks() &gt;= deadline) {
        ...
    }
</pre>
</code>
</p>
<p>
マクロを使いたいならば, 次の様に自分で定義することもできる:
<code>
<pre>
    #define SDL_TICKS_PASSED(A, B)  ((Sint32)((B) - (A)) &gt;= 0)
</pre>
</code>
</p>
<p>
<a href="SDL_AddTimer.html">SDL_AddTimer()</a>に渡すコールバックは引数が次の様に変更された:
<code>
<pre>
    Uint32 SDLCALL TimerCallback(void *userdata, SDL_TimerID timerID, Uint32 interval);
</pre>
</code>
</p>
<h2><a name="#sdl_touchh">SDL_touch.h (タッチデバイス)</a></h2>
<p>
<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GetTouchName.html">SDL_GetTouchName</a>は<a href="SDL_GetTouchDeviceName.html">SDL_GetTouchDeviceName()</a>になり, インデックス番号の代わりに<a href="SDL_TouchID.html">SDL_TouchID</a>を取るようになった.
</p>
<p>
<a href="SDL_TouchID.html">SDL_TouchID</a>と<a href="SDL_FingerID.html">SDL_FingerID</a>はUint32に変更され, 無効な値は0になった.
</p>
<p>
インデックス番号を用いてタッチデバイスを反復処理するのではなく, 利用可能なデバイスを得る新しい関数<a href="SDL_GetTouchDevices.html">SDL_GetTouchDevices()</a>も存在する.
</p>
<p>
インデックス番号を用いてタッチした指を反復処理するのではなく, 現在のアクティブな指を得る新しい関数<a href="SDL_GetTouchFingers.html">SDL_GetTouchFingers()</a>も存在する.
</p>
<p>
以下の関数は削除された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GetNumTouchDevices.html">SDL_GetNumTouchDevices()</a> - <a href="SDL_GetTouchDevices.html">SDL_GetTouchDevices()</a>に置き換えられた
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GetNumTouchFingers.html">SDL_GetNumTouchFingers()</a> - <a href="SDL_GetTouchFingers.html">SDL_GetTouchFingers()</a>に置き換えられた
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GetTouchDevice.html">SDL_GetTouchDevice()</a> - <a href="SDL_GetTouchDevices.html">SDL_GetTouchDevices()</a>に置き換えられた
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GetTouchFinger.html">SDL_GetTouchFinger()</a> - <a href="SDL_GetTouchFingers.html">SDL_GetTouchFingers()</a>に置き換えられた
</ul>
<h2><a name="#sdl_versionh">SDL_version.h (バージョン)</a></h2>
<p>
<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GetRevisionNumber.html">SDL_GetRevisionNumber()</a>はAPIから削除された.
これは SDL 2.0では常に0を戻していた.
</p>
<p>
<a href="SDL_GetVersion.html">SDL_GetVersion()</a>はバージョンを表す値を戻す. この値はSDL_VERSIONNUM()を通して別のバージョンと比較できる.
</p>
<p>
以下の構造体は削除された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_version-structure.html">SDL_version</a>
</ul>
<p>
以下のシンボルの名前は次の様に変更された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_COMPILEDVERSION.html">SDL_COMPILEDVERSION</a> → <a href="SDL_VERSION.html">SDL_VERSION</a>
<li>SDL_PATCHLEVEL → <a href="SDL_MICRO_VERSION.html">SDL_MICRO_VERSION</a>
</ul>
<h2><a name="#sdl_videoh">SDL_video.h (ディスプレイとウィンドウ)</a></h2>
<p>
一部のビデオバックエンドは名前が小文字になっている ("kmsdrm", "rpi", "android", "psp", "ps2", "vita").
SDLは既に<a href="https://wiki.libsdl.org/SDL3/SDL_HINT_VIDEO_DRIVER">SDL_HINT_VIDEO_DRIVER</a>はでは大文字小文字を無視する.
しかし, アプリケーションで<a href="SDL_GetVideoDriver.html">SDL_GetVideoDriver()</a>または<a href="SDL_GetCurrentVideoDriver.html">SDL_GetCurrentVideoDriver()</a>を呼び, 大文字小文字を無視せず比較している場合は, プログラムを変更する必要がある.
</p>
<p>
<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_VideoInit.html">SDL_VideoInit()</a>と<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_VideoQuit.html">SDL_VideoQuit()</a>は削除された.
代わりに<a href="SDL_InitSubSystem.html">SDL_InitSubSystem()</a>と<a href="SDL_QuitSubSystem.html">SDL_QuitSubSystem()</a>をSDL_INIT_VIDEOで呼ぶこと. これで参照カウンタを正常にカウントできる.
<a href="https://wiki.libsdl.org/SDL3/SDL_HINT_VIDEO_DRIVER">SDL_HINT_VIDEO_DRIVER</a>で特定のビデオドライバを選択できる.
</p>
<p>
ディスプレイのインデックス番号を反復処理するのではなく, 新しい関数<a href="SDL_GetDisplays.html">SDL_GetDisplays()</a>でディスプレイの一覧を得ることもできる.
ディスプレイのインデックス番号を渡していたディスプレイ関数は<a href="SDL_DisplayID.html">SDL_DisplayID</a>を取るようになった. 無効なディスプレイIDは0である.
<code>
<pre>
    {
        if (SDL_InitSubSystem(SDL_INIT_VIDEO)) {
            int i, num_displays = 0;
            SDL_DisplayID *displays = SDL_GetDisplays(&amp;num_displays);
            if (displays) {
                for (i = 0; i &lt; num_displays; ++i) {
                    SDL_DisplayID instance_id = displays[i];
                    const char *name = SDL_GetDisplayName(instance_id);

                    SDL_Log("ディスプレイ %" SDL_PRIu32 ": %s", instance_id, name ? name : "不明");
                }
                SDL_free(displays);
            }
            SDL_QuitSubSystem(SDL_INIT_VIDEO);
        }
    }
</pre>
</code>
<p>
<a href="SDL_CreateWindow.html">SDL_CreateWindow()</a>は単純化され, ウィンドウの座標を取らないようになった.
生成時にウィンドウのプロパティを設定する必要がある場合は, <a href="SDL_CreateWindowWithProperties.html">SDL_CreateWindowWithProperties()</a>を使うこと. 例:
<code>
<pre>
    SDL_PropertiesID props = SDL_CreateProperties();
    SDL_SetStringProperty(props, SDL_PROP_WINDOW_CREATE_TITLE_STRING, title);
    SDL_SetNumberProperty(props, SDL_PROP_WINDOW_CREATE_X_NUMBER, x);
    SDL_SetNumberProperty(props, SDL_PROP_WINDOW_CREATE_Y_NUMBER, y);
    SDL_SetNumberProperty(props, SDL_PROP_WINDOW_CREATE_WIDTH_NUMBER, width);
    SDL_SetNumberProperty(props, SDL_PROP_WINDOW_CREATE_HEIGHT_NUMBER, height);
    // ウィンドウフラグはウィンドウ生成のプロパティとは分けるべきだが
    // SDL2から簡単に移行するために次のようにすることもできる:
    SDL_SetNumberProperty(props, SDL_PROP_WINDOW_CREATE_FLAGS_NUMBER, flags);
    pWindow = SDL_CreateWindowWithProperties(props);
    SDL_DestroyProperties(props);
    if (window) {
        ...
    }
</pre>
</code>
</p>
<p>
<a href="SDL_WINDOWPOS_UNDEFINED_DISPLAY.html">SDL_WINDOWPOS_UNDEFINED_DISPLAY()</a>マクロと<a href="SDL_WINDOWPOS_CENTERED_DISPLAY.html">SDL_WINDOWPOS_CENTERED_DISPLAY()</a>マクロはディスプレイインデックス番号の代わりにディスプレイIDを取るようになった.
この場合, ディスプレイID 0はプライマリティスプレイを表す特別な値である.
</p>
<p>
<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_WindowFlags.html">SDL_WINDOW_SHOWN</a>フラグは削除された.
ウィンドウはデフォルトで表示され, 表示しないウィンドウは<a href="SDL_WindowFlags.html">SDL_WINDOW_HIDDEN</a>フラグで生成できる.
</p>
<p>
<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_WindowFlags.html">SDL_WINDOW_SKIP_TASKBAR</a>フラグは<a href="SDL_WindowFlags.html">SDL_WINDOW_UTILITY</a>フラグに置き換えられた. 機能は変わらない.
</p>
<p>
<a href="SDL_DisplayMode.html">SDL_DisplayMode</a>にピクセル密度が追加された. この値はディスプレイモードのサイズよりもピクセルサイズが大きいとき1.0を超える値を取りうる.
ウィンドウの背後のバッファの実際のピクセルサイズは<a href="SDL_GetWindowSizeInPixels.html">SDL_GetWindowSizeInPixels()</a>で得る必要がある.
</p>
<p>
<a href="SDL_DisplayMode.html">SDL_DisplayMode</a>のリフレッシュレートはfloat型になり, 正確な値のため分母と分子も追加された.
</p>
<p>
ディスプレイモードのインデックス番号を反復処理するのではなく, ディスプレイの可能なフルスクリーンモードの一覧を得る新しい関数<a href="SDL_GetFullscreenDisplayModes.html">SDL_GetFullscreenDisplayModes()</a>が追加された.
<code>
<pre>
    {
        SDL_DisplayID display = SDL_GetPrimaryDisplay();
        int num_modes = 0;
        SDL_DisplayMode **modes = SDL_GetFullscreenDisplayModes(display, &amp;num_modes);
        if (modes) {
            for (i = 0; i &lt; num_modes; ++i) {
                SDL_DisplayMode *mode = modes[i];
                SDL_Log("ディスプレイ %" SDL_PRIu32 " モード %d: %dx%d@%gx %gHz",
                        display, i, mode-&gt;w, mode-&gt;h, mode-&gt;pixel_density, mode-&gt;refresh_rate);
            }
            SDL_free(modes);
        }
    }
</pre>
</code>
</p>
<p>
<a href="SDL_GetDesktopDisplayMode.html">SDL_GetDesktopDisplayMode()</a>と<a href="SDL_GetCurrentDisplayMode.html">SDL_GetCurrentDisplayMode()</a>はアプリケーションのメモリに書き込むのではなくディスプレイモードへのポインタを戻すようになった.
</p>
<p>
ウィンドウを明確にフルスクリーンモードにする場合は, <a href="SDL_SetWindowFullscreenMode.html">SDL_SetWindowFullscreenMode()</a>を使用すること.
ウィンドウのフルスクリーンモードは<a href="SDL_GetWindowFullscreenMode.html">SDL_GetWindowFullscreenMode()</a>で得られる. これはモードへのポインタを, またはデスクトップフルスクリーンのときNULLを戻す.
<a href="SDL_SetWindowFullscreen.html">SDL_SetWindowFullscreen()</a>はbool値を取るだけで, フルスクリーン状態は選択したモードによる.
</p>
<p>
<a href="SDL_WindowFlags.html">SDL_WINDOW_FULLSCREEN_DESKTOP</a>は削除され, ウィンドウがフルスクリーンのとき, 排他的フルスクリーンか仮想フルスクリーンかは<a href="SDL_GetWindowFullscreenMode.html">SDL_GetWindowFullscreenMode()</a>で得られるようになった.
</p>
<p>
<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SetWindowBrightness.html">SDL_SetWindowBrightness()</a>, <a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GetWindowBrightness.html">SDL_GetWindowBrightness()</a>, <a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SetWindowGammaRamp.html">SDL_SetWindowGammaRamp()</a>, <a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GetWindowGammaRamp.html">SDL_GetWindowGammaRamp()</a>はAPIから削除された.
現在のOSでは扱いが難しく, 効果をSDLウィンドウに限定することができないためである.
</p>
<p>
シェーダーにアクセスするプログラムは, ポストエフェクトとしてレンダリングされたカスタムシェーダーコードを使用してより堅牢なバージョンの関数を実装できる.
</p>
<p>
OpenGL設定から<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GLattr.html">SDL_GL_CONTEXT_EGL</a>が削除された.
代わりに<a href="SDL_GL_SetAttribute.html">SDL_GL_SetAttribute(SDL_GL_CONTEXT_PROFILE_MASK, SDL_GL_CONTEXT_PROFILE_ES);</a>を使用すること.
</p>
<p>
<a href="SDL_GL_GetProcAddress.html">SDL_GL_GetProcAddress()</a>, <a href="SDL_EGL_GetProcAddress.html">SDL_EGL_GetProcAddress()</a>はvoid *の代わりに<a href="https://wiki.libsdl.org/SDL3/SDL_FunctionPointer">SDL_FunctionPointer</a>を戻すようになり, 正しい関数の型でキャストしなければならなくなった.
<a href="https://wiki.libsdl.org/SDL3/SDL_FUNCTION_POINTER_IS_VOID_POINTER">SDL_FUNCTION_POINTER_IS_VOID_POINTER</a>を定義すると以前と同じ動作になる.
</p>
<p>
<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GL_DeleteContext.html">SDL_GL_DeleteContext()</a>の名前はSDL(とglX/EGL)の命名規則に合わせるため<a href="SDL_GL_DestroyContext.html">SDL_GL_DestroyContext</a>に変更された.
</p>
<p>
<a href="SDL_GL_GetSwapInterval.html">SDL_GL_GetSwapInterval()</a>は間隔を出力先引数として取り, 関数が成功したとき真, エラーのとき偽を戻すようになった.
</p>
<p>
<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GL_GetDrawableSize.html">SDL_GL_GetDrawableSize()</a>は削除された.
代わりに<a href="SDL_GetWindowSizeInPixels.html">SDL_GetWindowSizeInPixels()</a>が使用できる.
</p>
<p>
ウィンドウフラグ<a href="SDL_WindowFlags.html">SDL_WINDOW_TOOLTIP</a>と<a href="SDL_WindowFlags.html">SDL_WINDOW_POPUP_MENU</a>はWindows, Mac (Cocoa), X11, Waylandに対応するようになった.
これらのフラグを持つウィンドウは, <a href="SDL_CreatePopupWindow.html">SDL_CreatePopupWindow()</a>関数で生成する必要がある.
この関数にはポップアップさせる親ウィンドウを渡す必要があり, ポップアップウィンドウの位置は親との相対位置である.
</p>
<p>
API関数が参照するウィンドウフラグである<a href="SDL_WindowFlags.html">SDL_WindowFlags</a>はUint32だったが, 64ビットに拡張された.
</p>
<p>
<a href="SDL_GetWindowOpacity.html">SDL_GetWindowOpacity()</a>は不透明度を出力先引数を使用せず直接戻すようになった.
</p>
<p>
以下の関数の名前は次の様に変更された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GL_DeleteContext.html">SDL_GL_DeleteContext()</a> → <a href="SDL_GL_DestroyContext.html">SDL_GL_DestroyContext()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GetClosestDisplayMode.html">SDL_GetClosestDisplayMode()</a> → <a href="SDL_GetClosestFullscreenDisplayMode.html">SDL_GetClosestFullscreenDisplayMode()</a>, bool値を戻す
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GetDisplayOrientation.html">SDL_GetDisplayOrientation()</a> → <a href="SDL_GetCurrentDisplayOrientation.html">SDL_GetCurrentDisplayOrientation()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GetPointDisplayIndex.html">SDL_GetPointDisplayIndex()</a> → <a href="SDL_GetDisplayForPoint.html">SDL_GetDisplayForPoint()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GetRectDisplayIndex.html">SDL_GetRectDisplayIndex()</a> → <a href="SDL_GetDisplayForRect.html">SDL_GetDisplayForRect()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GetWindowDisplayIndex.html">SDL_GetWindowDisplayIndex()</a> → <a href="SDL_GetDisplayForWindow.html">SDL_GetDisplayForWindow()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GetWindowDisplayMode.html">SDL_GetWindowDisplayMode()</a> → <a href="SDL_GetWindowFullscreenMode.html">SDL_GetWindowFullscreenMode()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HasWindowSurface.html">SDL_HasWindowSurface()</a> → <a href="SDL_WindowHasSurface.html">SDL_WindowHasSurface()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_IsScreenSaverEnabled.html">SDL_IsScreenSaverEnabled()</a> → <a href="SDL_ScreenSaverEnabled.html">SDL_ScreenSaverEnabled()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SetWindowDisplayMode.html">SDL_SetWindowDisplayMode()</a> → <a href="SDL_SetWindowFullscreenMode.html">SDL_SetWindowFullscreenMode()</a>, bool値を戻す
</ul>
<p>
以下の関数は削除された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GetDisplayDPI.html">SDL_GetDisplayDPI()</a> - 異なる環境での信頼性がない. 置き換えるならば, <a href="SDL_GetWindowDisplayScale.html">SDL_GetWindowDisplayScale()</a>の値を, iPhoneとAndroidならば160倍, 他の環境ならば96倍するとおよその値となる
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GetDisplayMode.html">SDL_GetDisplayMode()</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GetNumDisplayModes.html">SDL_GetNumDisplayModes()</a> - <a href="SDL_GetFullscreenDisplayModes.html">SDL_GetFullscreenDisplayModes()</a>に置き換えること
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GetNumVideoDisplays.html">SDL_GetNumVideoDisplays()</a> - <a href="SDL_GetDisplays.html">SDL_GetDisplays()</a>に置き換えること
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SetWindowGrab.html">SDL_SetWindowGrab()</a> - 代わりに<a href="SDL_SetWindowMouseGrab.html">SDL_SetWindowMouseGrab()</a>を使用すること. <a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HINT_GRAB_KEYBOARD.html">SDL_HINT_GRAB_KEYBOARD</a>を設定していた場合は<a href="SDL_SetWindowKeyboardGrab.html">SDL_SetWindowKeyboardGrab()</a>も使用すること
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GetWindowGrab.html">SDL_GetWindowGrab()</a> - 代わりに<a href="SDL_SetWindowMouseGrab.html">SDL_SetWindowMouseGrab()</a>を使用すること. <a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_HINT_GRAB_KEYBOARD.html">SDL_HINT_GRAB_KEYBOARD</a>を設定していた場合は<a href="SDL_SetWindowKeyboardGrab.html">SDL_SetWindowKeyboardGrab()</a>も使用すること
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GetWindowData.html">SDL_GetWindowData()</a> - 代わりに<a href="SDL_GetPointerProperty.html">SDL_GetPointerProperty()</a>を<a href="SDL_GetWindowProperties.html">SDL_GetWindowProperties()</a>と共に使用すること
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SetWindowData.html">SDL_SetWindowData()</a> - 代わりに<a href="SDL_GetPointerProperty.html">SDL_GetPointerProperty()</a>を<a href="SDL_GetWindowProperties.html">SDL_GetWindowProperties()</a>と共に使用すること
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_CreateWindowFrom.html">SDL_CreateWindowFrom()</a> - プロパティで既存のウィンドウのラッパーを生成できる<a href="SDL_CreateWindowWithProperties.html">SDL_CreateWindowWithProperties()</a>を使用すること
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SetWindowInputFocus.html">SDL_SetWindowInputFocus()</a> - 代わりに<a href="SDL_RaiseWindow.html">SDL_RaiseWindow()</a>を使用すること
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SetWindowModalFor.html">SDL_SetWindowModalFor()</a> - 代わりに<a href="SDL_SetWindowParent.html">SDL_SetWindowParent()</a>を<a href="SDL_SetWindowModal.html">SDL_SetWindowModal()</a>と共に使用すること
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SetWindowBrightness.html">SDL_SetWindowBrightness()</a> - シェーダーや他の効果を使用すること
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GetWindowBrightness.html">SDL_GetWindowBrightness()</a> - シェーダーや他の効果を使用すること
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_SetWindowGammaRamp.html">SDL_SetWindowGammaRamp()</a> - シェーダーや他の効果を使用すること
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GetWindowGammaRamp.html">SDL_GetWindowGammaRamp()</a> - シェーダーや他の効果を使用すること
</ul>
<p>
IDの型<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_Window.html">SDL_Window</a>の名前は<a href="SDL_WindowID.html">SDL_WindowID</a>に変更された.
</p>
<p>
以下の環境変数は削除された:
</p>
<ul>
<li>SDL_VIDEO_GL_DRIVER - <a href="https://wiki.libsdl.org/SDL3/SDL_HINT_OPENGL_LIBRARY">SDL_HINT_OPENGL_LIBRARY</a>に置き換えること
<li>SDL_VIDEO_EGL_DRIVER - <a href="https://wiki.libsdl.org/SDL3/SDL_HINT_EGL_LIBRARY">SDL_HINT_EGL_LIBRARY</a>に置き換えること
</ul>
<p>
以下のシンボルの名前は次の様に変更された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_EventType.html">SDL_DISPLAYEVENT_DISCONNECTED</a> → <a href="SDL_EventType.html">SDL_EVENT_DISPLAY_REMOVED</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_EventType.html">SDL_DISPLAYEVENT_MOVED</a> → <a href="SDL_EventType.html">SDL_EVENT_DISPLAY_MOVED</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_EventType.html">SDL_DISPLAYEVENT_ORIENTATION</a> → <a href="SDL_EventType.html">SDL_EVENT_DISPLAY_ORIENTATION</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GLattr.html">SDL_GLattr</a> → <a href="SDL_GLAttr.html">SDL_GLAttr</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GLcontextFlag.html">SDL_GLcontextFlag</a> → <a href="SDL_GLContextFlag.html">SDL_GLContextFlag</a>
<li>SDL_GLcontextReleaseFlag → <a href="SDL_GLContextReleaseFlag.html">SDL_GLContextReleaseFlag</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_GLprofile.html">SDL_GLprofile</a> → <a href="SDL_GLProfile.html">SDL_GLProfile</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_EventType.html">SDL_WINDOWEVENT_CLOSE</a> → <a href="SDL_EventType.html">SDL_EVENT_WINDOW_CLOSE_REQUESTED</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_EventType.html">SDL_WINDOWEVENT_DISPLAY_CHANGED</a> → <a href="SDL_EventType.html">SDL_EVENT_WINDOW_DISPLAY_CHANGED</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_EventType.html">SDL_WINDOWEVENT_ENTER</a> → <a href="SDL_EventType.html">SDL_EVENT_WINDOW_MOUSE_ENTER</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_EventType.html">SDL_WINDOWEVENT_EXPOSED</a> → <a href="SDL_EventType.html">SDL_EVENT_WINDOW_EXPOSED</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_EventType.html">SDL_WINDOWEVENT_FOCUS_GAINED</a> → <a href="SDL_EventType.html">SDL_EVENT_WINDOW_FOCUS_GAINED</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_EventType.html">SDL_WINDOWEVENT_FOCUS_LOST</a> → <a href="SDL_EventType.html">SDL_EVENT_WINDOW_FOCUS_LOST</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_EventType.html">SDL_WINDOWEVENT_HIDDEN</a> → <a href="SDL_EventType.html">SDL_EVENT_WINDOW_HIDDEN</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_EventType.html">SDL_WINDOWEVENT_HIT_TEST</a> → <a href="SDL_EventType.html">SDL_EVENT_WINDOW_HIT_TEST</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_EventType.html">SDL_WINDOWEVENT_ICCPROF_CHANGED</a> → <a href="SDL_EventType.html">SDL_EVENT_WINDOW_ICCPROF_CHANGED</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_EventType.html">SDL_WINDOWEVENT_LEAVE</a> → <a href="SDL_EventType.html">SDL_EVENT_WINDOW_MOUSE_LEAVE</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_EventType.html">SDL_WINDOWEVENT_MAXIMIZED</a> → <a href="SDL_EventType.html">SDL_EVENT_WINDOW_MAXIMIZED</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_EventType.html">SDL_WINDOWEVENT_MINIMIZED</a> → <a href="SDL_EventType.html">SDL_EVENT_WINDOW_MINIMIZED</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_EventType.html">SDL_WINDOWEVENT_MOVED</a> → <a href="SDL_EventType.html">SDL_EVENT_WINDOW_MOVED</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_EventType.html">SDL_WINDOWEVENT_RESIZED</a> → <a href="SDL_EventType.html">SDL_EVENT_WINDOW_RESIZED</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_EventType.html">SDL_WINDOWEVENT_RESTORED</a> → <a href="SDL_EventType.html">SDL_EVENT_WINDOW_RESTORED</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_EventType.html">SDL_WINDOWEVENT_SHOWN</a> → <a href="SDL_EventType.html">SDL_EVENT_WINDOW_SHOWN</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_WindowFlags.html">SDL_WINDOW_ALLOW_HIGHDPI</a> → <a href="SDL_WindowFlags.html">SDL_WINDOW_HIGH_PIXEL_DENSITY</a>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_WindowFlags.html">SDL_WINDOW_INPUT_GRABBED</a> → <a href="SDL_WindowFlags.html">SDL_WINDOW_MOUSE_GRABBED</a>
</ul>
<p>
以下のシンボルは削除された:
</p>
<ul>
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_WindowEvent.html">SDL_WINDOWEVENT_SIZE_CHANGED</a> - 代わりに<a href="SDL_EventType.html">SDL_EVENT_WINDOW_RESIZED</a>イベントと<a href="SDL_EventType.html">SDL_EVENT_WINDOW_PIXEL_SIZE_CHANGED</a>イベントを使用すること
<li><a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_WindowEvent.html">SDL_WINDOWEVENT_TAKE_FOCUS</a>
</ul>
<p>
次のウィンドウ操作は非同期リクエストとして扱われるようになり, 対応するイベントを受信するまで成功したとみなされなくなった:
</p>
<ul>
<li><a href="SDL_SetWindowSize.html">SDL_SetWindowSize()</a> (<a href="SDL_EventType.html">SDL_EVENT_WINDOW_RESIZED</a>)
<li><a href="SDL_SetWindowPosition.html">SDL_SetWindowPosition()</a> (<a href="SDL_EventType.html">SDL_EVENT_WINDOW_MOVED</a>)
<li><a href="SDL_MinimizeWindow.html">SDL_MinimizeWindow()</a> (<a href="SDL_EventType.html">SDL_EVENT_WINDOW_MINIMIZED</a>)
<li><a href="SDL_MaximizeWindow.html">SDL_MaximizeWindow()</a> (<a href="SDL_EventType.html">SDL_EVENT_WINDOW_MAXIMIZED</a>)
<li><a href="SDL_RestoreWindow.html">SDL_RestoreWindow()</a> (<a href="SDL_EventType.html">SDL_EVENT_WINDOW_RESTORED</a>)
<li><a href="SDL_SetWindowFullscreen.html">SDL_SetWindowFullscreen()</a> (<a href="SDL_EventType.html">SDL_EVENT_WINDOW_ENTER_FULLSCREEN</a> / <a href="SDL_EventType.html">SDL_EVENT_WINDOW_LEAVE_FULLSCREEN</a>)
</ul>
<p>
これらの関数の呼び出しの後, 即時に操作を適用したい場合は, <a href="SDL_SyncWindow.html">SDL_SyncWindow()</a>関数で待機中の全てのウィンドウ操作が完了するまで待つこと.
<a href="https://wiki.libsdl.org/SDL3/SDL_HINT_VIDEO_SYNC_WINDOW_OPERATIONS">SDL_HINT_VIDEO_SYNC_WINDOW_OPERATIONS</a>ヒントで, SDL2の動作に似せて全ての非同期ウィンドウ操作関数の呼び出しを自動的に同期処理にすることもできる.
ウィンドウのアニメーションが完了するまで待つため, 同期させると長時間ブロックされる可能性があるので注意すること.
さらに, ウィンドウシステムは要求を拒否したり, 正確に従わないこともある(例えばウィンドウはデスクトップの利用可能な領域やスクリーンの外に移動できない)ため, 対応するイベントが送られないことや, 期待する値が含まれない場合がある.
</p>
<h2><a name="#sdl_vulkanh">SDL_vulkan.h (Vulkan)</a></h2>
<p>
<a href="https://wiki.libsdl.org/SDL3/SDL_Vulkan_GetInstanceExtensions">SDL_Vulkan_GetInstanceExtensions()</a>はウィンドウを引数に取らなくなり,
結果のためにアプリケーションの領域を確保せず内部の静的な読み取り専用の文字列を戻すようになった.
</p>
<p>
<a href="https://wiki.libsdl.org/SDL3/SDL_Vulkan_GetVkGetInstanceProcAddr">SDL_Vulkan_GetVkGetInstanceProcAddr()</a>の戻り値はvoid *から<a href="https://wiki.libsdl.org/SDL3/SDL_FunctionPointer">SDL_FunctionPointer</a>となり, 関数はPFN_vkGetInstanceProcAddrへのキャストが必要になった.
</p>
<p>
<a href="https://wiki.libsdl.org/SDL3/SDL_Vulkan_CreateSurface">SDL_Vulkan_CreateSurface()</a>は第3引数にVkAllocationCallbacksポインタを取るようになった.
渡すべきアロケータがない場合は, NULLを渡してシステムのデフォルトのアロケータを使うこともできる(SDL2はここでは常にシステムのデフォルトのアロケータを使用していた).
</p>
<p>
<a href="https://maruhiro-ver0.github.io/sdl2manual-ja/SDL_Vulkan_GetDrawableSize.html">SDL_Vulkan_GetDrawableSize()</a>は削除された.
<a href="https://wiki.libsdl.org/SDL3/SDL_GetWindowSizeInPixels">SDL_GetWindowSizeInPixels()</a>に置き換えることができる.
</p>
<p>
SDL_vulkanInstanceとSDL_vulkanSurfaceは削除された.
これらはTizenとの互換性のためSDL2に独自に組み込んだものだったが, アプリケーションをSDL3 APIに合わせてアップグレードする場合は変更が必要になる.
</p>
<h2>SDL Wikiへのリンク</h2>
<a href="https://github.com/libsdl-org/SDL/blob/main/docs/README-migration.md">Migrating to SDL 3.0</a>
<hr>
</body>
</html>
