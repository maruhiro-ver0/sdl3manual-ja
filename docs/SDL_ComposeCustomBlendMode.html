<!DOCTYPE html>
<html lang="ja-JP">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="keywords" content="Simple Directmedia Layer SDL3.0">
<link rel="top" href="index.html" title="ホーム">
<link rel="parent" href="CategorySurface.html" title="1つ上">
<title>SDL_ComposeCustomBlendMode</title>
</head>
<body>
<a href="index.html">目次</a> - <a href="ApiByCategory.html">SDL 3.0 API(機能別)</a> - <a href="CategoryBlendmode.html">ブレンドモード</a> - SDL_ComposeCustomBlendMode
<hr>
<h1>SDL_ComposeCustomBlendMode</h1>
レンダラ用のカスタムブレンドモードを構成する
<h2>ヘッダ</h2>
<a href="https://github.com/libsdl-org/SDL/blob/main/include/SDL3/SDL_blendmode.h">SDL3/SDL_blendmode.h</a>
<h2>構文</h2>
<code>SDL_BlendMode SDL_ComposeCustomBlendMode(SDL_BlendFactor srcColorFactor, SDL_BlendFactor dstColorFactor, SDL_BlendOperation colorOperation, SDL_BlendFactor srcAlphaFactor, SDL_BlendFactor dstAlphaFactor, SDL_BlendOperation alphaOperation);</code>
<h2>引数</h2>
<table border="1">
<tr><td><a href="SDL_BlendFactor.html">SDL_BlendFactor</a></td><td>srcColorFactor</td><td>元ピクセルの赤, 緑, 青要素に適用される<a href="SDL_BlendFactor.html">SDL_BlendFactor</a></td></tr>
<tr><td><a href="SDL_BlendFactor.html">SDL_BlendFactor</a></td><td>dstColorFactor</td><td>先ピクセルの赤, 緑, 青要素に適用される<a href="SDL_BlendFactor.html">SDL_BlendFactor</a></td></tr>
<tr><td><a href="SDL_BlendOperation.html">SDL_BlendOperation</a></td><td>colorOperation</td><td>元ピクセルと先ピクセルの赤, 緑, 青要素のブレンドに使われる<a href="SDL_BlendOperation.html">SDL_BlendOperation</a></td></tr>
<tr><td><a href="SDL_BlendFactor.html">SDL_BlendFactor</a></td><td>srcAlphaFactor</td><td>元ピクセルのα要素に適用される<a href="SDL_BlendFactor.html">SDL_BlendFactor</a></td></tr>
<tr><td><a href="SDL_BlendFactor.html">SDL_BlendFactor</a></td><td>dstAlphaFactor</td><td>先ピクセルのα要素に適用される<a href="SDL_BlendFactor.html">SDL_BlendFactor</a></td></tr>
<tr><td><a href="SDL_BlendOperation.html">SDL_BlendOperation</a></td><td>alphaOperation</td><td>元ピクセルと先ピクセルのα要素のブレンドに使われる<a href="SDL_BlendOperation.html">SDL_BlendOperation</a></td></tr>
</table>
<h2>戻り値</h2>
(<a href="SDL_BlendMode.html">SDL_BlendMode</a>) 選択した係数と操作が表す<a href="SDL_BlendMode.html">SDL_BlendMode</a>を戻す
<h2>詳細</h2>
<p>
レンダラが対応していれば, この関数が戻した<a href="SDL_BlendMode.html">SDL_BlendMode</a>を<a href="SDL_SetRenderDrawBlendMode.html">SDL_SetRenderDrawBlendMode</a>と<a href="SDL_SetTextureBlendMode.html">SDL_SetTextureBlendMode</a>で使用することができる.
</p>
<p>
ブレンドモードは, 描画するピクセル(元)とレンダーターゲットのピクセル(先)のブレンドの方法を決めるものである.
初めに, 元と先のピクセルの要素とブレンド係数を積算する.
次に, その2つの結果をブレンド操作に渡し, レンダーターゲットに書き込む結果を求める.
</p>
<p>
疑似コードで表すと次の様になる:
</p>
<p>
<code>dstRGB = colorOperation(srcRGB * srcColorFactor, dstRGB * dstColorFactor);</code><br>
<code>dstA = alphaOperation(srcA * srcAlphaFactor, dstA * dstAlphaFactor);</code>
</p>
<p>
(<code>srcRGB</code> = 描画元の色要素, <code>srcColorFactor</code> = 描画元の色ブレンド係数, <code>dstRGB</code> = 描画先の色要素, <code>dstColorFactor</code> = 描画先の色ブレンド係数, <code>colorOperation()</code> = 色ブレンド操作)<br>
(<code>srcA</code> = 描画元のα値, <code>srcAlphaFactor</code> = 描画元のαブレンド係数, <code>dstA</code> = 描画先のα値, <code>dstAlphaFactor</code> = 描画先のαブレンド係数, <code>alphaOperation()</code> = αブレンド操作)
</p>
<p>
関数の<code>colorOperation(src, dst)</code>と<code>alphaOperation(src, dst)</code>は次の内の1つを戻す:
<ul>
<li><code>src + dst</code>
<li><code>src - dst</code>
<li><code>dst - src</code>
<li><code>min(src, dst)</code>
<li><code>max(src, dst)</code>
</ul>
<p>
赤, 緑, 青要素は, それぞれ<a href="SDL_BlendFactor.html">SDL_BlendFactor</a>の1番目, 2番目, 3番目と積算される.
4番目の値は使用しない.
</p>
<p>
α値は<a href="SDL_BlendFactor.html">SDL_BlendFactor</a>の4番目と積算される.
他の値はα値の計算では使用しない.
</p>
<p>
生成したブレンドモードに対応しているかはレンダラによる.
特定の<a href="SDL_BlendMode.html">SDL_BlendMode</a>が対応しているかをチェックするには, レンダラを生成して<a href="SDL_SetRenderDrawBlendMode.html">SDL_SetRenderDrawBlendMode</a>または<a href="SDL_SetTextureBlendMode.html">SDL_SetTextureBlendMode</a>に渡すこと.
そのブレンドモードに対応していない場合はエラーを戻す.
</p>
<p>
次の一覧は, それぞれのレンダラのカスタムブレンドモードの対応の説明である.
全てのレンダラは, <a href="SDL_BlendMode.html">SDL_BlendMode</a>列挙体のブレンドモードに対応している.
</p>
<ul>
<li>direct3d: 全てのブレンド係数とブレンド操作に対応している. しかし, 一部の係数はSDL_BLENDOPERATION_MINIMUMとSDL_BLENDOPERATION_MAXIMUMで予期しない結果となる
<li>direct3d11: Direct3D 9と同じ
<li>opengl: ブレンド操作SDL_BLENDOPERATION_ADDと全てのブレンド係数に対応している. OpenGL バージョン1.1, 1.2, 1.3は, ここでは正しく動作しない
<li>opengles2: ブレンド操作SDL_BLENDOPERATION_ADD, SDL_BLENDOPERATION_SUBTRACT, SDL_BLENDOPERATION_REV_SUBTRACTと全てのブレンド係数に対応している
<li>psp: カスタムブレンドモードには対応していない
<li>software: カスタムブレンドモードには対応していない
</ul>
<p>
一部のレンダラはデフォルトレンダーターゲットに対してα要素を提供しない.
この場合, ブレンド係数SDL_BLENDFACTOR_DST_ALPHAとSDL_BLENDFACTOR_ONE_MINUS_DST_ALPHAは効果がない.
</p>
<h2>スレッドセーフ</h2>
<p>
この関数はどのスレッドからも安全に呼べる.
</p>
<h2>バージョン</h2>
SDL 3.2.0以降
<h2>関連項目</h2>
<ul>
<li><a href="SDL_SetRenderDrawBlendMode.html">SDL_SetRenderDrawBlendMode</a>
<li><a href="SDL_GetRenderDrawBlendMode.html">SDL_GetRenderDrawBlendMode</a>
<li><a href="SDL_SetTextureBlendMode.html">SDL_SetTextureBlendMode</a>
<li><a href="SDL_GetTextureBlendMode.html">SDL_GetTextureBlendMode</a>
</ul>
<h2>SDL Wikiへのリンク</h2>
<a href="https://wiki.libsdl.org/SDL3/SDL_ComposeCustomBlendMode">SDL_ComposeCustomBlendMode - SDL Wiki</a>
<hr>
</body>
</html>
